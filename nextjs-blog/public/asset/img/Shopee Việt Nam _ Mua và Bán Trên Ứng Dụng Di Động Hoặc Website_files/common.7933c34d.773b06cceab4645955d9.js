(window.miniJsonp=window.miniJsonp||[]).push([[21],{XnKn:function(e,t,n){var r,o,c,u;e.exports=(r=n("XzT5"),o=n("oAJy"),c=n("aslC"),u=n("oB4V"),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=24)}([function(e,t,n){"use strict";n.d(t,"p",(function(){return c})),n.d(t,"L",(function(){return u})),n.d(t,"H",(function(){return a})),n.d(t,"E",(function(){return i})),n.d(t,"u",(function(){return s})),n.d(t,"t",(function(){return d})),n.d(t,"fb",(function(){return f})),n.d(t,"K",(function(){return p})),n.d(t,"A",(function(){return l})),n.d(t,"I",(function(){return _})),n.d(t,"Z",(function(){return E})),n.d(t,"G",(function(){return r})),n.d(t,"vb",(function(){return o})),n.d(t,"v",(function(){return O})),n.d(t,"D",(function(){return b})),n.d(t,"F",(function(){return S})),n.d(t,"w",(function(){return h})),n.d(t,"M",(function(){return v})),n.d(t,"r",(function(){return P})),n.d(t,"P",(function(){return D})),n.d(t,"yb",(function(){return A})),n.d(t,"sb",(function(){return I})),n.d(t,"wb",(function(){return j})),n.d(t,"O",(function(){return w})),n.d(t,"e",(function(){return R})),n.d(t,"s",(function(){return x.a})),n.d(t,"hb",(function(){return x.b})),n.d(t,"Db",(function(){return x.f})),n.d(t,"Eb",(function(){return x.g})),n.d(t,"Cb",(function(){return x.e})),n.d(t,"Bb",(function(){return x.d})),n.d(t,"Fb",(function(){return x.h})),n.d(t,"Ab",(function(){return x.c})),n.d(t,"nb",(function(){return k})),n.d(t,"h",(function(){return U})),n.d(t,"i",(function(){return M})),n.d(t,"o",(function(){return N})),n.d(t,"n",(function(){return H})),n.d(t,"m",(function(){return V})),n.d(t,"J",(function(){return B})),n.d(t,"xb",(function(){return Y})),n.d(t,"S",(function(){return q})),n.d(t,"db",(function(){return Q})),n.d(t,"eb",(function(){return W})),n.d(t,"bb",(function(){return K})),n.d(t,"g",(function(){return z})),n.d(t,"tb",(function(){return J})),n.d(t,"B",(function(){return X})),n.d(t,"cb",(function(){return Z})),n.d(t,"Ib",(function(){return $})),n.d(t,"rb",(function(){return ee})),n.d(t,"qb",(function(){return te})),n.d(t,"d",(function(){return ne})),n.d(t,"W",(function(){return re.h})),n.d(t,"X",(function(){return re.i})),n.d(t,"R",(function(){return re.d})),n.d(t,"U",(function(){return re.f})),n.d(t,"lb",(function(){return re.k})),n.d(t,"Q",(function(){return re.c})),n.d(t,"V",(function(){return re.g})),n.d(t,"T",(function(){return re.e})),n.d(t,"Y",(function(){return re.j})),n.d(t,"x",(function(){return re.a})),n.d(t,"y",(function(){return re.b})),n.d(t,"jb",(function(){return oe})),n.d(t,"ib",(function(){return ce})),n.d(t,"a",(function(){return ue})),n.d(t,"c",(function(){return ae})),n.d(t,"b",(function(){return ie})),n.d(t,"kb",(function(){return se})),n.d(t,"z",(function(){return de})),n.d(t,"C",(function(){return fe})),n.d(t,"N",(function(){return pe})),n.d(t,"zb",(function(){return le})),n.d(t,"ub",(function(){return _e})),n.d(t,"j",(function(){return Ee})),n.d(t,"k",(function(){return Oe})),n.d(t,"l",(function(){return L})),n.d(t,"ab",(function(){return G})),n.d(t,"gb",(function(){return F})),n.d(t,"f",(function(){return be})),n.d(t,"ob",(function(){return Se})),n.d(t,"Gb",(function(){return he})),n.d(t,"Hb",(function(){return ve})),n.d(t,"pb",(function(){return Te})),n.d(t,"q",(function(){return ge})),n.d(t,"mb",(function(){return me}));var r,o,c={SG:"$",TH:"฿",VN:"₫",ID:"Rp",TW:"$",MY:"RM",PH:"₱",BR:"R$",IN:"₹",CN:"¥",MX:"$",CO:"$",CL:"$",AR:"$",PL:"zł",ES:"€",FR:"€",KR:"₩",US:"$"},u={MSG_TYPE_TEXT:"text",MSG_TYPE_IMAGE:"image",MSG_TYPE_OFFER:"offer",MSG_TYPE_PRODUCT:"product",MSG_TYPE_ORDER:"order",MSG_TYPE_STICKER:"sticker",MSG_TYPE_NOTIFICATION:"notification",MSG_TYPE_WEBVIEW:"webview",MSG_TYPE_RATE_CARDS:"rate_cards",MSG_TYPE_VOUCHER:"voucher",MSG_TYPE_FEED_STORY:"feed_story",MSG_TYPE_ITEM_LIST:"item_list",MSG_TYPE_SHOPPING_CART:"shopping_cart",MSG_TYPE_FAQ:"faq",MSG_TYPE_FAQ_QUESTION:"faq_question",MSG_TYPE_FAQ_FEEDBACK:"faq_feedback",MSG_TYPE_FAQ_LIVEAGENT:"faq_liveagent",MSG_TYPE_FAQ_UNSUPPORTED:"faq_unsupported",MSG_TYPE_FAQ_FEEDBACK_PROMPT:"faq_feedback_prompt",MSG_TYPE_FAQ_LIVEAGENT_PROMPT:"faq_liveagent_prompt",MSG_TYPE_UNTATED_ORDER_REMINDER:"unrated_order_reminder",MSG_TYPE_FLASH_SALE:"flash_sale",MSG_TYPE_BUNDLE_DEAL:"bundle_deal",MSG_TYPE_BUNDLE_MESSAGE:"bundle_message",MSG_TYPE_OPTION_PACK:"option_pack",MSG_TYPE_SELECTED_OPTION:"selected_option",MSG_TYPE_ADD_ON_DEAL:"add_on_deal",MSG_TYPE_VIDEO:"video",MSG_TYPE_IMAGE_WITH_TEXT:"image_with_text",MSG_TYPE_RATE_CARD:"rating_card",MSG_TYPE_NEW_FAQ:"new_faq",MSG_TYPE_FAQ_CATEGORY_CHOICE:"faq_category_choice",MSG_TYPE_FAQ_QUESTION_LIST:"faq_question_list",MSG_TYPE_FAQ_TYPE_CHOICE:"faq_type_choice",MSG_TYPE_FAQ_CATEGORY_LIST:"faq_category_list",MSG_TYPE_FAQ_TYPE_BOT_REQUEST_TEXT_MESSAGE:"faq_bot_request_text",MSG_TYPE_FAQ_TYPE_BOT_REQUEST_ORDER_MESSAGE:"faq_bot_request_order",FAQ_TYPE_BOT_RESPONSE_MESSAGE:"faq_bot_response",MSG_TYPE_SECURITY_TIPS:"security_tips"},a={SENDING:1,FAILED:2,SUCCEED:3},i={FORBIDDEN:28,LIMITING:29,CUSTOM_ERROR:42,BLACKLIST:43,CANCEL_ORDER:44,UNVERIFIED_PHONE_NUMBER:45,EXCEED_DAILY_LIMIT:26,UNTRUSTED_NETWORK:46,NEED_CAPTCHA:47,DFP_ERROR:48,SPAMMER:49,FAQ_EXPIRED:50,FAQ_SESSION_OLD:51,DEFAULT:-1},s={UNRATED:"unrated",RATED:"rated",EXPIRED:"expired",INVALID:"invalid"},d={RATED:"rating_card_rated",EXPIRED:"rating_card_expired"},f={UPCOMING:"upcoming",ONGOING:"ongoing",EXPIRED:"expired"},p={CENSORED_BLACKLIST:"censored_blacklist",NORMAL:"normal"},l=9,_={PERSONAL:1,TEAM:2},E=[u.MSG_TYPE_TEXT,u.MSG_TYPE_IMAGE,u.MSG_TYPE_VIDEO,u.MSG_TYPE_STICKER,u.MSG_TYPE_ORDER,u.MSG_TYPE_PRODUCT];!function(e){e[e.MSG_OPT_NORMAL=0]="MSG_OPT_NORMAL",e[e.MSG_OPT_AUTO_REPLY=1]="MSG_OPT_AUTO_REPLY",e[e.MSG_OPT_BLOCKED=2]="MSG_OPT_BLOCKED",e[e.MSG_OPT_CENSORED_BLACKLIST=16]="MSG_OPT_CENSORED_BLACKLIST",e[e.MSG_OPT_CENSORED_WHITELIST=32]="MSG_OPT_CENSORED_WHITELIST",e[e.MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER=64]="MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER",e[e.MSG_OPT_IGNORE_UNREAD_FOR_SENDER=128]="MSG_OPT_IGNORE_UNREAD_FOR_SENDER",e[e.MSG_OPT_INVISIBLE_FOR_RECEIVER=256]="MSG_OPT_INVISIBLE_FOR_RECEIVER",e[e.MSG_OPT_INVISIBLE_FOR_SENDER=512]="MSG_OPT_INVISIBLE_FOR_SENDER",e[e.MSG_OPT_ADS=1024]="MSG_OPT_ADS",e[e.MSG_OPT_FAQ_SESSION=2048]="MSG_OPT_FAQ_SESSION",e[e.MSG_OPT_TRIGGER_FAQ=4096]="MSG_OPT_TRIGGER_FAQ",e[e.MSG_OPT_SOCIAL_MESSAGE=8192]="MSG_OPT_SOCIAL_MESSAGE",e[e.MSG_OPT_OFFWORK_AUTOREPLY=16384]="MSG_OPT_OFFWORK_AUTOREPLY",e[e.MSG_OPT_CANCELORDER_WARNING_SENT=32768]="MSG_OPT_CANCELORDER_WARNING_SENT",e[e.MSG_OPT_CANCELORDER_WARNING_RETRACT=65536]="MSG_OPT_CANCELORDER_WARNING_RETRACT",e[e.MSG_OPT_CANCELORDER_WARNING_NOT_SEND=66496]="MSG_OPT_CANCELORDER_WARNING_NOT_SEND",e[e.MSG_OPT_CHATBOT_SESSION=131072]="MSG_OPT_CHATBOT_SESSION",e[e.MSG_OPT_TRIGGER_CHATBOT=262144]="MSG_OPT_TRIGGER_CHATBOT",e[e.MSG_OPT_PRIVATE_MESSAGE=524288]="MSG_OPT_PRIVATE_MESSAGE",e[e.MSG_OPT_SILENT_FOR_SENDER=1048576]="MSG_OPT_SILENT_FOR_SENDER",e[e.MSG_OPT_DELETE=2097152]="MSG_OPT_DELETE",e[e.MSG_OPT_RECALL=8388608]="MSG_OPT_RECALL"}(r||(r={})),function(e){e[e.bad=1]="bad",e[e.average=2]="average",e[e.good=3]="good"}(o||(o={}));var O={IMPROVED:1,WRONG:2,OFFENSIVE:4},b=156,S={FILLED:"filled",FILLING:"filling",FAILED:"failed"},h={PRELOADING:"preloading",FETCHING:"fetching"},v={REFER:"refer",TIME_NOW:"timeNow",PRELOADED:"preloaded"},T=n(1),g=n.n(T);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R,C={NORMAL:"normal",PENDING:"pending",SUCCEED:"succeed",FAILED:"failed"},P=y(y({},C),{},{INIT_PENDING:"pendingInit",INIT_FAILED:"failedInit",TEMPORY_ERROR:"temporyError"}),D=y(y({},C),{},{BLACKLIST_ERROR:"blacklistError",INTERNAL_SERVER_ERROR:"internalServerError"}),A={SUCCEED:"succeed",FORBIDDEN_ERROR:"forbidden",INTERNAL_SERVER_ERROR:"internalServerError",LOGOUT:"logout"},I={ENABLED:"enabled",DISABLED:"disabled",NO_PERSSION:"no_permission"},j={SUCCEED:"succeed",FAILED:"failed",HISTORY:"history",SHOW:"show",PENDING:"pending"},w={PENDING:"pending",ACCEPTED:"accepted",REJECTED:"rejected",CANCELLED:"cancelled"};!function(e){e[e.OFFLINE=-1]="OFFLINE",e[e.ONLINE=0]="ONLINE",e[e.HANGUP=1]="HANGUP"}(R||(R={}));var N,x=n(9),k={CONNECT:"connect",CONNECT_ERROR:"connect_error",DISCONNECT:"disconnect",RECONNECT_ATTEMPT:"reconnect_attempt",RECONNECT_ERROR:"reconnect_error",RECONNECTING:"reconnecting",RECONNECT:"reconnect"},U=50,M={PIN:"pin",UNPIN:"unpin",MARK_AS_READ:"mark_as_read",MARK_AS_UNREAD:"mark_as_unread",FORWARD:"forward"};!function(e){e[e.Normal=0]="Normal",e[e.Agent=1]="Agent"}(N||(N={}));var L,G,F,H={CUSTOMER:"customer",AGENT:"agent"},V={FILTER:1,SHOP:2,SHOP_LIST:3,SYNC:4,QUEUE:5,FAKING:6,LATEST:7,OLDER:8,DELETE:9,LOAD_MORE:10,SOCKET:11,PRELOAD:12},B={VIEW:1,FETCH:2,CLEAR_SEARCH:3,SHOW:4,SYNC:5,AUTO:6,SEND:7,UPDATE:8,CATCH:9},Y={PRELOAD:1,QUEUE:2,RECEIVE_TOTAL:3,RECEIVE_SINGLE:4,SYNC:5},q={MINE:"mine",HIS:"his"},Q={SOLD_OUT:-1,DELETED:0,NORMAL:1,REVIEWING:2,BANNED:3,INVALID:4,INVALID_HIDE:5,OFFENSIVE_HIDE:6,AUDITING:7,NORMAL_UNLIST:8,DELISTED:9},W={DELETED:"deleted",BANNED:"banned",NORMAL:"normal",SOLD_OUT:"sold_out",DELISTED:"delisted"},K={sales:"sold",recent:"mtime"},z={SALES:"sales",RECENT:"recent"},J={RELATED:"related",TOP_RATED:"top_rated",FREQUENTLY_BOUGHT_TOGETHER:"frequently_bought_together"},X=4,Z={ADD_ON_DEAL:"add_on_deal",BUNDLE_DEAL:"bundle_deal",CAMPAIGN:"campaign",FLASH_SALES:"flash_sales",GIFT_WITH_PURCHASE:"gift_with_purchase",SHOW_DISCOUNT:"show_discount"},$={ALL:"All",SELLER_RECOMMENDATION:"Seller_Recommendation",SYSTEM_RECOMMENDATION:"System_Recommendation"},ee={UNACCESSIBLE:"unaccessible",NONE:"none",UNALLOCATED:"unallocated"},te={MAIN_SUBACCOUNT:"main_subaccount",ADMIN_SUBACCOUNT:"admin_subaccount",NORMAL_SUBACCOUNT:"normal_subaccount"},ne={SELLER:"seller",SUBACCOUNT:"subaccount"},re=n(2),oe=-1,ce=0,ue=["image/png","image/jpeg","image/jpg"],ae=["video/*",".flv",".3gp",".rm",".rmvb",".asf",".mp4",".webm"],ie=["MP4","TS","FLV","WMV","ASF","RM","RMVB","MPG","MPEG","3GP","MOV","WEBM","AVI"],se=["application/vnd.rn-realmedia","application/vnd.rn-realmedia-vbr"],de=2097152,fe=31457280,pe="common.no_sc_access",le="conversation_detail.workstation.order_panel.manage",_e={CLICK:"click",IMPRESSION:"impression",ACTION_DRAG_VIDEO:"action_drag_video",DELETE_PREVIEW_MEDIA:"delete_preview_media",CLOSE_PREVIEW_MEDIA:"close_preview_media",ACTION_FINISH_VIDEO:"action_finish_video",VIEW:"view",ACTION_ADJUST_MESSAGE_SHORTCUT:"action_adjust_message_shortcut"},Ee={MESSAGE:1001,SOLUTION:1002},Oe={HEAD_HOTQUESTION_SOURCE:1,SHORTCUT_SOURCE:2,CATEGORY_HOTQUESTION_SOURCE:3,FAQ_RECOMMEND_SOURCE:4,KB_INTENT_SOURCE:5,LIVEAGENT_RECOMMENDER_SOURCE:6};!function(e){e.LandingPage="SIPDirectChatFromChatLandingPage",e.ProductPage="SIPProductPage",e.OrderPage="SIPOrderPageFromBuyer",e.ShopPage="SIPShopPage"}(L||(L={})),function(e){e[e.Faq=0]="Faq",e[e.Intent=1]="Intent"}(G||(G={})),function(e){e[e.Categories=0]="Categories",e[e.OtherFaqType=1]="OtherFaqType",e[e.Intent=2]="Intent",e[e.Question=3]="Question",e[e.ChatWithSeller=4]="ChatWithSeller"}(F||(F={}));var be={error:"error",success:"success",normal:"normal",warn:"warn",info:"info"},Se={pending:be.warn,error:be.error,resolved:be.success},he="conversation_detail.workstation.panel",ve="".concat(he,".product"),Te={USERID:"__chat_userid__",LAST_ACTIVE:"last-active-time",MINI_ALERT:"mini-should-show-alert"},ge={ACK:"ack",TAB_FOCUSED:"tabFocused",CALC_CONNECTIONS:"calcConnections",CLOSE_CONNECTION:"closeConnection",SHARE_API_DATA:"shareApiData"},me={UNREAD:"unread",UPDATE_SETTING:"updateSetting",UPDATE_OFFLINE_SETTING:"updateOfflineSetting"}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"i",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"k",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"e",(function(){return d})),n.d(t,"j",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return l}));var r={ALL:"all",UNPAID:"unpaid",TO_SHIP:"to_ship",SHIPPING:"shipping",COMPLETED:"completed",CANCELLED:"cancelled",REFUND:"refund"},o={all:0,unpaid:1,to_ship:2,shipping:3,completed:4,cancelled:5,refund:6},c={DELETE:0,UNRATED:1,RATED:2,RETURNED:3,RETURN_RATED:4,CANCEL:5},u={PAY_CREDIT_CARD:1,PAY_BANK_TRANSFER:2,PAY_OFFLINE_PAYMENT:3,PAY_IPAY88:4,PAY_FREE:5,PAY_COD:6,PAY_ESUN:7,PAY_BILL_PAYMENT:8,PAY_INDOMARET:13,PAY_KREDIVO:14,PAY_NICEPAY_CC:15,PAY_AIRPAY:18,PAY_SHOPEE_WALLET:20,PAY_SHOPEE_WALLET_V2:27,PAY_AKULAKU:21,PAY_INSTALLMENT:23,PAY_IBANKING:29},a=[{cancel_reason_code:1,transify_key:"common.order.cancel_reason.out_of_stock"},{cancel_reason_code:3,transify_key:"common.order.cancel_reason.undeliverable_area"}],i={NONE:0,OUT_OF_STOCK:1,CUSTOMER_REQUEST:2,UNDELIVERABLE_AREA:3,CANNOT_SUPPORT_COD:4,LOST_PARCEL:5,SYSTEM_UNPAID:100,SYSTEM_UNDERPAID:101,SYSTEM_PAYMENT_REJECTED:102,LOGISTICS_REQUEST_CANCELED:200,LOGISTICS_PICKUP_FAILED:201,LOGISTICS_DELIVERY_FAILED:202,LOGISTICS_COD_REJECTED:203,BACKEND_LOGISTICS_NOT_STARTED:204,BACKEND_ESCROW_TERMINATED:300,BACKEND_INACTIVE_SELLER:301,BACKEND_SELLER_DID_NOT_SHIP:302,RULE_ENGINE_AUTO_CANCEL:400},s={ORDER_EXT_DELETE:0,ORDER_EXT_UNPAID:1,ORDER_EXT_PAID:2,ORDER_EXT_SHIPPED:3,ORDER_EXT_COMPLETED:4,ORDER_EXT_INVALID:6,ORDER_EXT_CANCEL_PROCESSING:7,ORDER_EXT_CANCEL_COMPLETED:8,ORDER_EXT_RETURN_PROCESSING:9,ORDER_EXT_RETURN_COMPLETED:10,ORDER_EXT_ESCROW_PAID:11,ORDER_EXT_ESCROW_CREATED:12,ORDER_EXT_ESCROW_PENDING:13,ORDER_EXT_ESCROW_VERIFIED:14,ORDER_EXT_ESCROW_PAYOUT:15,ORDER_EXT_CANCEL_PENDING:16},d={PAID:1,UNPAID:2,COMPLETED:3,CANCELLED:4,SHIPPED:5,ALL:6,TOSHIP:7,TORECEIVE:8,TOPAY:9,TOSHIP_UNPROCESSED:10,TOSHIP_PROCESSED:11,RETURN:12,GROUP_BUY_ALL:13,GROUP_BUY_ONGOING:14,GROUP_BUY_COMPLETED:15,GROUP_BUY_INVALID:16},f={UNKNOWN:0,SIMPLE:1,ESCROW:2},p={ORDER_DETAIL_SHIPPING_CONFIRMED:2,ORDER_DETAIL_SHIPPED:4,ORDER_DETAIL_RECEIVED:5,ORDER_DETAIL_CANCELED:6,ORDER_DETAIL_NOTIFY_SHIP:7},l={LOGISTICS_NOT_STARTED:0,LOGISTICS_REQUEST_CREATED:1,LOGISTICS_PICKUP_DONE:2,LOGISTICS_PICKUP_RETRY:3,LOGISTICS_PICKUP_FAILED:4,LOGISTICS_DELIVERY_DONE:5,LOGISTICS_DELIVERY_FAILED:6,LOGISTICS_REQUEST_CANCELED:7,LOGISTICS_COD_REJECTED:8,LOGISTICS_READY:9,LOGISTICS_INVALID:10,LOGISTICS_LOST:11,LOGISTICS_PENDING_ARRANGE:12}},function(e,t,n){"use strict";n.d(t,"k",(function(){return r.a})),n.d(t,"p",(function(){return r.c})),n.d(t,"mc",(function(){return r.g})),n.d(t,"Lb",(function(){return r.d})),n.d(t,"n",(function(){return r.b})),n.d(t,"Xb",(function(){return r.f})),n.d(t,"Qb",(function(){return r.e})),n.d(t,"E",(function(){return u})),n.d(t,"g",(function(){return i})),n.d(t,"y",(function(){return s})),n.d(t,"C",(function(){return d})),n.d(t,"Mb",(function(){return f})),n.d(t,"jc",(function(){return p})),n.d(t,"c",(function(){return l.a})),n.d(t,"J",(function(){return l.b})),n.d(t,"qc",(function(){return l.c})),n.d(t,"tc",(function(){return _.e})),n.d(t,"A",(function(){return _.a})),n.d(t,"Y",(function(){return _.c})),n.d(t,"rc",(function(){return _.d})),n.d(t,"I",(function(){return _.b})),n.d(t,"K",(function(){return m})),n.d(t,"Eb",(function(){return y})),n.d(t,"M",(function(){return R})),n.d(t,"i",(function(){return C.a})),n.d(t,"sc",(function(){return C.d})),n.d(t,"Db",(function(){return C.c})),n.d(t,"yb",(function(){return C.b})),n.d(t,"hc",(function(){return P})),n.d(t,"B",(function(){return D})),n.d(t,"pc",(function(){return A})),n.d(t,"dc",(function(){return I})),n.d(t,"v",(function(){return x})),n.d(t,"w",(function(){return k})),n.d(t,"o",(function(){return U})),n.d(t,"u",(function(){return M})),n.d(t,"t",(function(){return L})),n.d(t,"s",(function(){return G})),n.d(t,"m",(function(){return F})),n.d(t,"l",(function(){return H})),n.d(t,"d",(function(){return Y})),n.d(t,"cb",(function(){return q})),n.d(t,"lc",(function(){return Q})),n.d(t,"ic",(function(){return W})),n.d(t,"ec",(function(){return K})),n.d(t,"V",(function(){return z.c})),n.d(t,"gc",(function(){return z.l})),n.d(t,"fc",(function(){return z.k})),n.d(t,"Rb",(function(){return z.g})),n.d(t,"Vb",(function(){return z.i})),n.d(t,"Sb",(function(){return z.h})),n.d(t,"jb",(function(){return z.f})),n.d(t,"eb",(function(){return z.e})),n.d(t,"Z",(function(){return z.d})),n.d(t,"cc",(function(){return z.j})),n.d(t,"S",(function(){return z.a})),n.d(t,"T",(function(){return z.b})),n.d(t,"vc",(function(){return J.e})),n.d(t,"uc",(function(){return J.d})),n.d(t,"ib",(function(){return J.c})),n.d(t,"X",(function(){return J.b})),n.d(t,"wc",(function(){return J.f})),n.d(t,"D",(function(){return J.a})),n.d(t,"Tb",(function(){return X.y})),n.d(t,"ac",(function(){return X.z})),n.d(t,"bc",(function(){return X.A})),n.d(t,"zb",(function(){return X.q})),n.d(t,"xb",(function(){return X.p})),n.d(t,"O",(function(){return X.d})),n.d(t,"db",(function(){return X.g})),n.d(t,"L",(function(){return X.b})),n.d(t,"wb",(function(){return X.o})),n.d(t,"qb",(function(){return X.j})),n.d(t,"P",(function(){return X.e})),n.d(t,"hb",(function(){return X.i})),n.d(t,"W",(function(){return X.f})),n.d(t,"Fb",(function(){return X.u})),n.d(t,"nc",(function(){return X.B})),n.d(t,"oc",(function(){return X.C})),n.d(t,"xc",(function(){return X.D})),n.d(t,"Jb",(function(){return X.w})),n.d(t,"Ib",(function(){return X.v})),n.d(t,"Cb",(function(){return X.t})),n.d(t,"h",(function(){return X.a})),n.d(t,"Ab",(function(){return X.r})),n.d(t,"Bb",(function(){return X.s})),n.d(t,"ub",(function(){return X.m})),n.d(t,"tb",(function(){return X.l})),n.d(t,"vb",(function(){return X.n})),n.d(t,"sb",(function(){return X.k})),n.d(t,"gb",(function(){return X.h})),n.d(t,"Kb",(function(){return X.x})),n.d(t,"N",(function(){return X.c})),n.d(t,"Zb",(function(){return ee})),n.d(t,"Yb",(function(){return re})),n.d(t,"a",(function(){return ue})),n.d(t,"rb",(function(){return ae})),n.d(t,"bb",(function(){return se})),n.d(t,"kb",(function(){return de})),n.d(t,"ab",(function(){return Ee})),n.d(t,"lb",(function(){return Oe})),n.d(t,"kc",(function(){return be})),n.d(t,"F",(function(){return Se})),n.d(t,"nb",(function(){return he.f})),n.d(t,"mb",(function(){return he.e})),n.d(t,"ob",(function(){return he.g})),n.d(t,"R",(function(){return he.c})),n.d(t,"Q",(function(){return he.b})),n.d(t,"fb",(function(){return he.d})),n.d(t,"x",(function(){return he.a})),n.d(t,"pb",(function(){return Te})),n.d(t,"q",(function(){return ge})),n.d(t,"Ub",(function(){return me})),n.d(t,"Wb",(function(){return ye})),n.d(t,"r",(function(){return Re})),n.d(t,"f",(function(){return Ce})),n.d(t,"b",(function(){return Pe})),n.d(t,"e",(function(){return De})),n.d(t,"z",(function(){return Ie})),n.d(t,"G",(function(){return je})),n.d(t,"U",(function(){return we})),n.d(t,"H",(function(){return xe})),n.d(t,"Nb",(function(){return ke})),n.d(t,"yc",(function(){return Ue.c})),n.d(t,"zc",(function(){return Ue.d})),n.d(t,"Gb",(function(){return Ue.a})),n.d(t,"Hb",(function(){return Ue.b})),n.d(t,"Pb",(function(){return Ge})),n.d(t,"Ob",(function(){return Fe})),n.d(t,"j",(function(){return He.changeLanguage}));var r=n(18),o=n(10),c=n.n(o);function u(e){var t=new Uint16Array(e.length);return Array.prototype.forEach.call(t,(function(t,n,r){r[n]=e.charCodeAt(n)})),window.encodeURIComponent(window.btoa(String.fromCharCode.apply(null,new Uint8Array(t.buffer))))}var a,i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/_([a-z])/g,(function(e,t){return t.toUpperCase()}))},s=function(e){for(var t=window.atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),o=new Uint8Array(r),c=0;c<t.length;c++)o[c]=t.charCodeAt(c);return new window.Blob([o],{type:n})},d=function e(t,n){var r=JSON.parse(JSON.stringify(t));for(var o in n)r[o]=r[o]&&"[object Object]"===r[o].toString()?e(r[o],n[o]):n[o];return r},f=function(e){return e>=1e3?"999+":e},p=function(e,t){var n=c()(e),r=n.indexOf(t);return r>-1&&n.splice(r,1),n},l=n(14),_=n(11),E=n(4),O=n.n(E),b=function(e){return 0===e||1===e?"one":e>=1e6?"many":"other"},S=function(e){return 1===e?"one":Number.isInteger(e)?[2,3,4].includes(e%10)&&![12,13,14].includes(e%100)?"few":![2,3,4].includes(e%10)||[12,13,14].includes(e%100)?"many":"other":"other"},h=function(e){return e<=1?"one":"other"},v={fr:b,pl:S,default:h},T={fr:function(e,t){return"".concat(b(e),".").concat(b(t))},pl:function(e,t){return"".concat(S(e),".").concat(S(t))},default:function(e,t){return"".concat(h(e),"_").concat(h(t))}},g=["fr","pl"],m=function(e,t,n){var r=O.a.language||"en",o=g.includes(r)?r:"default";return void 0!==n?"".concat(e,"_").concat(T[o](t,n)):"".concat(e,"_").concat(v[o](t))},y=function(e,t){var n=t||window.location.search,r=null;if(n){var o=n.indexOf("?")+1,c=new RegExp("(^|&)"+e+"=([^&]*)(&|$)");r=n.substr(o).match(c)}return r?unescape(r[2]):null},R=function(){var e=navigator.userAgent.toLowerCase(),t=null;return e.indexOf("msie")>0&&(t=e.match(/msie [\d.]+;/gi)),e.indexOf("firefox")>0&&(t=e.match(/firefox\/[\d.]+/gi)),e.indexOf("safari")>0&&e.indexOf("chrome")<0&&(t=e.match(/safari\/[\d.]+/gi)),e.indexOf("chrome")>0&&(t=e.match(/chrome\/[\d.]+/gi)),t?t.toString():"unknown"},C=n(8),P=function(e){var t=e.access,n=e.isSubAccount,r=e.action,o=e.url,c=void 0===o?"":o;t&&(n?r():window.open().location=c)},D=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,o=Date.now();return function(){for(var c=arguments.length,u=new Array(c),a=0;a<c;a++)u[a]=arguments[a];t&&(clearTimeout(t),t=null);var i=Date.now();i-o>r?(e.apply(void 0,u),o=Date.now()):t=window.setTimeout((function(){e.apply(void 0,u),o=Date.now()}),n)}},A=function(e,t){var n,r,o,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=null,a=0,i=function(){a=!1===c.leading?0:(new Date).getTime(),u=null,o=e.apply(n,r),u||(n=r=null)},s=function(){var s=(new Date).getTime();a||!1!==c.leading||(a=s);var d=t-(s-a);n=this;for(var f=arguments.length,p=new Array(f),l=0;l<f;l++)p[l]=arguments[l];return r=p,d<=0||d>t?(u&&(clearTimeout(u),u=null),a=s,o=e.apply(n,r),u||(n=r=null)):u||!1===c.trailing||(u=window.setTimeout(i,d)),o};return s},I=function(e,t){var n=0;return{check:function(){for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return e.apply(void 0,c()(o))?n+=1:this.reset(),n>=t&&(this.reset(),!0)},reset:function(){n=0}}},j="Auto-Translation",w="modal",N=function(e,t){var n=t.superType,r=t.secondaryType,o=e.find((function(e){return e.name===n}));if(o){var c=o.children;return c.length&&c.find((function(e){return e.name===r}))||!1}return!1},x=function(e){return N(e,{superType:j,secondaryType:w})},k=function(e){return N(e,{superType:j,secondaryType:"settings"})},U=function(e){return N(e,{superType:"Mass-Tool",secondaryType:w})},M=function(e){return N(e,{superType:"SearchV3",secondaryType:w})},L=function(e){return N(e,{superType:"Reply",secondaryType:w})},G=function(e){return N(e,{superType:"Region-Filter",secondaryType:w})},F=function(e){return N(e,{superType:"MiniChat-Header",secondaryType:w})},H=function(e){return N(e,{superType:"MiniChat-Entry",secondaryType:w})},V=n(6),B=n.n(V),Y={getItem:function(e,t){try{var n=window.localStorage.getItem(e);return null==n?n:t?JSON.parse(n):n}catch(e){console.warn("*** LocalStorage Error: Can not get LocalStorage *** \n".concat(e))}},setItem:function(e,t,n){try{var r=n?JSON.stringify(t):t;window.localStorage.setItem(e,r)}catch(e){console.warn("*** LocalStorage Error: Can not set LocalStorage *** \n".concat(e))}},removeItem:function(e){try{window.localStorage.removeItem(e)}catch(e){console.warn("*** LocalStorage Error: Can not remove LocalStorage *** \n".concat(e))}}},q=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?Y.getItem(e):B.a.getItem(e)},Q=function(e,t){return B.a.setItem(e,t)},W=function(e,t){return t?Y.removeItem(e):B.a.removeItem(e)},K=B.a.supports(B.a.INDEXEDDB)||B.a.supports(B.a.WEBSQL)?1e3:100,z=n(5),J=n(20),X=n(15),Z=n(0),$=[Z.L.MSG_TYPE_TEXT,Z.L.MSG_TYPE_IMAGE,Z.L.MSG_TYPE_VIDEO,Z.L.MSG_TYPE_STICKER],ee=function(e){return $.includes(e)},te=[Z.G.MSG_OPT_TRIGGER_FAQ,Z.G.MSG_OPT_FAQ_SESSION,Z.G.MSG_OPT_CANCELORDER_WARNING_NOT_SEND],ne=[Z.L.MSG_TYPE_TEXT,Z.L.MSG_TYPE_IMAGE,Z.L.MSG_TYPE_VIDEO,Z.L.MSG_TYPE_STICKER,Z.L.MSG_TYPE_ITEM_LIST,Z.L.MSG_TYPE_SHOPPING_CART,Z.L.MSG_TYPE_UNTATED_ORDER_REMINDER,Z.L.MSG_TYPE_ADD_ON_DEAL,Z.L.MSG_TYPE_VOUCHER,Z.L.MSG_TYPE_BUNDLE_DEAL,Z.L.MSG_TYPE_FLASH_SALE,Z.L.MSG_TYPE_OFFER,Z.L.MSG_TYPE_ORDER,Z.L.MSG_TYPE_PRODUCT,Z.L.MSG_TYPE_IMAGE_WITH_TEXT],re=function(e,t){var n=e.type,r=e.send_status,o=e.errorCode,c=e.status,u=e.message_option;if(!t){var a=ne.includes(n)&&!te.find((function(e){return Object(z.g)(u,e)})),i=r!==Z.H.SENDING&&r!==Z.H.FAILED&&c!==Z.K.CENSORED_BLACKLIST&&o!==Z.E.BLACKLIST;if(a&&i){var s=(e||{}).textContent,d=void 0===s?{}:s;if(n===Z.L.MSG_TYPE_ORDER)return!(!d||!d.id);if(n===Z.L.MSG_TYPE_PRODUCT){var f=d,p=f.id,l=f.actual_price;return!(!p||!l)}return!0}}return!1},oe=n(1),ce=n.n(oe),ue=(a={},ce()(a,Z.L.MSG_TYPE_TEXT,0),ce()(a,Z.L.MSG_TYPE_IMAGE,1),ce()(a,Z.L.MSG_TYPE_OFFER,3),ce()(a,Z.L.MSG_TYPE_PRODUCT,4),ce()(a,Z.L.MSG_TYPE_ORDER,5),ce()(a,Z.L.MSG_TYPE_STICKER,6),ce()(a,Z.L.MSG_TYPE_VIDEO,18),ce()(a,Z.L.MSG_TYPE_ITEM_LIST,1011),ce()(a,Z.L.MSG_TYPE_VOUCHER,1013),ce()(a,Z.L.MSG_TYPE_SHOPPING_CART,1014),ce()(a,Z.L.MSG_TYPE_UNTATED_ORDER_REMINDER,1015),ce()(a,Z.L.MSG_TYPE_BUNDLE_DEAL,1016),ce()(a,Z.L.MSG_TYPE_FLASH_SALE,1017),ce()(a,Z.L.MSG_TYPE_ADD_ON_DEAL,1018),a),ae=function(e){return void 0!==ue[e]?ue[e]:-1},ie=[Z.G.MSG_OPT_AUTO_REPLY,Z.G.MSG_OPT_BLOCKED,Z.G.MSG_OPT_CENSORED_BLACKLIST,Z.G.MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER,Z.G.MSG_OPT_IGNORE_UNREAD_FOR_SENDER,Z.G.MSG_OPT_INVISIBLE_FOR_RECEIVER,Z.G.MSG_OPT_INVISIBLE_FOR_SENDER,Z.G.MSG_OPT_ADS,Z.G.MSG_OPT_FAQ_SESSION,Z.G.MSG_OPT_TRIGGER_FAQ,Z.G.MSG_OPT_OFFWORK_AUTOREPLY,Z.G.MSG_OPT_CANCELORDER_WARNING_RETRACT,Z.G.MSG_OPT_CHATBOT_SESSION,Z.G.MSG_OPT_TRIGGER_CHATBOT,Z.G.MSG_OPT_PRIVATE_MESSAGE,Z.G.MSG_OPT_SILENT_FOR_SENDER],se=function(e,t,n){var r=e.type,o=e.send_status,c=e.created_timestamp,u=e.message_option,a=!0;return t&&Z.Z.includes(r)&&![Z.H.SENDING,Z.H.FAILED].includes(o)&&!Object(z.h)(u,ie)||(a=!1),(!n||Math.floor((new Date).getTime()/1e3)-c>=n)&&(a=!1),a},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isAgent,r=t.to_tob_user_id,o=t.shop_id,c=e.from_id,u=e.to_shop_id;return n?c!==r:u!==o};function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){ce()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var le,_e=function(e,t){return t.map((function(t){return function(e,t){return 1e4*function(e,t){var n=t.trim().toLocaleLowerCase();return e.filter((function(e){return e.trim().toLocaleLowerCase().startsWith(n)})).length}(e.tags,t)+1*function(e,t){var n=Se(t),r=new RegExp(n,"gi");return(e.match(r)||[]).length}(e.content,t)}(e,t)})).reduce((function(e,t){return e+t}),0)},Ee=function(e){return e.trim().length>=1},Oe=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t)return e.trim()?[e]:[];var n=e.split(",").filter((function(e){return e.trim()})),r=c()(new Set(n));return r.sort((function(e,t){return e.length>t.length?-1:1}))},be=function(e,t){return t.length?function(e){return e.sort((function(e,t){return e.weight>t.weight?-1:1}))}(function(e){return e.filter((function(e){return e.weight}))}(e.map((function(e){return pe(pe({},e),{},{weight:_e(e,t)})})))):e},Se=function(e){return e.replace(/[.[\]{}()+?*^\\$?]/g,"\\$&")},he=n(21),ve=(le={},ce()(le,Z.db.DELETED,Z.eb.DELETED),ce()(le,Z.db.BANNED,Z.eb.BANNED),ce()(le,Z.db.SOLD_OUT,Z.eb.SOLD_OUT),ce()(le,Z.db.DELISTED,Z.eb.DELISTED),le),Te=function(e){return e===Z.db.NORMAL?"conversation_detail.conversation_origin.product_origin.product_stock":"common.product.".concat(ve[e])},ge=function(e,t){return!(!e||t!==Z.db.DELETED)},me=function(e){return void 0!==e&&e!==Z.db.NORMAL},ye=function(e){return void 0!==e&&e<=0},Re=function(e,t){return me(e)||ye(t)},Ce=1e3,Pe=1800,De=86400,Ae=[De,3600,60],Ie=function(e){var t=e,n=Ae.map((function(e){var n=t>e?Math.floor(t/e):0;return t-=n*e,n}));return n.push(t),n},je=function(e){return"".concat(e>=10?"":"0").concat(e)},we=function(){return Math.ceil(Date.now()/1e3).toString()},Ne=["zh-CN","zh-Hant","zh-Hans"],xe=function(e){var t=O.a.language||"en",n=Object(C.d)(t);return Ne.includes(n)?((100-e)/10).toFixed(e%10?1:0):"".concat(e,"%")},ke=function(e,t,n,r,o){return r||t?e:e||o&&!!n},Ue=n(22);function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){ce()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ge=function(e,t,n){var r=e.categories,o=void 0===r?[]:r,c=e.other_faq_types,u=void 0===c?[]:c,a=e.intents,i=void 0===a?[]:a,s=e.questions,d=void 0===s?[]:s,f=[];return o.length&&o.forEach((function(e,n){f.push(Fe({item:e,index:n,type:Z.gb.Categories,isNewFaq:t}))})),u.length&&u.forEach((function(e,r){f.push(Fe({item:e,index:r+o.length,type:Z.gb.OtherFaqType,isNewFaq:t,locale:n}))})),i.length&&i.forEach((function(e,n){f.push(Fe({item:e,index:n+o.length+u.length,type:Z.gb.Intent,isNewFaq:t}))})),d.length&&d.forEach((function(e,n){f.push(Fe({item:e,index:n,type:Z.gb.Question,isNewFaq:t}))})),f},Fe=function(e){var t=e.item,n=e.index,r=e.type,o=e.isNewFaq,c=e.locale,u={};switch(r){case Z.gb.Categories:u={content:t.title,location:n};break;case Z.gb.OtherFaqType:u={content:Object(z.e)(t.faq_type_choice_translation,c),location:n};break;case Z.gb.Intent:var a=t;u=Le(Le({},JSON.parse(a.pass_through_data)),{},{content:a.text,location:n});break;case Z.gb.Question:u={content:t.text,location:n};break;case Z.gb.ChatWithSeller:u={content:t.content}}return{data:JSON.stringify(Le(Le({},u),{},{is_intent_prediction:r===Z.gb.Intent?Z.ab.Intent:Z.ab.Faq,is_default_hq:o?1:0})),type:1}},He=n(7)},function(e,t){e.exports=r},function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return W})),n.d(t,"l",(function(){return K})),n.d(t,"k",(function(){return ee})),n.d(t,"g",(function(){return te})),n.d(t,"i",(function(){return ne})),n.d(t,"h",(function(){return re})),n.d(t,"f",(function(){return oe})),n.d(t,"e",(function(){return ce})),n.d(t,"d",(function(){return ue})),n.d(t,"j",(function(){return ae})),n.d(t,"a",(function(){return ie})),n.d(t,"b",(function(){return se}));var r,o=n(1),c=n.n(o),u=n(0),a=n(8);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=u.L.MSG_TYPE_TEXT,f=u.L.MSG_TYPE_IMAGE,p=u.L.MSG_TYPE_OFFER,l=u.L.MSG_TYPE_PRODUCT,_=u.L.MSG_TYPE_ORDER,E=u.L.MSG_TYPE_STICKER,O=u.L.MSG_TYPE_NOTIFICATION,b=u.L.MSG_TYPE_WEBVIEW,S=u.L.MSG_TYPE_VOUCHER,h=u.L.MSG_TYPE_ITEM_LIST,v=u.L.MSG_TYPE_FAQ,T=u.L.MSG_TYPE_FAQ_QUESTION,g=u.L.MSG_TYPE_FAQ_LIVEAGENT,m=u.L.MSG_TYPE_FAQ_FEEDBACK,y=u.L.MSG_TYPE_SHOPPING_CART,R=u.L.MSG_TYPE_FAQ_UNSUPPORTED,C=u.L.MSG_TYPE_FAQ_FEEDBACK_PROMPT,P=u.L.MSG_TYPE_FAQ_LIVEAGENT_PROMPT,D=u.L.MSG_TYPE_UNTATED_ORDER_REMINDER,A=u.L.MSG_TYPE_BUNDLE_MESSAGE,I=u.L.MSG_TYPE_BUNDLE_DEAL,j=u.L.MSG_TYPE_FLASH_SALE,w=u.L.MSG_TYPE_OPTION_PACK,N=u.L.MSG_TYPE_SELECTED_OPTION,x=u.L.MSG_TYPE_VIDEO,k=u.L.MSG_TYPE_RATE_CARDS,U=u.L.MSG_TYPE_IMAGE_WITH_TEXT,M=u.L.MSG_TYPE_RATE_CARD,L=u.L.MSG_TYPE_NEW_FAQ,G=u.L.MSG_TYPE_FAQ_CATEGORY_CHOICE,F=u.L.MSG_TYPE_FAQ_QUESTION_LIST,H=u.L.MSG_TYPE_FAQ_TYPE_CHOICE,V=u.L.MSG_TYPE_FAQ_CATEGORY_LIST,B=u.L.MSG_TYPE_FAQ_TYPE_BOT_REQUEST_TEXT_MESSAGE,Y=u.L.MSG_TYPE_FAQ_TYPE_BOT_REQUEST_ORDER_MESSAGE,q=u.L.FAQ_TYPE_BOT_RESPONSE_MESSAGE,Q=(r={},c()(r,u.L.MSG_TYPE_FAQ_LIVEAGENT,"faq.live_agent"),c()(r,u.L.MSG_TYPE_FAQ_UNSUPPORTED,"faq.new_unsupport_input"),c()(r,u.L.MSG_TYPE_FAQ_FEEDBACK_PROMPT,"faq.feedback_prompt"),c()(r,u.L.MSG_TYPE_FAQ_LIVEAGENT_PROMPT,"faq.new_live_agent_prompt"),c()(r,u.L.MSG_TYPE_VIDEO,"conversation_detail.input_field.toolbar.video.tip"),c()(r,u.L.MSG_TYPE_IMAGE_WITH_TEXT,"conversation_list.conversation_cell.new_image_message"),r),W=function(t){return e(Q[t]||"common.unsupported_message")},K=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch(!0){case t.includes(k):return"[".concat(e("conversation_list.conversation_cell.new_evaluation_message"),"]");default:return e("common.unsupported_message")}},z=[d,g,T,m,N,w,G,B],J=[h],X=[x,R,C,P,U],Z=[f,p,l,_,E,O,S,y,D,I,j,A,M,Y],$=[F,H,V],ee=function(t,n,r,o){if(!t)return e("common.unsupported_message");var c=t.type,a=t.content,i=t.crm_message_preview,s=void 0===i?{}:i,f=t.message_option;if(s.text)return s.text;if(null!=a&&a.preview_text&&c===q)return a.preview_text;if(te(f,u.G.MSG_OPT_CENSORED_BLACKLIST))return e("common.blacklist.replaced_text");if(!c)return e("common.unsupported_message");var p=a||{},l=p.url,_=p.text,E=void 0===_?"":_,O=p.title,S=p.type,h=void 0===S?"":S,T=p.opening,g=p.live_agent_text,m=void 0===g?[]:g,y=p.caption;if(c===v||c===L)return T||e("faq.no_set.chat_bot_title");if(c===b)return"".concat(K(h||l));if(z.includes(c)){if(c===d){var R=t||{},C=R.source,P=R.message_option,D=R.send_status,A=R.request_id,I=ue(a);if(!n||I||P===u.G.MSG_OPT_SOCIAL_MESSAGE||["crm","proactive_update"].includes(C)||2===D)return E;var j=(a||{}).translation;return j&&j.text?j.text:r?e("chat_list.preview.translate_failed"):A?E:e("chat_list.preview.translate_failed")}return E||O}if(!X.includes(c)){if($.includes(c)){var w=a||{},N=w.fixed_title,k=w.faq_type_choice_translation;return ce(c===H?k:N,o)}var M=Z.includes(c)?c:J.includes(c)?"product":"",G=M&&"conversation_list.conversation_cell.new_".concat(M,"_message");return G?"[".concat(e(G),"]"):e("common.unsupported_message")}var F=m.length?ce(m,o):W(c);switch(c){case x:return"[".concat(F,"]");case U:return"[".concat(F,"] ").concat(y||O||E);default:return F}},te=function(e,t){return(e&t)===t},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return te(e.message_option,u.G.MSG_OPT_DELETE)},re=function(e,t){return t.some((function(t){return te(e,t)}))},oe=function(e,t){return e===b&&t.type===k||e===M},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=e.find((function(e){return Object(a.c)(t).toLocaleLowerCase().includes(e.lang.toLocaleLowerCase())}))||e.find((function(e){return"en"===e.lang}));return(n||{}).text},ue=function(e){var t=e||{},n=t.translation,r=t.mid;if(!n)return!0;var o=(void 0===r?{}:r).source_language,c=void 0===o?"":o,u=n||{},a=u.final,i=u.mid,s=u.target_language,d=void 0===s?"":s,f=u.source_language,p=void 0===f?"":f,l=a?a.target_language:d,_=a?a.source_language:p,E=i?i.source_language:c;return E?E===l:_===l&&"unknown"!==_},ae=function(e,t){return{type:u.L.MSG_TYPE_SECURITY_TIPS,content:{text:""},id:e,conversation_id:t,to_id:"",from_id:"",shop_id:"",created_timestamp:Math.floor((new Date).getTime()/1e3)}},ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.updateMaxGeneralOptionHideTime,r=void 0===n||n,o=t.updateMessageOption,c=void 0===o||o,u=e||{},a=u.created_timestamp,i=u.message_option,d=r?{max_general_option_hide_time:a}:{},f=c?{last_message_option:i}:{};return s(s({},d),f)},se=function(e){var t=e.crm_message_preview,n=void 0===t?{}:t;return n.text?{crm_message_preview:n}:{crm_message_preview:{}}}}).call(this,n(7).t)},function(e,t){e.exports=o},function(e,t,n){"use strict";n.r(t),n.d(t,"changeLanguage",(function(){return i})),n.d(t,"t",(function(){return s}));var r=n(4),o=n.n(r),c=n(15),u=!1,a=function(e,t){u=!0;var n=t||Object(c.k)();o.a.init({lng:n,fallbackLng:n,defaultNS:"common",keySeparator:!1,debug:!1,resources:e&&e.resources||{},interpolation:{prefix:"{",suffix:"}",escapeValue:!1},react:{wait:!1,bindI18n:"languageChanged loaded",bindStore:"added removed",nsMode:"default"}})},i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common";u||a({resources:{}},e),o.a.changeLanguage(e),o.a.addResourceBundle(e,n,t,!0,!0)},s=o.a.t.bind(o.a)},function(e,t,n){"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,c=function(){};return{s:c,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,u=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw u}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return p}));var c=["hans","hant"],u=["en","zh-hans","zh-hant","ms-my","th-th","vi-vn","id-id","zh-cn","pt-br","hi","es-mx","es-co","es-cl","es-es","es-ar","pl","fr"],a=function(e){return"".concat(e[0].toUpperCase()).concat(e.substring(1))},i=function(e){if(e.includes("-")){var t=e.split("-");return c.includes(t[1])?"".concat(t[0],"-").concat(a(t[1])):"".concat(t[0],"-").concat(t[1].toUpperCase())}return e},s=function(e){var t,n=(e||"en").toLowerCase(),o="en",c=r(u);try{for(c.s();!(t=c.n()).done;){var a=t.value;if(a.includes(n)){o=i(a);break}}}catch(e){c.e(e)}finally{c.f()}return o},d=function(e){var t=s(e);switch(t){case"th-TH":return"th";case"vi-VN":return"vi";case"id-ID":return"id";default:return t}},f={en:"default","ms-MY":"ms-my","th-TH":"th","zh-Hans":"tw","zh-Hant":"tw","vi-VN":"vn","id-ID":"id","zh-CN":"cn","pt-BR":"pt-br",hi:"hi","es-MX":"es-mx","es-CO":"es-co","es-CL":"es-cl",pl:"pl","es-ES":"es-es",fr:"fr","es-AR":"es-ar"},p=function(e){var t=s(e);return f[t]||"default"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return l})),n.d(t,"h",(function(){return _})),n.d(t,"c",(function(){return E}));var r,o=n(1),c=n.n(o);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i={AMOUNT:"amount",PERCENTAGE:"percentage"},s={DISCOUNT:"discount",COIN_CASHBACK:"coin_cashback"},d={ONGOING:"ongoing",SCHEDULED:"scheduled"},f=(r={},c()(r,d.ONGOING,0),c()(r,d.SCHEDULED,1),r),p=a(a({},d),{},{FINISHED:"finished"}),l={USED:"used",EXPIRED:"expired",REDEEM:"redeem"},_={ITEM:"item",SHOP:"shop"},E={DETAILS:"details",CLAIM:"claim",USE:"use"}},function(e,t,n){var r=n(26),o=n(27),c=n(28),u=n(29);e.exports=function(e){return r(e)||o(e)||c(e)||u()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return _}));var r,o,c,u=n(23),a=new(n.n(u).a),i=function(e){return a.locale.set(e)};!function(e){e.Today="today",e.Yesterday="yesterday"}(r||(r={})),function(e){e[e.Time=0]="Time"}(o||(o={})),function(e){e[e.sunday=0]="sunday",e[e.monday=1]="monday",e[e.tuesday=2]="tuesday",e[e.wednesday=3]="wednesday",e[e.thursday=4]="thursday",e[e.friday=5]="friday",e[e.saturday=6]="saturday"}(c||(c={}));var s,d=function(t){var n=t.value,r=t.date,c=t.suffix,u=t.prefix,a="",i="";if(u&&(a=e("conversation_detail.message_list.".concat(u.type))+(void 0===u.separator?"  ":u.separator)),c){var s=c.type===o.Time?function(e){return e.format("hh:mm")}(r):"";i=(void 0===c.separator?", ":c.separator)+s}return a+n+i};!function(e){e[e.Yesterday=0]="Yesterday",e[e.Today=1]="Today",e[e.ThisMonth=2]="ThisMonth",e[e.ThisYear=3]="ThisYear",e[e.ThisWeek=4]="ThisWeek",e[e.NONE=5]="NONE"}(s||(s={}));var f=function(t,n){var u=n||{},i=u.noTodayFlag,f=u.noTimeFlag,p=u.needFullFormat,l=u.onlyKeepDate,_=u.isConvPreview,E=a.create(t);if(p)return d({value:E.format("LHD"),date:E,suffix:{type:o.Time}});if(l)return E.format("LHD");var O=["tw","cn"].includes(a.locale.current);switch(function(e,t){var n=new Date,r=new Date(e);if(t){var o=n-r,c=(new Date).setHours(0,0,0,0);if(o<=6048e5&&o>=n.getTime()-c+864e5)return s.ThisWeek}if(n.getFullYear()===r.getFullYear()){if(n.getMonth()===r.getMonth()){var u=n.getDate(),a=r.getDate();return u===a?s.Today:u-1===a?s.Yesterday:s.ThisMonth}return s.ThisYear}return s.NONE}(t,_)){case s.Today:var b=i?void 0:{type:r.Today},S={type:o.Time,separator:""};return d({value:"",date:E,prefix:b,suffix:S});case s.Yesterday:var h={type:r.Yesterday},v=f?void 0:{type:o.Time,separator:""};return d({value:"",date:E,prefix:h,suffix:v});case s.ThisWeek:return e("common.".concat(c[new Date(t).getDay()]));case s.ThisMonth:case s.ThisYear:var T=f?void 0:{type:o.Time};return d({value:E.format(_?O?"MM/DD":"DD/MM":"LHDS"),date:E,suffix:T});default:var g=f?void 0:{type:o.Time};return d({value:E.format(_?O?"YY/MM/DD":"DD/MM/YY":"LHD"),date:E,suffix:g})}},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=a.create(e);return n.format(t||"YYYY-MM-DD hh:mm")},l=function(e){var t=Math.ceil(e),n=t/3600<10?"0"+Math.floor(t/3600):Math.floor(t/3600),r=t/60%60<10?"0"+Math.floor(t/60%60):Math.floor(t/60%60),o=t%60<10?"0"+t%60:t%60;return t>=3600?"".concat(n,":").concat(r,":").concat(o):"".concat(r,":").concat(o)},_=function(e){var t=e.created_at,n=e.created_timestamp;return f(t||1e3*n,{noTodayFlag:!0,noTimeFlag:!0,isConvPreview:!0})}}).call(this,n(7).t)},function(e,t){e.exports=c},function(e,t,n){e.exports=n(30)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return d}));var r=n(12),o=["PL","ES","FR"],c=function(e){return e?e.toUpperCase():"SG"},u=function(e){var t=e.price,n=e.country,c=function(e,t){return"TW"!==e||void 0!==t&&!t?"CL"===e?"$":Object(r.getCurrencyConfig)(e).symbol||"":"NT$"}(n,e.isSCChat);if(o.includes(n))return"".concat(c).concat(t).concat(c);var u=Object(r.getCurrencyConfig)(n).symbolPosition===r.SYMBOL_POSITION.BACK?"".concat(t).concat(c):"".concat(c).concat(t);return"MX"===n?"".concat(u," MXN"):u},a=function(e){for(var t="",n=+e,r=["K","M","B"];n>1e3&&(t=r.shift()||"");)n/=1e3;var o=parseInt(100*+n+"")/100;return{value:n=Number.isInteger(o)?o:o.toFixed(2),unit:t}},i="NaN",s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,s=n.withSpaces,d=void 0!==s&&s,f=n.withMinus,p=void 0!==f&&f,l=n.withUnit,_=void 0!==l&&l,E=n.withComma,O=void 0===E||E,b=c(t),S=Number(e);if(Number.isNaN(S))return u({price:i,country:b,isSCChat:o});var h="",v="";if(_){var T=a(S);h=T.unit,S=T.value}return p&&(v="-"),S=Object(r.formatCurrency)(b,S,{symbol:"",spaceBetweenSymbol:d,noSeparator:!O}),S=u({price:S,country:b,isSCChat:o}),"".concat(v).concat(S).concat(h)},d=function(e,t,n){return t=c(t),u({price:e,country:t,isSCChat:n})}},function(e,t,n){"use strict";n.d(t,"y",(function(){return i})),n.d(t,"z",(function(){return O})),n.d(t,"A",(function(){return b})),n.d(t,"q",(function(){return T})),n.d(t,"p",(function(){return m})),n.d(t,"d",(function(){return y})),n.d(t,"g",(function(){return R})),n.d(t,"b",(function(){return C})),n.d(t,"o",(function(){return P})),n.d(t,"j",(function(){return D})),n.d(t,"e",(function(){return A})),n.d(t,"i",(function(){return I})),n.d(t,"f",(function(){return w})),n.d(t,"u",(function(){return N})),n.d(t,"B",(function(){return x})),n.d(t,"C",(function(){return k})),n.d(t,"D",(function(){return U})),n.d(t,"w",(function(){return M})),n.d(t,"v",(function(){return L})),n.d(t,"t",(function(){return G})),n.d(t,"a",(function(){return F})),n.d(t,"r",(function(){return V})),n.d(t,"s",(function(){return Y})),n.d(t,"m",(function(){return q})),n.d(t,"l",(function(){return Q})),n.d(t,"n",(function(){return W})),n.d(t,"k",(function(){return K})),n.d(t,"h",(function(){return z})),n.d(t,"x",(function(){return J})),n.d(t,"c",(function(){return X}));var r,o,c,u,a={sg:"en",ph:"en",tw:"zh-Hant",my:"ms-MY",th:"th-TH",vn:"vi-VN",id:"id-ID",br:"pt-BR",in:"hi",cn:"zh-CN",mx:"es-MX",co:"es-CO",cl:"es-CL",ar:"es-AR",pl:"pl",es:"es-ES",fr:"fr",us:"en",kr:"en"},i=function(e,t,n){r=e.toLowerCase(),o="liveish"===t?"live-test":"stable"===t?"test-stable":t,c=n,u=a[r]||"en"},s=["my","br","mx","co","ar"],d=["id","th"],f=["us"],p=function(e){return s.includes(e)?"com.".concat(e):d.includes(e)?"co.".concat(e):f.includes(e)?"com":e},l=function(e){return"tw"===e?"xiapi":e.toLowerCase()},_=function(e){return p(e)},E=function(){return"live"===o?"shopee":"".concat(o,".shopee")},O=function(){return"cn"===r},b=function(){return"kr"===r};function S(){return h()&&!O()}function h(){var e=window.location.hostname;return e&&e.includes("cn")}var v=function(e,t){return"seller"===e?"vn"!==t||S()?"seller":"banhang":e},T=function(e,t){var n=t?t.toLowerCase():r;return"".concat(v(e,n),".").concat(l(n),".").concat(E(),".").concat("cn")},g=function(e,t){var n,c=t?t.toLowerCase():r;return S()?T(e,c):"".concat(v(e,c),".").concat((n=window.location.hostname,n&&n.includes("shopeebrasil")?"live"===o?"shopeebrasil":"".concat(o,".shopeebrasil"):E()),".").concat(_(c))},m=function(e){return g("seller",e)},y=function(){return"live"===o?"seller.shopee.cn":"seller.".concat(o,".shopee.cn")},R=function(){return"live"===o?"seller.shopee.kr":"seller.".concat(o,".shopee.kr")},C=function(){return"".concat(m(),"/webchat/api")},P=function(){return"".concat(m(),"/api")},D=function(){return g("seller-push-ws")},A=function(){return g("chat-ws")},I=function(e){var t=e?e.toLowerCase():r;return"cn"!==t&&"kr"!==t||(t="my"),h()?"".concat(l(t),".").concat("live"===o?"":"".concat(o,".")).concat("xiapibuy.com"):"".concat(E(),".").concat(_(t))},j=["sg","my","th","ph","vn","id","tw","br"],w=function(e){var t=e?e.toLowerCase():r;if(O())return"https://s-cf-sg.shopeesz.com/file/";if(b())return"https://cf.shopee.sg/file/";var n=j.includes(t);return S()&&n?"https://s-cf-".concat(t,".shopeesz.com/file/"):"https://cf.shopee.".concat(p(t),"/file/")},N=function(e){var t=e?e.toLowerCase():r;return"tw"===t&&h()?"https://cvf.shopee.cn/file/":"https://cvf.shopee.".concat(p(t),"/file/")},x=function(e){var t=e?e.toLowerCase():r,n="test-stable"===o?"staging":o;return"".concat(h()?"deo.shopeesz.com":"deo.shopeemobile.com","/shopee").concat("live"===o?"":"/test","/shopee-sticker-").concat(n,"-").concat(t)},k=function(){return"https://subaccount.".concat(E(),".com/")},U=function(){return"https://deo.shopeemobile.com/shopee/shopee-seller-live-".concat(O()||b()?"sg":r,"/downloads/")},M=function(){return"https://".concat(g("seller"),"/webchat/conversations")},L=function(){return"https://".concat(g("seller"),"/webchat")},G=function(){var e="test-stable"===o?"stable":o;return"https://deo.".concat(S()?"shopeesz":"shopeemobile",".com/shopee/shopee-seller-").concat(e,"-").concat(r,"/")},F={sg:"https://help.shopee.sg/sg/s/article/What-happens-if-I-ve-accumulated-Penalty-Points-1542975961836",my:"https://help.shopee.com.my/my/s/article/What-is-Shopee-s-Seller-Penalty-Points-system-1542971633226",th:"https://help.shopee.co.th/th/s/article/%E0%B8%A3%E0%B8%B0%E0%B8%9A%E0%B8%9A%E0%B8%84%E0%B8%B0%E0%B9%81%E0%B8%99%E0%B8%99%E0%B8%84%E0%B8%A7%E0%B8%B2%E0%B8%A1%E0%B8%9B%E0%B8%A3%E0%B8%B0%E0%B8%9E%E0%B8%A4%E0%B8%95%E0%B8%B4%E0%B8%A3%E0%B9%89%E0%B8%B2%E0%B8%99%E0%B8%84%E0%B9%89%E0%B8%B2%E0%B8%84%E0%B8%B7%E0%B8%AD%E0%B8%AD%E0%B8%B0%E0%B9%84%E0%B8%A3-1542967300368",tw:"https://help.shopee.tw/tw/s/article/%E5%A6%82%E6%9E%9C%E7%B4%AF%E7%A9%8D%E4%BA%86%E8%A8%88%E5%88%86-%E8%B3%A3%E5%AE%B6%E6%9C%83%E6%9C%89%E5%93%AA%E4%BA%9B%E6%96%B9%E9%9D%A2%E7%9A%84%E9%99%90%E5%88%B6-1542986467060",vn:"https://banhang.shopee.vn/edu/article/237",ph:"https://help.shopee.ph/ph/s/article/How-does-the-Seller-Penalty-Points-system-work-1542963021404",id:"https://seller.shopee.co.id/edu/article/1762",in:"https://seller.shopee.in/edu/courseDetail/482"},H={sg:"7a48024995c847d9a4586bab9fde57a7",id:"888adc066bf3426a8c70227470281818",mx:"e58cb9c620f54aec9e18a01632c35c05",br:"d75e2dbb49594bd19d1ea83485339a45",co:"a503e7f7bc4849c0824985ddd9659d33",cl:"5484e709da71430cb8980abc5cef14f0",my:"b7a7ff2afd484f1dbddb3a922c7e90e7",th:"38e4b86fd0c04ae3b2c9200c7ea9c89e",ph:"bafd4812311d417c981d2690cda870bf",vn:"9e0e87184cf14246aabe6af0d78b2aa9",tw:"1bfa4a9834204eccb62858d0e2d9e083",pl:"3e8f2872acee4938951fa12e61f5b3f6",es:"756295fca7a04f0cb25cf51821ced04f"},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sg",t=H[e];return t?"https://help.shopee.".concat(p(e),"/portal/webform/").concat(t):"https://help.shopee.".concat(p(e),"/s/contactusform")},B={sg:"cc5c96e6af6140b6920f13c6fa67ddd1",my:"2e11e4a4fd554f4aaba90814987e8d3f",th:"fab4029ae0614fdd96021ba21bdd5d56",tw:"6331df0cc3e5409c85b5f3331e385a5c",vn:"1214504dda894592a1c7ef4236912f4d",ph:"bafd4812311d417c981d2690cda870bf",id:"13a6214dacf54eeb83cea7110c6adde6",br:"23b02efbc1254721ab69549e442a6466",mx:"e58cb9c620f54aec9e18a01632c35c05",co:"a503e7f7bc4849c0824985ddd9659d33",cl:"5484e709da71430cb8980abc5cef14f0",ar:"16e6e483bc5244d9946daf570c954dc3",pl:"3e8f2872acee4938951fa12e61f5b3f6",es:"756295fca7a04f0cb25cf51821ced04f"},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sg",t="";return t=["tw","vn"].includes(e)?"https://cs.shopee.".concat(p(e)):"https://help.shopee.".concat(p(e)),"".concat(t,"/portal/webform/").concat(B[e])},q=function(){return o},Q=function(){return r},W=function(){return c},K=function(){return u},z=function(e,t,n){var r=e||{},o=r.status,c=r.checkout_id,u=r.order_id,a=r.id,i=r.shop_id;return"unpaid"===o?"https://".concat(I(n),"/user/purchase/checkout/").concat(c,"/?shopid=").concat(i||t):"https://".concat(I(n),"/user/purchase/order/").concat(u||a,"/?shopid=").concat(i||t)},J=function(e,t,n,r){window.open("https://".concat(e?I(t):I(),"/product/").concat(r,"/").concat(n,"/"))},X=function(){return h()?"https://deo.shopeesz.com/shopee/":"https://deo.shopeemobile.com/shopee/"}},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(e,t,n,r,o,c,u){try{var a=e[c](u),i=a.value}catch(e){return void n(e)}a.done?t(i):Promise.resolve(i).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(o,c){var u=e.apply(t,r);function a(e){n(u,o,c,a,i,"next",e)}function i(e){n(u,o,c,a,i,"throw",e)}a(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"g",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return f}));var r=n(16),o=n.n(r),c=function(e){return!e||0===Object.keys(e).length},u=function(e,t){return null===e&&null===t||(null==e?void 0:e.id)===(null==t?void 0:t.id)},a=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},i=function(e,t){if(!e)return!1;if(!t)return!0;var n=(e+="").length,r=(t+="").length;if(n!==r)return n>r;var o=e.split(""),c=null;return o.forEach((function(e,n){"boolean"!=typeof c&&(c=parseInt(e)>parseInt(t[n])||parseInt(e)===parseInt(t[n])&&null)})),!!c},s=function(){var e=window.location.hostname;return["seller","banhang","localhost"].some((function(t){return e.includes(t)}))},d=function(){try{return!("undefined"!=typeof window&&"object"===o()(window.process)&&"renderer"===window.process.type||void 0!==e&&"object"===o()(e.versions)&&e.versions.electron||"object"===("undefined"==typeof navigator?"undefined":o()(navigator))&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}catch(e){return!0}}(),f=function(e){return!(null==e||!e.id)}}).call(this,n(25))},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return b})),n.d(t,"f",(function(){return S})),n.d(t,"a",(function(){return h}));var r=n(17),o=n.n(r),c=n(13),u=n.n(c),a=n(3),i=n(0),s=function(t){return d(t)?e(Object(a.K)("label.exceed_media_limit.video_duration",180),{max:180}):null},d=function(e){var t=e.type,n=e.duration,r=void 0===n?0:n;return"video"===t&&(r<0||r>180)},f=function(){return window.createObjectURL||window.URL.createObjectURL},p=function(e){return{type:"video",cover:"",file:e,duration:0}},l=function(e,t){return new Promise((function(n){"image"===t?function(e,t){var n=f()(e),r=new Image;r.onload=function(){var o=r.width,c=r.height;t({type:"image",cover:n,file:e,width:o,height:c})},r.src=n}(e,n):"video"===t&&function(e,t){var n;try{n=f()(e)}catch(n){return void t(p(e))}var r=document.createElement("video");r.setAttribute("crossOrigin","anonymous"),r.setAttribute("autoplay","autoplay"),r.muted=!0,r.src=n,r.addEventListener("loadeddata",(function(){r?function(e,t,n,r){var o=document.createElement("canvas"),c=e,u=c.videoWidth,a=c.videoHeight,i=c.duration;o.width=u,o.height=a,o.getContext("2d").drawImage(e,0,0,u,a);var s={type:"video",file:t,duration:Math.ceil(i),width:u,height:a,videoUrl:n};o.toBlob?o.toBlob((function(t){s.cover=t?f()(t):"",r(s),e=null}),"image/png",.5):(s.cover=o.toDataURL?o.toDataURL("image/png"):"",r(s))}(r,e,n,t):t(p(e))})),r.addEventListener("error",(function(){t(p(e))}))}(e,n)}))},_=function(e){return e.size},E=function(e){return e.type},O=function(e){var t=E(e);return function(e){return e.includes("video")||i.kb.includes(e)}(t)?"video":function(e){return e.includes("image")}(t)?"image":null},b=function(){var e=o()(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map(function(){var e=o()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t,O(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(t,n,r){var o=O(t);if("all"===r&&!o||"all"!==r&&o!==r)return e("common.toast.file_unsupport");if("video"===o){if(!n)return e("common.toast.file_unsupport");if(!function(e){return _(e)<=i.C}(t))return e("label.exceed_media_limit.video_size",{max:30});if(!function(e){var t=function(e){return e.name}(e),n=(t.substr(t.lastIndexOf(".")+1)||"").toUpperCase();return i.b.includes(n)}(t))return e("common.toast.file_unsupport")}else if("image"===o){if(!function(e){return _(e)<=i.z}(t))return e("common.toast.file_size_exceeds",{maxFileSize:"2MB"});if(!function(e){return i.a.includes(E(e))}(t))return e("feedback_modal.error.upload_image_failed.format")}return null},h=function(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){t(n.response)},n.send()}}).call(this,n(7).t)},function(e,t,n){"use strict";(function(e){n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return w})),n.d(t,"c",(function(){return B})),n.d(t,"b",(function(){return Y})),n.d(t,"d",(function(){return X})),n.d(t,"a",(function(){return te}));var r,o,c,u=n(1),a=n.n(u),i=n(3),s=n(2);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){return"common.order.status.".concat(e)},l=function(e){var t,n=e.order,r=e.region,o=e.isOwnOrder,c=e.isNewPrice,u=n.products,a=void 0===u?[]:u,s=n.estimated_escrow,d=void 0===s?0:s,f=n.total_price,p=void 0===f?0:f,l=n.voucher_price,_=void 0===l?0:l,E=n.price_before_discount,O=void 0===E?0:E,b=n.credit_card_promotion,S=void 0===b?0:b,h=a.reduce((function(e,t){return e+(t.coin_offset||0)}),0);return c?(t=d||p?o?d:p:O||p,console.log("isNewPrice","price_before_discount:",O,"estimated_escrow:",d,"total_price:",p)):(t=O-_-S-h,console.log("isOldPrice","price_before_discount:",O,"voucher_price:",_,"credit_card_promotion:",S,"shopeeCoin",h)),{shopeeCoin:h,payment:Object(i.J)(t,r)}},_=s.f.PAY_CREDIT_CARD,E=s.f.PAY_BANK_TRANSFER,O=s.f.PAY_OFFLINE_PAYMENT,b=s.f.PAY_IPAY88,S=s.f.PAY_FREE,h=s.f.PAY_COD,v=s.f.PAY_ESUN,T=s.f.PAY_BILL_PAYMENT,g=s.f.PAY_INDOMARET,m=s.f.PAY_KREDIVO,y=s.f.PAY_NICEPAY_CC,R=s.f.PAY_AIRPAY,C=s.f.PAY_SHOPEE_WALLET,P=s.f.PAY_SHOPEE_WALLET_V2,D=s.f.PAY_AKULAKU,A=s.f.PAY_INSTALLMENT,I=s.f.PAY_IBANKING,j=(r={},a()(r,_,"cc"),a()(r,E,"bank_transfer"),a()(r,O,"offline"),a()(r,b,"online"),a()(r,S,"waived"),a()(r,h,"cod"),a()(r,v,"esun"),a()(r,T,"bill_payment"),a()(r,g,"indomaret"),a()(r,m,"kredivo"),a()(r,y,"cc_installment"),a()(r,R,"airpay"),a()(r,C,"shopee_wallet"),a()(r,P,"shopee_wallet_v2"),a()(r,D,"akulaku"),a()(r,A,"installment"),a()(r,I,"ibanking"),r),w=function(t){var n=j[t];return n?e("common.order.pay_method.".concat(n)):""},N=s.c.NONE,x=s.c.OUT_OF_STOCK,k=s.c.CUSTOMER_REQUEST,U=s.c.UNDELIVERABLE_AREA,M=s.c.CANNOT_SUPPORT_COD,L=s.c.LOST_PARCEL,G=s.c.SYSTEM_UNPAID,F=s.c.SYSTEM_UNDERPAID,H=s.c.SYSTEM_PAYMENT_REJECTED,V=(o={},a()(o,N,"none"),a()(o,x,"out_of_stock"),a()(o,k,"customer_request"),a()(o,U,"undeliverable_area"),a()(o,M,"cannot_support_cod"),a()(o,L,"lost_parcel"),a()(o,G,"system_unpaid"),a()(o,F,"underpaid"),a()(o,H,"payment_rejected"),o),B=function(t){return e("common.order.cancel_reason.".concat(V[t]||"system"))},Y=function(e,t){var n=e.list_type,r=e.status_ext,o=e.order_type,c=e.payment_method,u=e.shipping_method,a=e.logistics_status,i=e.pickup_cutoff_time;if(r===s.g.ORDER_EXT_CANCEL_PENDING)return!1;var d=["MY","TW","VN","PH"].includes(t),f=!!i&&Date.now()>=new Date(i).getTime(),p=!0;switch(n){case s.e.TOPAY:if(c===s.f.PAY_OFFLINE_PAYMENT)return p;break;case s.e.TOSHIP:return f&&d&&c===s.f.PAY_COD&&a===s.b.LOGISTICS_REQUEST_CREATED||(o===s.j.ESCROW?(r===s.g.ORDER_EXT_RETURN_PROCESSING||u>0&&a===s.b.LOGISTICS_REQUEST_CREATED&&f)&&(p=!1):o===s.j.SIMPLE&&(p=!1)),p}},q=s.a.ORDER_DETAIL_SHIPPING_CONFIRMED,Q=s.a.ORDER_DETAIL_SHIPPED,W=s.a.ORDER_DETAIL_RECEIVED,K=s.a.ORDER_DETAIL_CANCELED,z=s.a.ORDER_DETAIL_NOTIFY_SHIP,J=(c={},a()(c,q,"detail_received"),a()(c,Q,"shipped"),a()(c,W,"received_by_buyer"),a()(c,K,"cancelled"),a()(c,z,"notify_ship"),c),X=function(t,n,r){if(2===n)return r;var o=J[t];return o?e("common.order.logistics_log.".concat(o)):""},Z=["created_at","pay_time","delivery_time","complete_time","cancel_time"],$=["price_before_discount","receivables","amount","shipping_fee","tax_amount","credit_card_promotion","coin_offset","voucher_price","refund_amount","wallet_discount","local_shopee_coin"],ee=["coin_offset","voucher_price","wallet_discount","local_shopee_coin"],te=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.id,o=t.country,c=f({},e),u=r===e.id,a=l({order:e,region:o,isOwnOrder:u,isNewPrice:n}),s=a.shopeeCoin,d=a.payment;return c.seller_note=(c.seller_note||"").trim(),c.local_shopee_coin=s,c.local_payment=d,c.local_amount_price=Object(i.J)(e.price_before_discount-e.shipping_fee-e.tax_amount,o),c.local_ship_by_date=Object(i.A)(e.ship_by_date,{needFullFormat:!0}),Z.forEach((function(e){var t=c[e];t&&(c[e]=Object(i.A)(t,{needFullFormat:!0}))})),$.forEach((function(e){var t=c[e]||0;c[e]=Object(i.J)(t,o,{withMinus:ee.includes(e)})})),c}}).call(this,n(7).t)},function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var r=n(9),o=n(14),c=n(11),u=function(e){return e===r.e.FINISHED},a=function(e,t){return e===t},i=function(e,t){return Object(o.b)(e,t,{withUnit:e>=1e4})},s=function(t,n,o,u){return e("conversation_detail.workstation.voucher_panel.".concat(u?r.e.ONGOING:t,"_time"),{time:t===r.e.SCHEDULED?Object(c.c)(n,"MM.DD.YYYY h:mm"):Object(c.c)(o,"MM.DD.YYYY")})}}).call(this,n(7).t)},function(e,t){e.exports=u},function(e,t,n){"use strict";n.r(t);var r=n(0);n.d(t,"Currencies",(function(){return r.p})),n.d(t,"MessageTypes",(function(){return r.L})),n.d(t,"MessageSendStatus",(function(){return r.H})),n.d(t,"MessageErrorCode",(function(){return r.E})),n.d(t,"EvaluationStatus",(function(){return r.u})),n.d(t,"EvaluationErrorCode",(function(){return r.t})),n.d(t,"PromotionStatus",(function(){return r.fb})),n.d(t,"MessageStatus",(function(){return r.K})),n.d(t,"MAX_MEDIA_NUM",(function(){return r.A})),n.d(t,"MessageShortcutGroupType",(function(){return r.I})),n.d(t,"PERMISSION_DELETE_MESSAGE",(function(){return r.Z})),n.d(t,"MessageOption",(function(){return r.G})),n.d(t,"TranslationFeedbackQuality",(function(){return r.vb})),n.d(t,"FeedbackInfo",(function(){return r.v})),n.d(t,"MIN_TEXT_BOX_HEIGHT",(function(){return r.D})),n.d(t,"MessageFillStatus",(function(){return r.F})),n.d(t,"FetchMessageStatus",(function(){return r.w})),n.d(t,"MessagesRelatedKey",(function(){return r.M})),n.d(t,"DataFetchStatus",(function(){return r.r})),n.d(t,"OperationStatus",(function(){return r.P})),n.d(t,"UserLoginStatus",(function(){return r.yb})),n.d(t,"SwitchStatus",(function(){return r.sb})),n.d(t,"TranslationStatus",(function(){return r.wb})),n.d(t,"OfferStatus",(function(){return r.O})),n.d(t,"AgentOnlineStatus",(function(){return r.e})),n.d(t,"DiscountType",(function(){return r.s})),n.d(t,"RewardType",(function(){return r.hb})),n.d(t,"VoucherTab",(function(){return r.Db})),n.d(t,"VoucherTabIndex",(function(){return r.Eb})),n.d(t,"VoucherStatus",(function(){return r.Cb})),n.d(t,"VoucherStamp",(function(){return r.Bb})),n.d(t,"VoucherType",(function(){return r.Fb})),n.d(t,"VoucherOperateType",(function(){return r.Ab})),n.d(t,"SocketConnectionStatus",(function(){return r.nb})),n.d(t,"BATCH_OPERATE_MAX_SELECTION",(function(){return r.h})),n.d(t,"BatchOperates",(function(){return r.i})),n.d(t,"ConversationTypeEnum",(function(){return r.o})),n.d(t,"ConversationTab",(function(){return r.n})),n.d(t,"ConversationSource",(function(){return r.m})),n.d(t,"MessageSource",(function(){return r.J})),n.d(t,"UnreadSource",(function(){return r.xb})),n.d(t,"OrderListTabs",(function(){return r.S})),n.d(t,"ProductStatusUsingNumber",(function(){return r.db})),n.d(t,"ProductStatusUsingString",(function(){return r.eb})),n.d(t,"ProductFiltersMap",(function(){return r.bb})),n.d(t,"AllProductFilters",(function(){return r.g})),n.d(t,"SystemProductFilters",(function(){return r.tb})),n.d(t,"MAX_SHOWING_ITEM_COUNT",(function(){return r.B})),n.d(t,"ProductPromotionLabel",(function(){return r.cb})),n.d(t,"WorkstationProductPanel",(function(){return r.Ib})),n.d(t,"SubAccountShopStatus",(function(){return r.rb})),n.d(t,"SubAccountRole",(function(){return r.qb})),n.d(t,"AccountType",(function(){return r.d})),n.d(t,"OrderTabStatus",(function(){return r.W})),n.d(t,"OrderTabStatusIndex",(function(){return r.X})),n.d(t,"OrderItemStatus",(function(){return r.R})),n.d(t,"OrderPayMethod",(function(){return r.U})),n.d(t,"SellerCancelOrderReason",(function(){return r.lb})),n.d(t,"OrderCancelReason",(function(){return r.Q})),n.d(t,"OrderStatusExt",(function(){return r.V})),n.d(t,"OrderListType",(function(){return r.T})),n.d(t,"OrderType",(function(){return r.Y})),n.d(t,"LogisticsLog",(function(){return r.x})),n.d(t,"LogisticsStatus",(function(){return r.y})),n.d(t,"SERVER_ERROR_VALID_CONV_COUNT",(function(){return r.jb})),n.d(t,"SERVER_ERROR_CAPACITY",(function(){return r.ib})),n.d(t,"AVAILABLE_IMAGE_TYPE",(function(){return r.a})),n.d(t,"AVAILABLE_VIDEO_TYPE",(function(){return r.c})),n.d(t,"AVAILABLE_VIDEO_EXT",(function(){return r.b})),n.d(t,"SPECIAL_VIDEO_MIME_TYPE",(function(){return r.kb})),n.d(t,"MAX_IMAGE_SIZE",(function(){return r.z})),n.d(t,"MAX_VIDEO_SIZE",(function(){return r.C})),n.d(t,"NO_ACCESS_KEY",(function(){return r.N})),n.d(t,"VIEW_DETAIL_KEY",(function(){return r.zb})),n.d(t,"TrackerOperation",(function(){return r.ub})),n.d(t,"ChatBotInteractionType",(function(){return r.j})),n.d(t,"ChatBotMessageContentSource",(function(){return r.k})),n.d(t,"ChatbotFromType",(function(){return r.l})),n.d(t,"PredictionType",(function(){return r.ab})),n.d(t,"ReportType",(function(){return r.gb})),n.d(t,"AlertType",(function(){return r.f})),n.d(t,"SocketToAlertType",(function(){return r.ob})),n.d(t,"WorkstationCommonKey",(function(){return r.Gb})),n.d(t,"WorkstationProductCommonKey",(function(){return r.Hb})),n.d(t,"StorageKey",(function(){return r.pb})),n.d(t,"CustomShareEvent",(function(){return r.q})),n.d(t,"ShareDataType",(function(){return r.mb}));var o=n(3);n.d(t,"checkEmptyObject",(function(){return o.k})),n.d(t,"checkObjectId",(function(){return o.p})),n.d(t,"simpleEqualCheck",(function(){return o.mc})),n.d(t,"greaterThan",(function(){return o.Lb})),n.d(t,"checkIsScChat",(function(){return o.n})),n.d(t,"isValidBrowser",(function(){return o.Xb})),n.d(t,"hasSelectShop",(function(){return o.Qb})),n.d(t,"encode",(function(){return o.E})),n.d(t,"camelCase",(function(){return o.g})),n.d(t,"convertBase64ToBlob",(function(){return o.y})),n.d(t,"deepMerge",(function(){return o.C})),n.d(t,"handleBigNumber",(function(){return o.Mb})),n.d(t,"removeItemFromArray",(function(){return o.jc})),n.d(t,"INVALID_PRICE",(function(){return o.c})),n.d(t,"formatPrice",(function(){return o.J})),n.d(t,"transPrice",(function(){return o.qc})),n.d(t,"updateTimeLocale",(function(){return o.tc})),n.d(t,"customizeTime",(function(){return o.A})),n.d(t,"getFormattedTime",(function(){return o.Y})),n.d(t,"transformVideoTime",(function(){return o.rc})),n.d(t,"formatMessageTime",(function(){return o.I})),n.d(t,"formatTransifyKeyWithNumber",(function(){return o.K})),n.d(t,"getUrlParam",(function(){return o.Eb})),n.d(t,"getBrowserInfo",(function(){return o.M})),n.d(t,"capitalizeFirstLetter",(function(){return o.i})),n.d(t,"unifyLocale",(function(){return o.sc})),n.d(t,"getTranslationLocale",(function(){return o.Db})),n.d(t,"getServiceLocale",(function(){return o.yb})),n.d(t,"redirectionWithAccess",(function(){return o.hc})),n.d(t,"debounce",(function(){return o.B})),n.d(t,"throttle",(function(){return o.pc})),n.d(t,"memFn",(function(){return o.dc})),n.d(t,"checkTranslationGuilde",(function(){return o.v})),n.d(t,"checkTranslationSettingsGuide",(function(){return o.w})),n.d(t,"checkMassToolGuide",(function(){return o.o})),n.d(t,"checkSearchGuilde",(function(){return o.u})),n.d(t,"checkReplyGuide",(function(){return o.t})),n.d(t,"checkRegionFilterGuide",(function(){return o.s})),n.d(t,"checkHeaderGuide",(function(){return o.m})),n.d(t,"checkEntryGuide",(function(){return o.l})),n.d(t,"LS",(function(){return o.d})),n.d(t,"getItem",(function(){return o.cb})),n.d(t,"setItem",(function(){return o.lc})),n.d(t,"removeItem",(function(){return o.ic})),n.d(t,"persistLimit",(function(){return o.ec})),n.d(t,"getCustomMessageText",(function(){return o.V})),n.d(t,"previewWebview",(function(){return o.gc})),n.d(t,"previewMessage",(function(){return o.fc})),n.d(t,"hasTargetMessageOption",(function(){return o.Rb})),n.d(t,"isDeletedMessage",(function(){return o.Vb})),n.d(t,"hasTargetMessageOptions",(function(){return o.Sb})),n.d(t,"getMessageIsRatecard",(function(){return o.jb})),n.d(t,"getLocaleText",(function(){return o.eb})),n.d(t,"getHasSameSourceAndTarget",(function(){return o.Z})),n.d(t,"makeSecurityTipsMessage",(function(){return o.cc})),n.d(t,"getChatBotParams",(function(){return o.S})),n.d(t,"getCrmPreviewParams",(function(){return o.T})),n.d(t,"validateMediaDuration",(function(){return o.vc})),n.d(t,"validateDuration",(function(){return o.uc})),n.d(t,"getMediaData",(function(){return o.ib})),n.d(t,"getFormattedData",(function(){return o.X})),n.d(t,"validateTypeAndSize",(function(){return o.wc})),n.d(t,"downloadVideoWithBlob",(function(){return o.D})),n.d(t,"init",(function(){return o.Tb})),n.d(t,"isVisitingCNSC",(function(){return o.ac})),n.d(t,"isVisitingKRSC",(function(){return o.bc})),n.d(t,"getShopeeCNUrl",(function(){return o.zb})),n.d(t,"getSellerCenterUrl",(function(){return o.xb})),n.d(t,"getCNSCSellerCenterUrl",(function(){return o.O})),n.d(t,"getKRSCSellerCenterUrl",(function(){return o.db})),n.d(t,"getApiServer",(function(){return o.L})),n.d(t,"getSCApiServer",(function(){return o.wb})),n.d(t,"getPushServer",(function(){return o.qb})),n.d(t,"getCSChatServer",(function(){return o.P})),n.d(t,"getMallUrl",(function(){return o.hb})),n.d(t,"getFileServer",(function(){return o.W})),n.d(t,"getVideoServer",(function(){return o.Fb})),n.d(t,"stickersURI",(function(){return o.nc})),n.d(t,"subAccountURL",(function(){return o.oc})),n.d(t,"videoURL",(function(){return o.xc})),n.d(t,"getWebChatUrl",(function(){return o.Jb})),n.d(t,"getWebChatPureUrl",(function(){return o.Ib})),n.d(t,"getTranslateFileServer",(function(){return o.Cb})),n.d(t,"cancelOrderPolicy",(function(){return o.h})),n.d(t,"getShopeeCustomerService",(function(){return o.Ab})),n.d(t,"getSpammerPolicyUrl",(function(){return o.Bb})),n.d(t,"getRuntimeServer",(function(){return o.ub})),n.d(t,"getRuntimeRegion",(function(){return o.tb})),n.d(t,"getRuntimeVersion",(function(){return o.vb})),n.d(t,"getRuntimeLocale",(function(){return o.sb})),n.d(t,"getMallOrderUrl",(function(){return o.gb})),n.d(t,"goToPcMall",(function(){return o.Kb})),n.d(t,"getCDNUrl",(function(){return o.N})),n.d(t,"isValidMessageTypeToReply",(function(){return o.Zb})),n.d(t,"isValidMessageStatusToReply",(function(){return o.Yb})),n.d(t,"ApiMessageTypes",(function(){return o.a})),n.d(t,"getReplyTrackerMessageType",(function(){return o.rb})),n.d(t,"getIsMessageValidToDelete",(function(){return o.bb})),n.d(t,"getMessageIsSend",(function(){return o.kb})),n.d(t,"getIsMessageShortcutKeywordValid",(function(){return o.ab})),n.d(t,"getMessageShortcutsKeywords",(function(){return o.lb})),n.d(t,"searchMessageShortcuts",(function(){return o.kc})),n.d(t,"escapeRegex",(function(){return o.F})),n.d(t,"getOrderStatusTransifyKey",(function(){return o.nb})),n.d(t,"getOrderPayment",(function(){return o.mb})),n.d(t,"getPayMethod",(function(){return o.ob})),n.d(t,"getCancelReason",(function(){return o.R})),n.d(t,"getCancelOrderDisplayStatus",(function(){return o.Q})),n.d(t,"getLogisticsLog",(function(){return o.fb})),n.d(t,"cleanOrder",(function(){return o.x})),n.d(t,"getProductStatusTransifyKey",(function(){return o.pb})),n.d(t,"checkProductDeleted",(function(){return o.q})),n.d(t,"isAbnormalProduct",(function(){return o.Ub})),n.d(t,"isProductSoldout",(function(){return o.Wb})),n.d(t,"checkProductInvalid",(function(){return o.r})),n.d(t,"SECOND_TO_MILLISECOND",(function(){return o.f})),n.d(t,"HALF_HOUR",(function(){return o.b})),n.d(t,"ONE_DAY",(function(){return o.e})),n.d(t,"countingDown",(function(){return o.z})),n.d(t,"fillWithZero",(function(){return o.G})),n.d(t,"getCurrentTimestampString",(function(){return o.U})),n.d(t,"formatDiscount",(function(){return o.H})),n.d(t,"handleDisplayTranslation",(function(){return o.Nb})),n.d(t,"voucherIsExpired",(function(){return o.yc})),n.d(t,"voucherIsStockout",(function(){return o.zc})),n.d(t,"getVoucherCondition",(function(){return o.Gb})),n.d(t,"getVoucherTimeText",(function(){return o.Hb})),n.d(t,"handleReportItems",(function(){return o.Pb})),n.d(t,"handleReportItem",(function(){return o.Ob})),n.d(t,"changeLanguage",(function(){return o.j}))},function(e,t){var n,r,o=e.exports={};function c(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===c||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:c}catch(e){n=c}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(e){r=u}}();var i,s=[],d=!1,f=-1;function p(){d&&i&&(d=!1,i.length?s=i.concat(s):f=-1,s.length&&l())}function l(){if(!d){var e=a(p);d=!0;for(var t=s.length;t;){for(i=s,s=[];++f<t;)i&&i[f].run();f=-1,t=s.length}i=null,d=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function _(e,t){this.fun=e,this.array=t}function E(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new _(e,t)),1!==s.length||d||a(l)},_.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=E,o.addListener=E,o.once=E,o.off=E,o.removeListener=E,o.removeAllListeners=E,o.emit=E,o.prependListener=E,o.prependOnceListener=E,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){var r=n(19);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(19);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",u=r.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(e){a=function(e,t,n){return e[t]=n}}function i(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,c=Object.create(o.prototype),u=new m(r||[]);return c._invoke=function(e,t,n){var r="suspendedStart";return function(o,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw c;return{value:void 0,done:!0}}for(n.method=o,n.arg=c;;){var u=n.delegate;if(u){var a=v(u,n);if(a){if(a===d)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var i=s(e,t,n);if("normal"===i.type){if(r=n.done?"completed":"suspendedYield",i.arg===d)continue;return{value:i.arg,done:n.done}}"throw"===i.type&&(r="completed",n.method="throw",n.arg=i.arg)}}}(e,n,u),c}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=i;var d={};function f(){}function p(){}function l(){}var _={};_[o]=function(){return this};var E=Object.getPrototypeOf,O=E&&E(E(y([])));O&&O!==t&&n.call(O,o)&&(_=O);var b=l.prototype=f.prototype=Object.create(_);function S(e){["next","throw","return"].forEach((function(t){a(e,t,(function(e){return this._invoke(t,e)}))}))}function h(e,t){var r;this._invoke=function(o,c){function u(){return new t((function(r,u){!function r(o,c,u,a){var i=s(e[o],e,c);if("throw"!==i.type){var d=i.arg,f=d.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,u,a)}),(function(e){r("throw",e,u,a)})):t.resolve(f).then((function(e){d.value=e,u(d)}),(function(e){return r("throw",e,u,a)}))}a(i.arg)}(o,c,r,u)}))}return r=r?r.then(u,u):u()}}function v(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,v(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function g(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function m(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function y(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:R}}function R(){return{value:void 0,done:!0}}return p.prototype=b.constructor=l,l.constructor=p,p.displayName=a(l,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,a(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},S(h.prototype),h.prototype[c]=function(){return this},e.AsyncIterator=h,e.async=function(t,n,r,o,c){void 0===c&&(c=Promise);var u=new h(i(t,n,r,o),c);return e.isGeneratorFunction(n)?u:u.next().then((function(e){return e.done?e.value:u.next()}))},S(b),a(b,u,"Generator"),b[o]=function(){return this},b.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=y,m.prototype={constructor:m,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(g),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return u.type="throw",u.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o],u=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var a=n.call(c,"catchLoc"),i=n.call(c,"finallyLoc");if(a&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(a){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var c=o;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var u=c?c.completion:{};return u.type=e,u.arg=t,c?(this.method="next",this.next=c.finallyLoc,d):this.complete(u)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),g(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;g(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:y(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}}]))},tvxL:function(e,t,n){var r,o,c,u,a,i,s,d,f,p,l,_,E,O,b,S,h,v,T,g,m,y,R,C,P;e.exports=(r=n("5rFJ"),o=n("XnKn"),c=n("6SzI"),u=n("XiPH"),a=n("+xQE"),i=n("/c7q"),s=n("Ogvq"),d=n("LpSC"),f=n("p46w"),p=n("rRWa"),l=n("cv67"),_=n("Q0a1"),E=n("XzT5"),O=n("1UzO"),b=n("lPiR"),S=n("v1wG"),h=n("9GJY"),v=n("kTQw"),T=n("75iX"),g=n("eyeq"),m=n("EYlZ"),y=n("g52a"),R=n("IYum"),C=n("0iWD"),P=n("LhCv"),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=30)}([function(e,t){e.exports=r},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){e.exports=n(85)},function(e,t){e.exports=o},function(e,t,n){"use strict";n.d(t,"s",(function(){return ce})),n.d(t,"I",(function(){return De})),n.d(t,"j",(function(){return Ne})),n.d(t,"o",(function(){return xe})),n.d(t,"n",(function(){return ke})),n.d(t,"l",(function(){return Ue})),n.d(t,"D",(function(){return Ge})),n.d(t,"M",(function(){return Fe})),n.d(t,"f",(function(){return be})),n.d(t,"c",(function(){return ae})),n.d(t,"g",(function(){return ie})),n.d(t,"b",(function(){return Te})),n.d(t,"d",(function(){return se})),n.d(t,"h",(function(){return de})),n.d(t,"e",(function(){return he})),n.d(t,"i",(function(){return ve})),n.d(t,"w",(function(){return Ke})),n.d(t,"Q",(function(){return et})),n.d(t,"u",(function(){return tt})),n.d(t,"t",(function(){return ot})),n.d(t,"O",(function(){return ct})),n.d(t,"a",(function(){return ut})),n.d(t,"K",(function(){return ft})),n.d(t,"F",(function(){return F})),n.d(t,"P",(function(){return H})),n.d(t,"H",(function(){return q})),n.d(t,"B",(function(){return Q})),n.d(t,"E",(function(){return _t})),n.d(t,"r",(function(){return Et})),n.d(t,"G",(function(){return Ot})),n.d(t,"C",(function(){return St})),n.d(t,"v",(function(){return ht})),n.d(t,"q",(function(){return vt.configTrackerUser})),n.d(t,"p",(function(){return vt.collectTrackerTask})),n.d(t,"k",(function(){return S})),n.d(t,"m",(function(){return yt})),n.d(t,"x",(function(){return Rt})),n.d(t,"y",(function(){return Pt})),n.d(t,"A",(function(){return It})),n.d(t,"z",(function(){return jt})),n.d(t,"N",(function(){return w})),n.d(t,"L",(function(){return kt})),n.d(t,"J",(function(){return Ut}));var r=n(1),o=n.n(r),c=n(23),u=n.n(c),a=n(3),i=n(55),s=n.n(i),d=n(28),f=n.n(d),p=n(2),l=n.n(p),_=n(20),E=n.n(_),O=n(31),b=n.n(O);window.__CHANGE_FETCH__||(window.fetch=b.a,window.__CHANGE_FETCH__=!0);var S=function(){window.caches&&window.caches.delete("CHAT_API")},h=function(e,t){return v.apply(this,arguments)};function v(){return(v=f()(l.a.mark((function e(t,n){var r,o,c,u,a,i,s,d,f,p,_,O,b,S,h,v,T,g,m,y;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=new URL(t),o=r.searchParams,c=o.get("need_cache"),u=o.get("force_update"),a=o.get("_ts"),i=n.method&&"get"===n.method.toLowerCase(),s="&csrf_token=".concat(encodeURIComponent(o.get("csrf_token")||"")),d="&force_update=".concat(String(u)),f=t.replace(s,"").replace(d,"").replace(a||"",""),!(i&&c&&window.caches)){e.next=44;break}return e.next=13,window.caches.open("CHAT_API");case 13:return p=e.sent,e.next=16,p.match(f);case 16:if(_=e.sent,O=Date.now(),!_){e.next=25;break}if(!(O<Number(_.headers.get("cache-expires")))||u){e.next=23;break}return e.abrupt("return",_);case 23:return e.next=25,p.delete(f);case 25:return e.next=27,window.fetch(t,n);case 27:if(b=e.sent,S=b.clone(),200!==b.status){e.next=41;break}return h=E()(b.headers.entries()),v={},T=Number(o.get("cache_expires"))||3600,g=O+1e3*T,e.next=36,b.blob();case 36:m=e.sent,h.forEach((function(e){v[e[0]]=e[1]})),v["cache-expires"]=g,y=new Response(m,{headers:new Headers(v)});try{p.put(f,y)}catch(e){window.caches.delete("CHAT_API")}case 41:return e.abrupt("return",S);case 44:return e.abrupt("return",window.fetch(t,n));case 45:e.next=50;break;case 47:return e.prev=47,e.t0=e.catch(0),e.abrupt("return",window.fetch(t,n));case 50:case"end":return e.stop()}}),e,null,[[0,47]])})))).apply(this,arguments)}var T=n(29),g=n(21),m=n(50),y=n(39),R=n.n(y),C=n(14),P=n.n(C),D=n(24),A=n.n(D);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=new(function(){function e(){P()(this,e),this.shopsMap={}}var t;return A()(e,[{key:"updateShopMap",value:function(e){this.shopsMap=j(j({},this.shopsMap),e)}},{key:"getRegion",value:(t=f()(l.a.mark((function e(t){var n,r,c,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=11;break}if(r=null===(n=this.shopsMap[t])||void 0===n?void 0:n.country){e.next=8;break}return e.next=5,ce({resource:"shop",id:t,params:{need_cache:1,cache_expires:600}});case 5:return c=e.sent,this.updateShopMap(o()({},c.id,c)),e.abrupt("return",c.country);case 8:return e.abrupt("return",r);case 11:if(u=Object(a.getRuntimeRegion)().toUpperCase(),!["KR","CN"].includes(u)){e.next=14;break}return e.abrupt("return","GLOBAL");case 14:return e.abrupt("return",u);case 15:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}());"live"!==Object(a.getRuntimeServer)()&&(window.shopService=w);var N,x=n(51),k=n.n(x);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=Object(a.checkIsScChat)();N=L?"scminichat":"pmminichat";var G=new k.a({shouldShared:L,name:"".concat(Object(a.getRuntimeRegion)(),"_").concat(Object(a.getRuntimeServer)(),"_seller-push-ws")}),F=G.isShared,H=G.socket;H.dispatch||(H.dispatch=function(){return{}});var V,B,Y,q=function(e){return F?H.emit("login",M(M({},e),{},{app_id:N}),!0):new Promise((function(t){H.emit("login",M(M({},e),{},{app_id:N}),(function(e){return t(JSON.parse(e))}))}))},Q=function(e){var t=e.noticesCount,n=e.readMissedCount,r=e.csSocketLogined,o=e.csSocketConnected,c={app_id:N,noticesCount:t,readMissedCount:n,csSocketLogined:r,csSocketConnected:o},u="".concat(N,"|").concat(t,"|").concat(n,"|").concat(r,"|").concat(o);return F?H.heartbeat({emitEvent:"heartbeat",args:c,pollingTime:6e4,remedyTime:9e4,separator:"|"}):H.emit("heartbeat",u)},W=n(49),K=n.n(W),z=n(65),J=n.n(z);!function(e){e[e.ONE=1]="ONE",e[e.TWO=2]="TWO",e[e.THREE=3]="THREE",e[e.FOUR=4]="FOUR"}(Y||(Y={}));var X=(V={},o()(V,Y.ONE,"70c74f4e-dcda-483e-826b-19dd2c42e799"),o()(V,Y.TWO,"29ffec18-c614-4645-8f1c-686e22d2e26a"),o()(V,Y.THREE,"04229e76-1ba3-4ac9-8a4e-68d46a3881a2"),o()(V,Y.FOUR,"a3769a87-35cf-45e9-a5a7-2b4016c52e92"),V),Z=(B={},o()(B,Y.ONE,"396c15ad-6d3e-4018-98be-cef58cb45cd0"),o()(B,Y.TWO,"607c871d-b766-4c6f-ba89-b6c6ca32b156"),o()(B,Y.THREE,"42990074-9a73-4459-b749-f3110d222a72"),o()(B,Y.FOUR,"5702b6f3-62a3-44d2-abe8-fece100a8bf4"),B);function $(e,t){var n=t.url,r=t.method,o=t.token,c=t.ctoken,u=t.extra,i=function(e){return"live"===Object(a.getRuntimeServer)()?Z[e]:X[e]}(e);switch(e){case 1:return function(e,t,n){if(n){var r=n.plat,o=n.fromID,c=n.reqID,u=n.toID,a=n.timestamp,i=n.type,s=n.strinput,d="key=".concat(t,"&plat=").concat(r,"&ver=v1.2&fromID=").concat(o,"&reqID=").concat(c,"&toID=").concat(u,"&timestamp=").concat(a,"&type=").concat(i,"&strinput=").concat(s);return J()(d).toString()}return K()(e+t).toString()}(n,i,u);case 2:return function(e,t,n){return K()(e+t+n).toString()}(n,i,r);case 3:return function(e,t,n){return K()(e+t+n).toString()}(n,i,o);case 4:return function(e,t,n){return K()(e+t+n).toString()}(n,i,c);default:return""}}var ee=function(e){var t=e.url,n=e.method,r=e.token,o=e.ctoken,c=void 0===o?"":o,u=e.version,a=e.fromID,i=e.payload,s=void 0===i?"{}":i,d=e.timestamp,f=JSON.parse(s),p=f.to_id,l=f.request_id,_=f.type,E=f.content,O=void 0===E?{}:E;return{url:t,method:n,token:r,ctoken:c,extra:{plat:u,fromID:a,reqID:l,toID:p,timestamp:d,type:_,strinput:"text"===_&&O.text?O.text:""}}};function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=Object(a.checkIsScChat)(),oe=Object(a.getRuntimeVersion)();function ce(e){return ue.apply(this,arguments)}function ue(){return(ue=f()(l.a.mark((function e(t){var n,r,c,i,d,p,_,E,O,b,S,v,y,C,P,D,A,I,j,N,x,k,U,M,L,G,V,B,Y,q,Q,W,K,z;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.shared,r=void 0!==n&&n,c=t.url,i=t.ssl,d=void 0===i||i,p=t.server,_=t.subServer,E=t.version,O=void 0===E?"v1.2":E,b=t.parent,S=t.parentId,v=t.resource,y=t.id,C=t.suffix,P=t.method,D=void 0===P?"GET":P,A=t.credentials,I=void 0===A?"include":A,j=t.extension,N=t.params,x=void 0===N?{}:N,k=t.payload,U=t.headers,M=void 0===U?{}:U,L=t.namespace,G=void 0===L?"mini":L,V=t.cleaner,B=void 0===V?function(e){return e}:V,Y="mini-session",q="mini-session",Q=function(){return!!F&&T.store.getState().userReducer.isMainPage},W=function(){if("sc"===C)return y;if("auth"===v)return S;if(x.shop_id)return x.shop_id;if(k)try{return JSON.parse(k).shop_id}catch(e){}},K=function(){var e=f()(l.a.mark((function e(t){var n,i,f,E,P,A,N,U,L,F,V,Y,q,K,z,J,X,Z,te,ce,ue,ae,ie,se,de,fe,pe,le,_e,Ee,Oe,be,Se;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=R.a.get("CTOKEN"),f=(i=t||{}).token,E=i.version,P=i.user,A=(P=void 0===P?{}:P).id,N=0,U=0,L=0,q="",K={},e.next=11,w.getRegion(W());case 11:if(z=e.sent,J=f&&"include"===I||!p?{Authorization:"Bearer ".concat(f),"x-shop-region":z}:{},!p&&(p=Object(a.getApiServer)()),c?V=c:(X=[d?"https:/":"http:/",p,_,O,G,b,S,v,y,C].filter(Boolean).join("/"),Z=j?"".concat(X,".").concat(j):X,(te=t&&t.user&&t.user.uid)&&(x._uid=te),oe&&(x._v=oe),n&&(x.csrf_token=n),x._api_source=re?"sc":"pcmall",Y=Object.entries(x).filter((function(e){var t=u()(e,2),n=(t[0],t[1]);return n||0===n})).map((function(e){var t=u()(e,2),n=t[0],r=t[1];return"".concat(n,"=").concat(encodeURIComponent(r))})).join("&"),V=[Z,Y].filter(Boolean).join("?"),ce=[G,b,S,v,y,C].filter(Boolean).join("/"),ue=j?"/".concat(ce,".").concat(j):"/".concat(ce),K._uid=te||"",K._v=oe||"",ae=Object.entries(K).map((function(e){var t=u()(e,2),n=t[0],r=t[1];return"".concat(n,"=").concat(encodeURIComponent(r))})).join("&"),q=[ue,ae].join("?")),e.prev=15,!(void 0!==y&&parseInt(y)<=0&&!V.includes("message_shortcuts/group")||void 0!==S&&parseInt(S)<=0)){e.next=19;break}throw new Error;case 19:return ie={},se=Date.now(),(de="POST"===D&&"messages"===v&&!C)&&(fe=ee({url:q,method:D,version:oe,token:J.Authorization||"",fromID:A,payload:k,timestamp:se}),ie={ts:se,"x-v":E||"","x-s":$(E,fe)}),pe={method:D,credentials:I,headers:ne(ne(ne({},J),ie),M),body:k},e.next=27,h(V,pe);case 27:le=e.sent,N=le.status,e.t0=N,e.next=204===e.t0?32:404===e.t0?34:452===e.t0?36:500===e.t0?38:502===e.t0?40:42;break;case 32:return _e=null,e.abrupt("break",46);case 34:return _e={message:"Resource not found"},e.abrupt("break",46);case 36:return _e={message:"Tempory Error"},e.abrupt("break",46);case 38:return _e={message:"Internal server error"},e.abrupt("break",46);case 40:return _e={message:"Bad Gateway"},e.abrupt("break",46);case 42:return 200===N&&(U=parseInt(le.headers.get("total")),L=parseInt(le.headers.get("per-page"))),e.next=45,le.json();case 45:_e=e.sent;case 46:if([200,204].includes(N)&&"report_upload"===v&&k&&(Ee=JSON.parse(k),Oe=Ee.vid,performance.mark("REPORT_UPLOAD_".concat(Oe))),200!==N){e.next=52;break}return be=_e instanceof Array?o()({total:U,perPage:L},v,_e.map((function(e){return B(e,re)}))):B(_e,re),r&&Q()&&H.dispatch(a.CustomShareEvent.SHARE_API_DATA,ne({type:a.ShareDataType.UNREAD},"object"===s()(be)?be:{res:be})),de&&k&&(F=JSON.parse(k).request_id,Object(a.setItem)(F,se)),e.abrupt("return",be);case 52:if(204!==N){e.next=54;break}return e.abrupt("return",null);case 54:if(!Object(g.q)(N)){e.next=68;break}if([400,404].includes(N),![429,451,491,493].includes(N)){e.next=61;break}throw new(Object(g.g)(N))(_e);case 61:if(401!==N){e.next=65;break}T.store.dispatch(Object(m.a)({resource:v})),e.next=68;break;case 65:throw(Se=new(Object(g.g)(N))(_e.message,_e.errors||_e.error_code||_e.errcode,_e.data))&&400===N&&(Se._type_="client"),Se;case 68:e.next=74;break;case 70:throw e.prev=70,e.t1=e.catch(15),N||(e.t1.offlineError=!0),e.t1;case 74:case"end":return e.stop()}}),e,null,[[15,70]])})));return function(t){return e.apply(this,arguments)}}(),!r||Q()){e.next=8;break}return e.abrupt("return");case 8:z=null;try{z=a.LS.getItem(q,!0)}catch(e){z=null}if(z){e.next=14;break}return e.next=13,Object(a.getItem)(Y);case 13:z=e.sent;case 14:return e.abrupt("return",K(z));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae,ie,se,de,fe=n(32),pe=n(59),le=n(66),_e=n.n(le),Ee=n(67),Oe=n.n(Ee),be={"18a6f08d7326025b60ded61f60c9ea20":"LOAD_HTML","0d2968a6996a60fee2db1270a70ef563":"LOAD_STATIC",ea02fc90bd3663f3179be7a1b7847a83:"APP_PREPARE","4e0b71ed91b3eacb1dfc4ec7f63b2966":"LOGIN_API","9d4a48b69fed6d1001e63ee668a05488":"LOGIN_SUCCEEDED","84fcedc144bfce212ae8db9f6ebb84ec":"SHOW_WEBCHAT"};ae={LOAD_HTML:"31b7f223943eee895738ce50e49a359a",LOAD_STATIC:"0ec7c5189cc4ada79908cfe5d6bd97ca",APP_PREPARE:"a61675f22b23600e51007c24a9b8aaf2",LOGIN_API:"75cbf76696b4f8d988de72cdfeb1877c",LOGIN_SUCCEEDED:"05c0e68ee42384c7e07e47fec4400e28",SHOW_WEBCHAT:"1b16553696a08e9f016235005a5a0678",VIDEO_UPLOAD:"334a26e8a6dc82c95a47430f8af2e198",SERVICE_DONE:"19f2ea17be2d1d80257667787e54c882",MESSAGE_SOCKET:"f76ebd29ea3ed4571c9ea48ca893ac14",READ_SOCKET:"37e5b36437f0166056d3312fcea2b592",LOGIN_FAILED:"df8a83f83c949bb6a2b84c6f0048e203",SOCKET_FAILED:"13ddf42d9169b2ce05feb84224d79057",SHARED_TABS:"94e8d83005c95982268ff1c8b036313e",CHATWS_SOCKET_FAILED:"9034ae776ecbdc29ec67fb0edf78011f"},ie={LOAD_HTML:"18a6f08d7326025b60ded61f60c9ea20",LOAD_STATIC:"0d2968a6996a60fee2db1270a70ef563",APP_PREPARE:"ea02fc90bd3663f3179be7a1b7847a83",LOGIN_API:"4e0b71ed91b3eacb1dfc4ec7f63b2966",LOGIN_SUCCEEDED:"9d4a48b69fed6d1001e63ee668a05488",SHOW_WEBCHAT:"84fcedc144bfce212ae8db9f6ebb84ec",VIDEO_UPLOAD:"cc0dbd7370b7ade934cfe7c01bbd4ae9",SERVICE_DONE:"26ba92fb54150fe3bd6f827bb08ce8c9",MESSAGE_SOCKET:"a01882e94fde5237ca815e13b0e2a88b",READ_SOCKET:"e46fdcb42cae43a7e6f49213f150fa8e",LOGIN_FAILED:"87df9f73fb8b93629ae8a08822cfcf77",SOCKET_FAILED:"3a74221d64cf853a5c3ca65c3c3339eb",SHARED_TABS:"22557ca0a2caca6bae43f1932f088d47",CHATWS_SOCKET_FAILED:"f729b9774aef5b67bfd37afc711bdd3f"},se="b23651c629e54c7bc1c9a743f25dbb5825cb1ed4e7bb7f8a78cd788dfc769127",de="2b74d02be173856bde260473166da16b83fcc18d18057ce8b4a73eab5f1c7280";var Se,he={HTML_LOADED:"HTML_LOADED",STATIC_LOADED:"STATIC_LOADED",APP_PREPARED:"APP_PREPARED",LOGIN_API_RESPONSED:"LOGIN_API_RESPONSED",APP_RENDERING:"APP_RENDERING",RENDER_CONVERSATION_LIST:"RENDER_CONVERSATION_LIST",RENDER_MESSAGE_LIST:"RENDER_MESSAGE_LIST",RENDER_WELCOME_PAGE:"RENDER_WELCOME_PAGE"},ve={WELCOME_PAGE:"WELCOME_PAGE",MESSAGE_LIST:"MESSAGE_LIST",CONVERSATION_LIST:"CONVERSATION_LIST",APP:"APP"},Te={TYPE_ERROR:"TypeError",RANGE_ERROR:"RangeError",SYNTAX_ERROR:"SyntaxError",REFERENCE_ERROR:"ReferenceError",SAGA_ERROR:"Saga Error",ERROR_BOUNDARY:"Error Boundary",LOAD_ORDER_ERROR:"Load Order Error",PRELOAD_ERROR:"Preload Error",SOCKET_LOGIN_FAILED:"Socket Login Failed",LOGIN_ERROR:"Login Error",PARAMETER_ERROR:"Parameter Error",API_UNCAUGHT_ERROR:"Api Uncaught Error",API_CLIENT_ERROR:"Api Client Error"};function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}window.__CHANGE_FETCH__||(window.fetch=b.a,window.__CHANGE_FETCH__=!0);var ye,Re,Ce,Pe,De=function(e){Se=e},Ae=!1,Ie=location.host.includes("shopee.cn"),je=Object(a.checkIsScChat)(),we=[],Ne="live"===Object(a.getRuntimeServer)()?ae:ie,xe=function(){try{var e=performance.getEntriesByName(he.HTML_LOADED,"mark")[0].startTime,t=performance.getEntriesByName(he.STATIC_LOADED,"mark")[0].startTime,n=performance.getEntriesByName(he.APP_PREPARED,"mark")[0].startTime,r=performance.getEntriesByName(he.LOGIN_API_RESPONSED,"mark")[0].startTime,o=performance.getEntriesByName(he.APP_RENDERING,"mark")[0].startTime;we.push({id:Ne.LOAD_HTML,duration:window.__INDEX_HTML_LOADED__},{id:Ne.LOAD_STATIC,duration:Math.floor(t-e)},{id:Ne.APP_PREPARE,duration:Math.floor(n-t)},{id:Ne.LOGIN_API,duration:Math.floor(r-n)},{id:Ne.LOGIN_SUCCEEDED,duration:Math.floor(o-r)})}catch(e){}},ke=function(e,t){try{var n=null,r=performance.getEntriesByName(he.APP_RENDERING,"mark")[0].startTime;switch(e){case ve.WELCOME_PAGE:n=performance.getEntriesByName(he.RENDER_WELCOME_PAGE,"mark")[0].startTime,we.push({id:Ne.RENDER_WELCOME_PAGE,duration:Math.floor(n-r)});break;case ve.MESSAGE_LIST:n=performance.getEntriesByName(he.RENDER_MESSAGE_LIST,"mark")[0].startTime,we.push({id:Ne.RENDER_MESSAGE_LIST,duration:Math.floor(n-r)});break;case ve.CONVERSATION_LIST:n=performance.getEntriesByName(he.RENDER_CONVERSATION_LIST,"mark")[0].startTime,we.push({id:Ne.RENDER_CONVERSATION_LIST,duration:Math.floor(n-r)})}we.push(t),Object(fe.a)(Me,{timeout:2e3})}catch(e){}},Ue=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};we.push({id:e,duration:t,extra:n}),Object(fe.a)(Me,{timeout:2e3})};function Me(e){for(;(e.timeRemaining()>5||e.didTimeout)&&we.length;){var t=we.shift(),n=t.id,r=t.duration,o=t.extra;n&&Fe(n,r,o),"live"!==Object(a.getRuntimeServer)()&&be[n]&&console.log("|-- 上报阶段: ",be[n],", 耗时为: ".concat(r))}we.length&&Object(fe.a)(Me,{timeout:2e3})}var Le,Ge=function(){if(!Ae){var e=Object(a.getRuntimeServer)(),t="live"===e,n=Object(a.getRuntimeRegion)(),r=Object(a.getRuntimeVersion)();ye=new pe.MdapSdk({app_name:"minichat",secret_key:t?se:de,environment:e,region:n,app_version:r,sample:t?.2:1}),Re=new _e.a({path:[/[\\/]webchat[\\/]api[\\/].*[\\/](login|(conversations[\\/](\d+)[\\/]messages)|conversations|orders_by_buyer_id|vouchers|products|items|(offer[\\/]given)|read|(video[\\/](in_whitelist|preupload|report_upload|upload_status)))[\\?]/,"/webchat/api/v1.2/messages"]}),Ce=new Oe.a({path:[/.*[\\/]chateasy[\\/].*\.(js|css)/]}),Pe=new pe.CustomPlugin({}),ye.use(Re),ye.use(Ce),ye.use(Pe),Ae=!0}};function Fe(e,t,n){Ae||Ge();var r={point_id:e,data:{userType:Se,localOrCn:void 0!==Le?Le:Le=Ie&&"CN"!==Object(a.getRuntimeRegion)().toUpperCase()?"cn":"local",chatHost:je?"seller":"pcmall"}};t&&(r=me(me({},r),{},{duration:t})),n&&(r.data=me(me({},r.data),n)),Pe.sendData(r)}var He,Ve=n(68),Be=n.n(Ve),Ye=n(0),qe=l.a.mark(Ke),Qe=[];He=[202,215];var We=function(e,t){var n=He.includes(e)?"c":"r",r=(t||"").toLocaleLowerCase(),o="".concat(Object(a.getCDNUrl)(),"shopee-seller-live-sg/tsp/api/").concat(n,"_").concat(e,"_").concat(r,".json");return b()(o).then(function(){var e=f()(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};function Ke(e){var t,n,r,o,c,u;return l.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.locale,n="live"===Object(a.getRuntimeServer)()||"live-test"===Object(a.getRuntimeServer)(),r=new Be.a({name:"webchat"}),o={},i.next=6,r.create({locale:t,env:n?"live":"non-live",translation:{projectId:3}});case 6:if(c=i.sent,o=c.translation,!Object(a.checkEmptyObject)(o)){i.next=15;break}return u=[],He.concat(Qe).forEach((function(e){u.push(We(e,t))})),i.next=13,Object(Ye.all)(u);case 13:i.sent.forEach((function(e){Object.assign(o,e)}));case 15:return i.abrupt("return",o);case 16:case"end":return i.stop()}}),qe)}var ze=n(9),Je=n(5),Xe=l.a.mark(et);function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function et(e,t,n){var r,o,c,u,a=arguments;return l.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r=a.length>3&&void 0!==a[3]?a[3]:[],o=e,c=[],u=[],Array.isArray(e)&&(o=(Object(ze.d)(n,e).entities||{})[n]||{}),t.forEach((function(e){var t=e.id,a=o[t];a?["conversations","agentConversations"].includes(n)&&(void 0!==a.faking||a.latestMessageStatus||void 0!==a.unreplied)?(delete(e=$e($e({},a),e)).faking,delete e.latestMessageStatus,delete e.unreplied,u.push(e)):(r.length&&r.forEach((function(t){e[t]=a[t]})),c.push(Object(Ye.put)(Object(Je.Og)({name:n,id:t,record:$e({},e)})))):u.push(e)})),u.length&&c.push(Object(Ye.put)(Object(Je.zg)({entities:Object(ze.d)(n,u).entities}))),i.next=9,Object(Ye.all)(c);case 9:case"end":return i.stop()}}),Xe)}var tt=function(e,t,n,r){switch(n){case"reset":if(r){var o=Array.isArray(t)?E()(t):[];return o.unshift(r),o}return t;case"latest":return t.concat(e.filter((function(e){return!t.includes(e)})));case"older":return e.concat(t.filter((function(t){return!e.includes(t)})));default:return t}};function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ot=function(e,t,n){if(e){var r={};return e.forEach((function(e){r[e]=!0})),Object(a.simpleEqualCheck)(n.slice(0,a.persistLimit),e)?rt(rt({},t),{},{changed:!1}):{changed:!0,conversationIds:e,conversationIdsMap:r,lastConversationId:e[e.length-1]}}return null},ct=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e||"number"!=typeof e.storedTimestamp)return!1;var n=18e4,r=18e5;return Date.now()<e.storedTimestamp+(t?n:r)},ut=new(n(80).EventEmitter),at=!1,it=null,st=document.location,dt="".concat(st.protocol,"//").concat(st.host,"/favicon.ico");function ft(){if(at)return null;at=!0,function e(){var t="t=".concat(Date.now()),n=[dt,t].join("?");it=setTimeout((function(){b()(n,{method:"GET"}).then((function(){clearTimeout(it),at=!1,window.dispatchEvent(new Event("judge-online"))})).catch((function(){e()}))}),5e3)}()}var pt=Object(a.checkIsScChat)(),lt=new k.a({name:"".concat(Object(a.getRuntimeRegion)(),"_").concat(Object(a.getRuntimeServer)(),"_chat-ws"),shouldShared:pt}),_t=lt.isShared,Et=lt.socket,Ot=function(){return Et.emit("message","13".concat(JSON.stringify({country:(Object(a.getRuntimeRegion)()||"").toLocaleUpperCase(),source:"newwebchat"})))},bt=n(81),St=Object(bt.createBrowserHistory)({basename:"/chateasy"}),ht=function(){var e=St.location,t=e&&e.pathname;return t&&t.startsWith("/")?t.split("/")[1]:t},vt=n(54),Tt=[];function gt(e){if((e.timeRemaining()>5||e.didTimeout)&&Tt.length){var t=E()(Tt);Tt=[],T.store.dispatch(Object(Je.r)({reportTask:t}))}Tt.length&&Object(fe.a)(gt,{timeout:200})}var mt,yt=function(e){var t;(t=Tt).push.apply(t,E()(e)),Object(fe.a)(gt,{timeout:200})},Rt=function(e){return e.startsWith("https://")||e.startsWith("http://")?e:"https://".concat(e)},Ct=function(e){return"https://".concat(Object(a.getMallUrl)(Object(a.getRuntimeRegion)())).concat(e)},Pt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.order_id,r=t.return_id;switch(e){case"order_detail_page":return Ct("/user/purchase/order/".concat(n));case"my_voucher_page":return Ct("/user/voucher-wallet");case"shipping_info_page":return Ct("/user/purchase/order/".concat(n));case"topay_order_detail_page":return Ct("/user/purchase?type=9");case"drc_discuss_page":return"https://".concat(Object(a.getSellerCenterUrl)(Object(a.getRuntimeRegion)()),"/portal/sale/return/").concat(r);case"spl_landing_page":return Ct("/user/purchase/order/".concat(n));case"change_mobile_number_page":return Ct("/user/account/profile");case"request_order_return_page":case"buyer_order_return_page":case"upload_evidence_page":return Ct("/user/purchase?type=8");case"return_refund_detail_page":return Ct("/return/detail/orderid/".concat(n,"?__mobile__=1"))}};function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.unpaid=1]="unpaid",e[e.to_ship=2]="to_ship",e[e.shipping=3]="shipping",e[e.completed=4]="completed",e[e.cancelled=5]="cancelled"}(mt||(mt={}));var It=function(e,t){return Object(a.cleanOrder)(At(At({},e),{},{status:mt[e.order_status],products_count:e.item_count,created_at:1e3*e.create_time,serial_number:e.order_sn,estimated_escrow:e.seller_estimated_escrow/1e5,total_price:e.buyer_pay_amount/1e5}),t,!0)},jt=function(e){var t;return{checkout_id:e.checkout_id,order_sn:e.order_sn,total_price:e.default_price,currency:e.currency,order_status:String(e.order_status),item_image:(null===(t=e.items)||void 0===t?void 0:t.map((function(e){return null==e?void 0:e.image[0]})))||[e.image],list_type:e.list_type,has_request_refund:e.has_request_refund,buyer_pay_amount:e.buyer_pay_amount,seller_estimated_escrow:e.seller_estimated_escrow,shop_id:e.shop_id,order_id:e.order_id}};function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"SG",t=arguments.length>1?arguments[1]:void 0,n=void 0!==t&&!t;return"TW"!==e||n?a.Currencies[e]:"NT$"},kt=function(e,t){return Nt(Nt({},e),function(e,t){var n=e.original_prices,r=e.actual_prices,o=n.map((function(n){return Object(a.formatPrice)(n,e.country,{},t)})),c=u()(o,2),i=c[0],s=c[1],d=r.map((function(n){return Object(a.formatPrice)(n,e.country,{},t)})),f=u()(d,2),p=f[0],l=f[1],_=i===s?i:"".concat(i," - ").concat(s),E=p===l?p:"".concat(p," - ").concat(l),O=i.includes("NaN")||p.includes("NaN");return{original_price_string:O||_===E?"":_,actual_price_string:O?"".concat(xt(e.country,t),"???"):E,storedTimestamp:Date.now()}}(e,t))};function Ut(e){return function(){var t=Array.prototype.slice.call(arguments);return e.memoize=e.memoize||{},t in e.memoize?e.memoize[t]:e.memoize[t]=e.apply(this,t)}}},function(e,t,n){"use strict";n.d(t,"Rf",(function(){return Wp})),n.d(t,"Ob",(function(){return E})),n.d(t,"ch",(function(){return O})),n.d(t,"D",(function(){return b})),n.d(t,"c",(function(){return S})),n.d(t,"Cd",(function(){return h})),n.d(t,"Of",(function(){return v})),n.d(t,"he",(function(){return T})),n.d(t,"ne",(function(){return g})),n.d(t,"hh",(function(){return m})),n.d(t,"Id",(function(){return y})),n.d(t,"Yb",(function(){return R})),n.d(t,"qe",(function(){return C})),n.d(t,"of",(function(){return P})),n.d(t,"A",(function(){return D})),n.d(t,"J",(function(){return A})),n.d(t,"Qd",(function(){return I})),n.d(t,"zg",(function(){return B})),n.d(t,"Og",(function(){return Y})),n.d(t,"Kb",(function(){return q})),n.d(t,"j",(function(){return Q})),n.d(t,"Pb",(function(){return $})),n.d(t,"Bf",(function(){return ue})),n.d(t,"z",(function(){return ae})),n.d(t,"Ud",(function(){return ie})),n.d(t,"Vd",(function(){return ne})),n.d(t,"pf",(function(){return se})),n.d(t,"Zf",(function(){return de})),n.d(t,"bg",(function(){return pe.a})),n.d(t,"Zg",(function(){return fe.d})),n.d(t,"Uc",(function(){return fe.b})),n.d(t,"Xg",(function(){return fe.c})),n.d(t,"Hh",(function(){return Oe})),n.d(t,"cg",(function(){return be})),n.d(t,"jd",(function(){return Te})),n.d(t,"yb",(function(){return ge})),n.d(t,"ae",(function(){return me})),n.d(t,"Uf",(function(){return ye})),n.d(t,"Yd",(function(){return Re})),n.d(t,"Zc",(function(){return Ce})),n.d(t,"Yc",(function(){return Pe})),n.d(t,"Vc",(function(){return De})),n.d(t,"Fb",(function(){return Ae})),n.d(t,"Gb",(function(){return Ie})),n.d(t,"n",(function(){return je})),n.d(t,"m",(function(){return we})),n.d(t,"Fe",(function(){return Ne})),n.d(t,"Zd",(function(){return xe})),n.d(t,"eh",(function(){return ke})),n.d(t,"Ab",(function(){return Ue})),n.d(t,"kd",(function(){return Me})),n.d(t,"fd",(function(){return Le})),n.d(t,"cd",(function(){return Ge})),n.d(t,"lf",(function(){return Fe})),n.d(t,"mf",(function(){return He})),n.d(t,"Bb",(function(){return Ve})),n.d(t,"Cb",(function(){return Be})),n.d(t,"zb",(function(){return Ye})),n.d(t,"xb",(function(){return qe})),n.d(t,"dd",(function(){return Qe})),n.d(t,"R",(function(){return We})),n.d(t,"tf",(function(){return Ke})),n.d(t,"rf",(function(){return ze})),n.d(t,"ge",(function(){return Je})),n.d(t,"ed",(function(){return Xe})),n.d(t,"pd",(function(){return Ze})),n.d(t,"Mf",(function(){return $e})),n.d(t,"wf",(function(){return et})),n.d(t,"g",(function(){return tt})),n.d(t,"k",(function(){return nt.a})),n.d(t,"lh",(function(){return nt.c})),n.d(t,"Lc",(function(){return st})),n.d(t,"Mc",(function(){return dt})),n.d(t,"Kc",(function(){return ft})),n.d(t,"Jc",(function(){return pt})),n.d(t,"uh",(function(){return lt})),n.d(t,"Eg",(function(){return yt})),n.d(t,"Fg",(function(){return Rt})),n.d(t,"Dg",(function(){return Pt})),n.d(t,"Jh",(function(){return Dt})),n.d(t,"bh",(function(){return qt})),n.d(t,"Jg",(function(){return Qt})),n.d(t,"uc",(function(){return Wt})),n.d(t,"vc",(function(){return Kt})),n.d(t,"lg",(function(){return zt})),n.d(t,"ng",(function(){return Jt})),n.d(t,"pg",(function(){return Xt})),n.d(t,"rg",(function(){return Zt})),n.d(t,"Lg",(function(){return $t})),n.d(t,"Ye",(function(){return en})),n.d(t,"Ig",(function(){return tn})),n.d(t,"Ug",(function(){return nn})),n.d(t,"kg",(function(){return rn})),n.d(t,"ah",(function(){return on})),n.d(t,"tc",(function(){return cn})),n.d(t,"se",(function(){return un})),n.d(t,"mg",(function(){return sn})),n.d(t,"qg",(function(){return dn})),n.d(t,"Ih",(function(){return fn})),n.d(t,"If",(function(){return pr})),n.d(t,"Hf",(function(){return lr})),n.d(t,"Ah",(function(){return _r})),n.d(t,"Yg",(function(){return ir})),n.d(t,"nd",(function(){return Dn})),n.d(t,"od",(function(){return An})),n.d(t,"sd",(function(){return In})),n.d(t,"td",(function(){return jn})),n.d(t,"zc",(function(){return wn})),n.d(t,"Tc",(function(){return Mn})),n.d(t,"md",(function(){return Ln})),n.d(t,"vh",(function(){return Gn})),n.d(t,"rd",(function(){return Hr})),n.d(t,"qd",(function(){return Vr})),n.d(t,"t",(function(){return Zn})),n.d(t,"u",(function(){return $n})),n.d(t,"yg",(function(){return er})),n.d(t,"rh",(function(){return nr})),n.d(t,"jg",(function(){return Nr})),n.d(t,"gg",(function(){return xr})),n.d(t,"ig",(function(){return kr})),n.d(t,"hg",(function(){return Ur})),n.d(t,"oh",(function(){return Mr})),n.d(t,"Gg",(function(){return vr})),n.d(t,"vg",(function(){return Tr})),n.d(t,"xg",(function(){return gr})),n.d(t,"wg",(function(){return mr})),n.d(t,"Ch",(function(){return yr})),n.d(t,"Kh",(function(){return qr})),n.d(t,"dh",(function(){return Qr})),n.d(t,"F",(function(){return Wr})),n.d(t,"te",(function(){return Kr})),n.d(t,"Td",(function(){return zr})),n.d(t,"bd",(function(){return Jr})),n.d(t,"Wg",(function(){return Xr})),n.d(t,"cb",(function(){return Zr})),n.d(t,"bb",(function(){return $r})),n.d(t,"E",(function(){return eo})),n.d(t,"C",(function(){return to})),n.d(t,"K",(function(){return no})),n.d(t,"Eb",(function(){return ao})),n.d(t,"gd",(function(){return io})),n.d(t,"xc",(function(){return so})),n.d(t,"yc",(function(){return fo})),n.d(t,"Nf",(function(){return po})),n.d(t,"eb",(function(){return lo})),n.d(t,"T",(function(){return _o})),n.d(t,"hb",(function(){return Eo})),n.d(t,"gb",(function(){return Oo})),n.d(t,"fb",(function(){return bo})),n.d(t,"ab",(function(){return So})),n.d(t,"ib",(function(){return ho})),n.d(t,"Z",(function(){return vo})),n.d(t,"db",(function(){return To})),n.d(t,"Cc",(function(){return go})),n.d(t,"Ec",(function(){return mo})),n.d(t,"Fc",(function(){return yo})),n.d(t,"wb",(function(){return Ro})),n.d(t,"W",(function(){return Co})),n.d(t,"X",(function(){return Po})),n.d(t,"Ie",(function(){return Do})),n.d(t,"Me",(function(){return Ao})),n.d(t,"kb",(function(){return Io})),n.d(t,"id",(function(){return jo})),n.d(t,"B",(function(){return wo})),n.d(t,"jb",(function(){return No})),n.d(t,"if",(function(){return xo})),n.d(t,"Hb",(function(){return ko.c})),n.d(t,"Ib",(function(){return ko.d})),n.d(t,"Dc",(function(){return ko.i})),n.d(t,"Sb",(function(){return ko.e})),n.d(t,"cc",(function(){return ko.f})),n.d(t,"ec",(function(){return ko.g})),n.d(t,"Ag",(function(){return ko.A})),n.d(t,"ug",(function(){return ko.z})),n.d(t,"sg",(function(){return ko.y})),n.d(t,"ud",(function(){return ko.k})),n.d(t,"wd",(function(){return ko.l})),n.d(t,"Mg",(function(){return ko.D})),n.d(t,"le",(function(){return ko.n})),n.d(t,"af",(function(){return ko.s})),n.d(t,"uf",(function(){return ko.t})),n.d(t,"Ge",(function(){return ko.o})),n.d(t,"o",(function(){return ko.a})),n.d(t,"fc",(function(){return ko.h})),n.d(t,"H",(function(){return ko.b})),n.d(t,"Pe",(function(){return ko.q})),n.d(t,"Ff",(function(){return ko.w})),n.d(t,"vf",(function(){return ko.u})),n.d(t,"He",(function(){return ko.p})),n.d(t,"ld",(function(){return ko.j})),n.d(t,"Hg",(function(){return ko.C})),n.d(t,"Ze",(function(){return ko.r})),n.d(t,"Wd",(function(){return ko.m})),n.d(t,"vd",(function(){return gc})),n.d(t,"p",(function(){return Dc})),n.d(t,"dc",(function(){return pc})),n.d(t,"gc",(function(){return lc})),n.d(t,"L",(function(){return $c})),n.d(t,"Ne",(function(){return pu})),n.d(t,"Oe",(function(){return lu})),n.d(t,"Pg",(function(){return _u})),n.d(t,"xh",(function(){return Ou})),n.d(t,"sh",(function(){return Ru})),n.d(t,"I",(function(){return Pu})),n.d(t,"kf",(function(){return Du})),n.d(t,"wc",(function(){return Au})),n.d(t,"Xd",(function(){return Iu})),n.d(t,"Y",(function(){return ju})),n.d(t,"Db",(function(){return sa})),n.d(t,"Gf",(function(){return Vu})),n.d(t,"Pc",(function(){return na})),n.d(t,"rc",(function(){return ra})),n.d(t,"mc",(function(){return oa})),n.d(t,"sc",(function(){return Nu})),n.d(t,"Qe",(function(){return Lu})),n.d(t,"nc",(function(){return xu})),n.d(t,"Cg",(function(){return ku})),n.d(t,"Rg",(function(){return Uu})),n.d(t,"gh",(function(){return Mu})),n.d(t,"oc",(function(){return Gu})),n.d(t,"zh",(function(){return da})),n.d(t,"jf",(function(){return pa})),n.d(t,"Yf",(function(){return la})),n.d(t,"Qc",(function(){return _a.a})),n.d(t,"cf",(function(){return Ta})),n.d(t,"M",(function(){return Ea.a})),n.d(t,"bf",(function(){return Ea.b})),n.d(t,"Dh",(function(){return Ra})),n.d(t,"Xf",(function(){return Ca})),n.d(t,"Vb",(function(){return qa})),n.d(t,"Tb",(function(){return Qa})),n.d(t,"Wb",(function(){return Wa})),n.d(t,"mb",(function(){return Ka})),n.d(t,"Fd",(function(){return za})),n.d(t,"Rd",(function(){return Ja})),n.d(t,"fe",(function(){return Xa})),n.d(t,"fh",(function(){return Za})),n.d(t,"Re",(function(){return $a})),n.d(t,"Se",(function(){return ei})),n.d(t,"Nc",(function(){return ti})),n.d(t,"Oc",(function(){return ni})),n.d(t,"Q",(function(){return ri})),n.d(t,"Gc",(function(){return oi})),n.d(t,"Hc",(function(){return ci})),n.d(t,"Ac",(function(){return ui})),n.d(t,"Dd",(function(){return ai})),n.d(t,"G",(function(){return ii})),n.d(t,"d",(function(){return si})),n.d(t,"Xe",(function(){return di})),n.d(t,"Rb",(function(){return fi})),n.d(t,"Xc",(function(){return pi})),n.d(t,"Wc",(function(){return li})),n.d(t,"Ed",(function(){return _i})),n.d(t,"Qb",(function(){return Ei})),n.d(t,"Vf",(function(){return Oi})),n.d(t,"Sd",(function(){return bi})),n.d(t,"Je",(function(){return Si})),n.d(t,"Kf",(function(){return hi})),n.d(t,"eg",(function(){return vi})),n.d(t,"Ub",(function(){return Ti})),n.d(t,"zd",(function(){return gi})),n.d(t,"me",(function(){return mi})),n.d(t,"dg",(function(){return yi})),n.d(t,"Od",(function(){return Ri})),n.d(t,"Nd",(function(){return Ci})),n.d(t,"Gd",(function(){return Pi})),n.d(t,"P",(function(){return Di})),n.d(t,"re",(function(){return Ai})),n.d(t,"Wf",(function(){return Ii})),n.d(t,"Ae",(function(){return ji})),n.d(t,"Le",(function(){return wi})),n.d(t,"Be",(function(){return Ni})),n.d(t,"ad",(function(){return xi})),n.d(t,"Kd",(function(){return ki})),n.d(t,"qb",(function(){return Ui})),n.d(t,"Hd",(function(){return Mi})),n.d(t,"Jd",(function(){return Li})),n.d(t,"pb",(function(){return Gi})),n.d(t,"Ld",(function(){return Fi})),n.d(t,"ke",(function(){return Hi})),n.d(t,"Sf",(function(){return Vi})),n.d(t,"S",(function(){return Bi})),n.d(t,"gf",(function(){return Yi})),n.d(t,"ef",(function(){return qi})),n.d(t,"hf",(function(){return Qi})),n.d(t,"df",(function(){return Wi})),n.d(t,"h",(function(){return Ki})),n.d(t,"Pd",(function(){return zi})),n.d(t,"Md",(function(){return Ji})),n.d(t,"hd",(function(){return Xi})),n.d(t,"Lb",(function(){return Zi})),n.d(t,"jc",(function(){return is})),n.d(t,"kc",(function(){return ts})),n.d(t,"yh",(function(){return _s})),n.d(t,"ff",(function(){return Es})),n.d(t,"Rc",(function(){return Os.a})),n.d(t,"tg",(function(){return Os.b})),n.d(t,"ce",(function(){return Ss})),n.d(t,"ub",(function(){return hs})),n.d(t,"ee",(function(){return vs})),n.d(t,"xe",(function(){return Ts})),n.d(t,"de",(function(){return gs})),n.d(t,"sb",(function(){return ys})),n.d(t,"rb",(function(){return Rs})),n.d(t,"U",(function(){return Cs})),n.d(t,"we",(function(){return Ps})),n.d(t,"Nb",(function(){return Gs})),n.d(t,"ze",(function(){return ws})),n.d(t,"ye",(function(){return Ns})),n.d(t,"i",(function(){return xs})),n.d(t,"Ke",(function(){return ks})),n.d(t,"Mb",(function(){return Fs})),n.d(t,"Ic",(function(){return Hs})),n.d(t,"lb",(function(){return Vs})),n.d(t,"Zb",(function(){return Bs.c})),n.d(t,"bc",(function(){return Bs.e})),n.d(t,"th",(function(){return Bs.p})),n.d(t,"Kg",(function(){return Bs.k})),n.d(t,"ph",(function(){return Bs.o})),n.d(t,"Ng",(function(){return Bs.l})),n.d(t,"Sc",(function(){return Bs.f})),n.d(t,"fg",(function(){return Bs.j})),n.d(t,"mh",(function(){return Bs.m})),n.d(t,"nh",(function(){return Bs.n})),n.d(t,"Bh",(function(){return Bs.q})),n.d(t,"Lf",(function(){return Bs.i})),n.d(t,"ac",(function(){return Bs.d})),n.d(t,"ue",(function(){return Bs.h})),n.d(t,"be",(function(){return Bs.g})),n.d(t,"O",(function(){return Bs.b})),n.d(t,"N",(function(){return Bs.a})),n.d(t,"yd",(function(){return Ws})),n.d(t,"xd",(function(){return Ks})),n.d(t,"b",(function(){return Js})),n.d(t,"Jb",(function(){return Xs})),n.d(t,"v",(function(){return Zs})),n.d(t,"Bd",(function(){return ed})),n.d(t,"Af",(function(){return nd})),n.d(t,"vb",(function(){return rd})),n.d(t,"zf",(function(){return cd})),n.d(t,"y",(function(){return ud})),n.d(t,"Ad",(function(){return id})),n.d(t,"nf",(function(){return sd})),n.d(t,"lc",(function(){return dd})),n.d(t,"Vg",(function(){return fd})),n.d(t,"qc",(function(){return pd.b})),n.d(t,"Sg",(function(){return pd.f})),n.d(t,"Bg",(function(){return pd.d})),n.d(t,"Qg",(function(){return pd.e})),n.d(t,"Tg",(function(){return pd.g})),n.d(t,"pc",(function(){return pd.a})),n.d(t,"Fh",(function(){return pd.i})),n.d(t,"ag",(function(){return pd.c})),n.d(t,"Eh",(function(){return pd.h})),n.d(t,"Ef",(function(){return md})),n.d(t,"Df",(function(){return yd})),n.d(t,"Cf",(function(){return Rd})),n.d(t,"Jf",(function(){return Cd})),n.d(t,"yf",(function(){return Pd})),n.d(t,"qf",(function(){return Dd})),n.d(t,"xf",(function(){return Ad})),n.d(t,"q",(function(){return wd})),n.d(t,"Xb",(function(){return Nd})),n.d(t,"nb",(function(){return xd})),n.d(t,"sf",(function(){return nf})),n.d(t,"x",(function(){return rf})),n.d(t,"r",(function(){return of})),n.d(t,"hc",(function(){return cf})),n.d(t,"a",(function(){return ef})),n.d(t,"Bc",(function(){return Zd})),n.d(t,"og",(function(){return $d})),n.d(t,"s",(function(){return xf})),n.d(t,"qh",(function(){return kf})),n.d(t,"ih",(function(){return Uf})),n.d(t,"kh",(function(){return Mf})),n.d(t,"jh",(function(){return Lf})),n.d(t,"je",(function(){return Ff})),n.d(t,"l",(function(){return Hf})),n.d(t,"ie",(function(){return Vf})),n.d(t,"tb",(function(){return Yf})),n.d(t,"V",(function(){return Qf})),n.d(t,"oe",(function(){return Kf})),n.d(t,"pe",(function(){return zf})),n.d(t,"e",(function(){return Zf})),n.d(t,"We",(function(){return $f})),n.d(t,"Qf",(function(){return ep})),n.d(t,"Ue",(function(){return tp})),n.d(t,"Pf",(function(){return np})),n.d(t,"Ve",(function(){return rp})),n.d(t,"Te",(function(){return op})),n.d(t,"ob",(function(){return cp})),n.d(t,"f",(function(){return up})),n.d(t,"Ce",(function(){return ap})),n.d(t,"wh",(function(){return vp})),n.d(t,"Ee",(function(){return dp})),n.d(t,"w",(function(){return fp})),n.d(t,"Tf",(function(){return Op})),n.d(t,"De",(function(){return Tp})),n.d(t,"ve",(function(){return Lp})),n.d(t,"ic",(function(){return Gp})),n.d(t,"Gh",(function(){return qp}));var r=n(2),o=n.n(r),c=n(0),u=function(e,t){return e===t};function a(e,t){var n,r,o="object"==typeof t?t:{equalityCheck:t},c=o.equalityCheck,a=void 0===c?u:c,i=o.maxSize,s=void 0===i?1:i,d=o.resultEqualityCheck,f=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}}(a),p=1===s?(n=f,{get:function(e){return r&&n(r.key,e)?r.value:"NOT_FOUND"},put:function(e,t){r={key:e,value:t}},getEntries:function(){return r?[r]:[]},clear:function(){r=void 0}}):function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var o=n[r];return r>0&&(n.splice(r,1),n.unshift(o)),o.value}return"NOT_FOUND"}return{get:r,put:function(t,o){"NOT_FOUND"===r(t)&&(n.unshift({key:t,value:o}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(s,f);function l(){var t=p.get(arguments);if("NOT_FOUND"===t){if(t=e.apply(null,arguments),d){var n=p.getEntries().find((function(e){return d(e.value,t)}));n&&(t=n.value)}p.put(arguments,t)}return t}return l.clearCache=function(){return p.clear()},l}function i(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function s(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var c,u=0,a={memoizeOptions:void 0},s=r.pop();if("object"==typeof s&&(a=s,s=r.pop()),"function"!=typeof s)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof s+"]");var d=a,f=d.memoizeOptions,p=void 0===f?n:f,l=Array.isArray(p)?p:[p],_=i(r),E=e.apply(void 0,[function(){return u++,s.apply(null,arguments)}].concat(l)),O=e((function(){for(var e=[],t=_.length,n=0;n<t;n++)e.push(_[n].apply(null,arguments));return c=E.apply(null,e)}));return Object.assign(O,{resultFunc:s,memoizedResultFunc:E,dependencies:_,lastResult:function(){return c},recomputations:function(){return u},resetRecomputations:function(){return u=0}}),O}}var d,f=s(a),p=n(3),l={},_=function(e){return e<=100?1:e<=500?2:e<=1e3?3:4},E=function(e){return e.entityReducer},O=f(E,(function(e){return e.users})),b=f(E,(function(e){return e.conversations})),S=f(E,(function(e){return e.agentConversations})),h=f(E,(function(e){return function(e){return Object(p.checkEmptyObject)(e)?l:e}(e.messages)})),v=f(E,(function(e){return e.stickers})),T=f(E,(function(e){return e.orders})),g=f(E,(function(e){return e.products})),m=f(E,(function(e){return e.vouchers})),y=f(E,(function(e){return e.messageShortcutsGroups})),R=f(E,(function(e){return e.feedStories})),C=f(E,(function(e){return e.rateCards})),P=f(E,(function(e){return e.shops})),D=f(E,(function(e){return e.contacts})),A=f(b,S,(function(e,t){var n=Object.keys(e).length+Object.keys(t).length;return _(n)})),I=f(h,(function(e){return _(Object.keys(e).length)})),j=n(1),w=n.n(j),N=n(23),x=n.n(N),k=n(4);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.UPDATE_ENTITIES="UPDATE_ENTITIES",e.UPDATE_RECORD="UPDATE_RECORD",e.DELETE_RECORD="DELETE_RECORD",e.BATCH_UPDATE_RECORD="BATCH_UPDATE_RECORD"}(d||(d={}));var L,G,F=w()({},d.UPDATE_ENTITIES,(function(e,t){var n=t.payload.entities;return Object.entries(n).reduce((function(e,t){var n=x()(t,2),r=n[0],o=n[1];return"persist"!==r?("shops"===r&&k.N.updateShopMap(o),M(M({},e),{},w()({},r,M(M({},e[r]),o)))):M(M({},e),{},w()({},r,o))}),e)})),H=n(6),V=Object(H.createActions)((L={},w()(L,d.UPDATE_ENTITIES,(function(e){return{entities:e.entities}})),w()(L,d.UPDATE_RECORD,(function(e){return{name:e.name,id:e.id,record:e.record}})),w()(L,d.DELETE_RECORD,(function(e){return{name:e.name,id:e.id}})),w()(L,d.BATCH_UPDATE_RECORD,(function(e){return{name:e.name,records:e.records,checkProp:e.checkProp}})),L)),B=V.updateEntities,Y=V.updateRecord,q=V.deleteRecord,Q=V.batchUpdateRecord;function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z=(G={},w()(G,d.UPDATE_RECORD,(function(e,t){var n=t.payload,r=n.name,o=n.id,c=n.record;return K(K({},e),{},w()({},r,K(K({},e[r]),{},w()({},o,K(K({},e[r][o]),c)))))})),w()(G,d.DELETE_RECORD,(function(e,t){var n=t.payload,r=n.name,o=n.id,c=e[r];return delete c[o],K(K({},e),{},w()({},r,c))})),w()(G,d.BATCH_UPDATE_RECORD,(function(e,t){var n=t.payload,r=n.name,o=n.records,c=n.checkProp,u=K({},e[r]);return Object.keys(o).forEach((function(e){(!c||c&&o[e][c]>u[e][c])&&(u[e]=K(K({},u[e]),o[e]))})),K(K({},e),{},w()({},r,u))})),G);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z,$=Object(H.handleActions)(X(X({},F),z),{users:{},messages:{},conversations:{},agentConversations:{},stickers:{},orders:{},offers:{},products:{},shops:{},rateCards:{},feedStories:{},persist:null,vouchers:{},messageShortcuts:{}});!function(e){e.SHOW_MODAL="SHOW_MODAL",e.CLOSE_MODAL="CLOSE_MODAL"}(Z||(Z={}));var ee,te,ne=f((function(e){return e.modalReducer.show}),(function(e){return e.modalReducer.type}),(function(e,t){return{show:e,type:t}}));function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ce=Object(H.createActions)((ee={},w()(ee,Z.SHOW_MODAL,(function(e){var t=e.type,n=e.title,r=void 0===n?"":n,o=e.content,c=e.actions,u=void 0===c?{}:c,a=e.additions;return{type:t,title:r,content:o,actions:u,additions:void 0===a?{}:a}})),w()(ee,Z.CLOSE_MODAL,(function(){return{}})),ee)),ue=ce.showModal,ae=ce.closeModal,ie=Object(H.handleActions)((te={},w()(te,Z.SHOW_MODAL,(function(e,t){var n=t.payload,r=n.type,o=n.title;return{show:!0,type:r,content:n.content,title:o,actions:n.actions,additions:n.additions}})),w()(te,Z.CLOSE_MODAL,(function(e){return oe(oe({},e),{},{show:!1})})),te),{show:!1,type:"",title:"",content:"",actions:{},additions:{}}),se=function(e){return e.unreadCountReducer.shopsUnreadConversationCount},de=function(e){return e.unreadCountReducer.totalUnreadConversationsCount},fe=n(36),pe=n(22);function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var _e,Ee,Oe=[fe.e],be=Object(H.handleActions)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},fe.a),{totalUnreadConversationsCount:0}),Se=n(13),he=n(9),ve={},Te=function(e){return e.userReducer.loading},ge=function(e){return e.userReducer.currentUserId},me=function(e){return e.userReducer.newbie},ye=function(e){return e.userReducer.translateTips},Re=function(e){return e.userReducer.networkStatus},Ce=function(e){return e.userReducer.hasVideoPermission},Pe=function(e){return e.userReducer.hasReplyPermission},De=function(e){return e.userReducer.hasDeletePermission},Ae=function(e){return e.userReducer.deleteConfigDuration},Ie=function(e){var t=e.userReducer;return{hasDeletePermission:t.hasDeletePermission,deleteConfigVersion:t.deleteConfigVersion,deleteConfigDuration:t.deleteConfigDuration}},je=function(e){return e.userReducer.captchaVisible},we=function(e){return e.userReducer.captchaSignature},Ne=function(e){return e.userReducer.resendMessagePayload},xe=function(e){return e.userReducer.newMessageFlag},ke=function(e){return f(E,(function(t){return Object(Se.denormalize)(e,he.o,{users:t})}))},Ue=f(O,ge,(function(e,t){return Object(Se.denormalize)(t,he.o,{users:e})||ve})),Me=f(Ue,(function(e){return e&&e.locale})),Le=f(Ue,(function(e){return!Object(p.checkEmptyObject)(e)&&e.type===p.AccountType.SUBACCOUNT})),Ge=f(Ue,(function(e){return!Object(p.checkEmptyObject)(e)&&e.is_cb})),Fe=function(e){return e.userReducer.shopStatisticsMap},He=function(e,t){return f(Fe,(function(n){return n["".concat(e,"-").concat(t)]||ve}))},Ve=f(Ue,Le,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t?void 0:e.shop_id})),Be=f(Ue,Le,P,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return t?void 0:Object(Se.denormalize)(e.shop_id,he.m,{shops:n})||{}})),Ye=f(Ue,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.role||""})),qe=f(Ue,(function(e){return e&&e.distribution_status||""})),Qe=function(e){return e.userReducer.isMainPage},We=function(e){return e.userReducer.curTabFocused},Ke=function(e){return e.userReducer.showConversationDetail},ze=function(e){return e.userReducer.showChatWindow},Je=function(e){return e.userReducer.openedMenu},Xe=function(e){return e.userReducer.isScChat},Ze=function(e){return e.userReducer.loginSuccess},$e=function(e){return e.userReducer.socketSuccess},et=function(e){return e.userReducer.showEntry},tt=f(Ue,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.authorizedShopsCount||0})),nt=n(47),rt=n(10);function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ut=o.a.mark(pt),at=o.a.mark(lt),it=Object(H.createActions)((_e={},w()(_e,rt.a.GET_GUIDE_REQUESTED,(function(e){return{userId:e.userId,version:e.version}})),w()(_e,rt.a.GET_GUIDE_SUCCEEDED,(function(e){return{newbie:e.newbie}})),w()(_e,rt.a.GET_GUIDE_FAILED,(function(){return{}})),_e)),st=it.getGuideRequested,dt=it.getGuideSucceeded,ft=it.getGuideFailed;function pt(e){var t,n,r,u,a;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.userId,r=t.version,o.prev=1,o.next=4,Object(p.getItem)("newbie-completed-info");case 4:if(o.sent!=="".concat(n,"-").concat(r)){o.next=7;break}return o.abrupt("return",[]);case 7:return o.next=9,Object(c.call)(k.s,{resource:"newbie",suffix:"uncompleted"});case 9:return u=o.sent,a=u.newbie,o.next=13,Object(c.put)(dt({newbie:a}));case 13:if(!(a.findIndex((function(e){return(e.name||"").toLocaleLowerCase().includes("mini")}))<0)){o.next=17;break}return o.next=17,Object(p.setItem)("newbie-completed-info","".concat(n,"-").concat(r));case 17:return o.abrupt("return",a);case 20:return o.prev=20,o.t0=o.catch(1),o.next=24,Object(c.put)(ft());case 24:return o.abrupt("return",[]);case 25:case"end":return o.stop()}}),ut,null,[[1,20]])}function lt(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.takeEvery)(st,pt);case 2:case"end":return e.stop()}}),at)}var _t,Et=(Ee={},w()(Ee,rt.a.GET_GUIDE_SUCCEEDED,(function(e,t){var n=t.payload.newbie;return ct(ct({},e),{},{newbie:n})})),w()(Ee,rt.a.GET_GUIDE_FAILED,(function(e){return ct(ct({},e),{},{newbie:[]})})),Ee),Ot=n(20),bt=n.n(Ot);function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vt=o.a.mark(Pt),Tt=o.a.mark(Dt);function gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mt=Object(H.createActions)((_t={},w()(_t,rt.a.UPDATE_GUIDE_REQUESTED,(function(e){return{newbieId:e.newbieId}})),w()(_t,rt.a.UPDATE_GUIDE_SUCCEEDED,(function(e){return{newbie:e.newbie}})),_t)),yt=mt.updateGuideRequested,Rt=mt.updateGuideSucceeded;function Ct(e,t){var n,r=bt()(e),o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,u=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){a=!0,c=e},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw c}}}}(r);try{for(o.s();!(n=o.n()).done;){var c=n.value,u=c.children.findIndex((function(e){return e.id===t}));if(-1!==u){c.children.splice(u,1);break}}}catch(e){o.e(e)}finally{o.f()}return r}function Pt(e){var t,n,r;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload.newbieId,o.next=3,Object(c.select)(me);case 3:return n=o.sent,r=Ct(n,t),o.next=7,Object(c.put)(Rt({newbie:r}));case 7:return o.prev=7,o.next=10,Object(c.call)(k.s,{method:"PUT",resource:"newbie",id:t});case 10:o.next=14;break;case 12:o.prev=12,o.t0=o.catch(7);case 14:case"end":return o.stop()}}),vt,null,[[7,12]])}function Dt(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.takeEvery)(yt,Pt);case 2:case"end":return e.stop()}}),Tt)}var At,It,jt=w()({},rt.a.UPDATE_GUIDE_SUCCEEDED,(function(e,t){var n=t.payload.newbie;return ht(ht({},e),{},{newbie:n})})),wt=n(15),Nt=n.n(wt),xt=n(16),kt=n.n(xt);function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Lt=o.a.mark(on),Gt=o.a.mark(cn),Ft=o.a.mark(un),Ht=o.a.mark(sn),Vt=o.a.mark(dn),Bt=o.a.mark(fn),Yt=Object(H.createActions)((At={},w()(At,rt.a.UPDATE_USER_REQUESTED,(function(e){return{status:e.status}})),w()(At,rt.a.UPDATE_NETWORK_STATUS,(function(e){return{networkStatus:e.networkStatus}})),w()(At,rt.a.FETCH_USER_ORDER_DETAIL_REQUESTED,(function(e){return{userId:e.userId,shopId:e.shopId}})),w()(At,rt.a.FETCH_USER_ORDER_DETAIL_SUCCEEDED,(function(e){return{userId:e.userId,shopId:e.shopId,data:e.data}})),w()(At,rt.a.UPDATE_CHAT_WINDOW_STATUS,(function(e){return{shouldShowWindow:e.shouldShowWindow}})),w()(At,rt.a.UPDATE_CHAT_WINDOW_STATUS_SUCCEEDED,(function(e){return{shouldShowWindow:e.shouldShowWindow}})),w()(At,rt.a.UPDATE_CONVERSATION_DETAIL_STATUS,(function(e){var t=e.shouldShowConversationDetail,n=e.needMark;return{shouldShowConversationDetail:t,needMark:void 0!==n&&n}})),w()(At,rt.a.UPDATE_CONVERSATION_DETAIL_STATUS_SUCCEEDED,(function(e){return{shouldShowConversationDetail:e.shouldShowConversationDetail}})),w()(At,rt.a.UPDATE_OPENED_MENU,(function(e){return{openedMenu:e}})),w()(At,rt.a.SET_CHAT_SOURCE,(function(e){return{isScChat:e.isScChat}})),w()(At,rt.a.UPDATE_LOGIN_SUCCESS_STATUS,(function(e){return{loginSuccess:e.loginSuccess}})),w()(At,rt.a.UPDATE_SOCKET_SUCCESS_STATUS,(function(e){return{socketSuccess:e.socketSuccess}})),w()(At,rt.a.UPDATE_CHAT_ENTRY_STATUS,(function(e){return{showEntry:e.showEntry}})),At)),qt=Yt.updateUserRequested,Qt=Yt.updateNetworkStatus,Wt=Yt.fetchUserOrderDetailRequested,Kt=Yt.fetchUserOrderDetailSucceeded,zt=Yt.updateChatWindowStatus,Jt=Yt.updateChatWindowStatusSucceeded,Xt=Yt.updateConversationDetailStatus,Zt=Yt.updateConversationDetailStatusSucceeded,$t=Yt.updateOpenedMenu,en=Yt.setChatSource,tn=Yt.updateLoginSuccessStatus,nn=Yt.updateSocketSuccessStatus,rn=Yt.updateChatEntryStatus;function on(e){var t;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.status,n.prev=1,n.next=4,Object(c.call)(k.s,{method:"PUT",resource:"user",payload:JSON.stringify({distribution_status:t})});case 4:if(!Object(p.checkIsScChat)()||"working"!==t){n.next=9;break}return n.next=9,Object(c.put)(dp({event_time:(Date.parse(new Date+"")/1e3).toString(),url:window.location.href}));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(1),n.next=15,Object(c.put)(Object(Ea.b)({error:n.t0}));case 15:case"end":return n.stop()}}),Lt,null,[[1,11]])}function cn(e){var t,n,r,u;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.userId,r=t.shopId,o.prev=1,o.next=4,Object(c.call)(k.s,{parent:"users",parentId:n,resource:"get_user_shop_statistics_info",params:{shop_id:r}});case 4:return u=o.sent,o.next=7,Object(c.put)(Kt({userId:n,shopId:r,data:u}));case 7:o.next=11;break;case 9:o.prev=9,o.t0=o.catch(1);case 11:case"end":return o.stop()}}),Gt,null,[[1,9]])}function un(){var e,t,n,r,u;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(c.select)(lo);case 2:if(!(e=o.sent)){o.next=8;break}if(t=e.status,n=e.id,r=e.unread_count,u=e.latest_message_id,!("closed"!==t&&r>0)){o.next=8;break}return o.next=8,Object(c.put)(Object(ko.k)({conversationId:n,isRead:!0,latestMessageId:u}));case 8:case"end":return o.stop()}}),Ft)}var an=!0;function sn(e){var t;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.shouldShowWindow,n.next=3,Object(c.put)(Jt({shouldShowWindow:t}));case 3:if(!t){n.next=15;break}return window.CsChat&&window.CsChat.minimizeCsChatWindow&&window.CsChat.minimizeCsChatWindow(),n.next=7,Object(c.call)(un);case 7:if(!an){n.next=13;break}return n.next=10,Object(c.spawn)(is);case 10:return n.next=12,Object(c.call)(pc,{payload:{direction:"reset"}});case 12:an=!1;case 13:return n.next=15,Nt.a.call(kt.a.handleNewConversationMessageQueue());case 15:case"end":return n.stop()}}),Ht)}function dn(e){var t,n,r;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.shouldShowConversationDetail,r=t.needMark,o.next=3,Object(c.put)(Zt({shouldShowConversationDetail:n}));case 3:if(!r||!n){o.next=6;break}return o.next=6,Object(c.call)(un);case 6:case"end":return o.stop()}}),Vt)}function fn(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.takeEvery)(qt,on);case 2:return e.next=4,Object(c.takeEvery)(Wt,cn);case 4:return e.next=6,Object(c.takeEvery)(zt,sn);case 6:return e.next=8,Object(c.takeEvery)(Xt,dn);case 8:case"end":return e.stop()}}),Bt)}var pn,ln,_n=(It={},w()(It,rt.a.UPDATE_NETWORK_STATUS,(function(e,t){var n=t.payload.networkStatus;return Mt(Mt({},e),{},{networkStatus:n})})),w()(It,rt.a.FETCH_USER_ORDER_DETAIL_SUCCEEDED,(function(e,t){var n=t.payload,r=n.userId,o=n.shopId,c=n.data,u="".concat(r,"-").concat(o),a=e.shopStatisticsMap;return Mt(Mt({},e),{},{shopStatisticsMap:Mt(Mt({},a),{},w()({},u,c))})})),w()(It,rt.a.UPDATE_CHAT_WINDOW_STATUS_SUCCEEDED,(function(e,t){var n=t.payload.shouldShowWindow;return Mt(Mt({},e),{},{showChatWindow:n})})),w()(It,rt.a.UPDATE_CONVERSATION_DETAIL_STATUS_SUCCEEDED,(function(e,t){var n=t.payload.shouldShowConversationDetail;return Mt(Mt({},e),{},{showConversationDetail:n})})),w()(It,rt.a.UPDATE_OPENED_MENU,(function(e,t){var n=t.payload.openedMenu;return Mt(Mt({},e),{},{openedMenu:n})})),w()(It,rt.a.SET_CHAT_SOURCE,(function(e,t){var n=t.payload.isScChat;return Mt(Mt({},e),{},{isScChat:n})})),w()(It,rt.a.UPDATE_LOGIN_SUCCESS_STATUS,(function(e,t){var n=t.payload.loginSuccess;return Mt(Mt({},e),{},{loginSuccess:n})})),w()(It,rt.a.UPDATE_SOCKET_SUCCESS_STATUS,(function(e,t){var n=t.payload.socketSuccess;return Mt(Mt({},e),{},{socketSuccess:n})})),w()(It,rt.a.UPDATE_CHAT_ENTRY_STATUS,(function(e,t){var n=t.payload.showEntry;return Mt(Mt({},e),{},{showEntry:n})})),It),En=n(29),On=n(34),bn=n.n(On),Sn=n(21);function hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hn(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tn,gn=o.a.mark(Nn),mn=o.a.mark(xn),yn=o.a.mark(Mn),Rn=o.a.mark(Ln),Cn=o.a.mark(Gn);Tn=Object(p.checkIsScChat)();var Pn=Object(H.createActions)((pn={},w()(pn,rt.a.LOGIN_REQUESTED,(function(){return{}})),w()(pn,rt.a.LOGIN_SUCCEEDED,(function(e){return{currentUserId:e.currentUserId,status:e.status}})),w()(pn,rt.a.LOGOUT_REQUESTED,(function(){return{}})),w()(pn,rt.a.LOGOUT_SUCCEEDED,(function(){return{}})),w()(pn,rt.a.FORCE_LOGOUT_REQUESTED,(function(){return{}})),pn)),Dn=Pn.loginRequested,An=Pn.loginSucceeded,In=Pn.logoutRequested,jn=Pn.logoutSucceeded,wn=Pn.forceLogoutRequested;function Nn(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.call)(p.getItem,e);case 2:if(t.sent){t.next=6;break}return t.next=6,Object(c.call)(p.setItem,e,bn()());case 6:case"end":return t.stop()}}),gn)}function xn(){var e,t;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=Object(p.getTranslationLocale)(Object(p.getRuntimeLocale)()),n.next=3,Object(c.call)(k.w,{locale:e});case 3:return t=n.sent,n.next=6,Object(c.call)(p.changeLanguage,e,t);case 6:case"end":return n.stop()}}),mn)}var kn=o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(p.getTranslationLocale)(t),e.prev=1,e.next=4,Object(c.call)(k.w,{locale:r});case 4:n=e.sent,e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,Object(c.call)(k.w,{locale:Object(p.getTranslationLocale)(Object(p.getRuntimeLocale)())});case 11:n=e.sent;case 12:return e.next=14,Object(c.call)(p.changeLanguage,r,n);case 14:return e.next=16,Object(c.call)(p.updateTimeLocale,Object(p.getServiceLocale)(t));case 16:case"end":return e.stop()}}),e,null,[[1,7]])})),Un=o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.call)(xn);case 2:return e.next=4,Object(c.put)(rn({showEntry:!0}));case 4:return e.next=6,Object(c.put)(tn({loginSuccess:!1}));case 6:Object(k.l)(k.j.LOGIN_FAILED,0,{type:(n=t,n instanceof Sn.h?"InternalServerError":n instanceof Sn.f?"Forbidden":n instanceof Sn.l?"Unauthoried":"Other")});case 7:case"end":return e.stop()}var n}),e)}));function Mn(e,t){var n,r,u,a,i,s,d,f,l,_;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,n=t.godToken,r=e.user,u=e.is_ccu_grey,a=r.id,i=r.type,s=r.locale,d=r.distribution_status,f=i===p.AccountType.SUBACCOUNT,window.__WEBCHAT_LOGIN__||f&&"working"===d&&(window.__WEBCHAT_LOGIN__=!0),o.next=8,Object(c.call)(kn,s||"en");case 8:return performance.mark("APP_RENDERING"),Object(k.o)(),Object(k.I)(i),Object(k.q)(r),o.next=14,Object(c.put)(Qt({networkStatus:"online"}));case 14:return window.addEventListener("online",(function(){En.store.dispatch(Qt({networkStatus:"online"}))})),window.addEventListener("offline",(function(){En.store.dispatch(Qt({networkStatus:"offline"}))})),o.next=18,Object(c.put)(tn({loginSuccess:!0}));case 18:return o.next=20,Object(c.put)(rn({showEntry:!0}));case 20:return l=Object(he.d)("users",r),_=l.entities,o.next=23,Object(c.put)(B({entities:_}));case 23:return!n&&k.P.connect(),Tn&&k.P.dispatch(p.CustomShareEvent.CALC_CONNECTIONS),o.next=27,Object(c.put)(An({currentUserId:a}));case 27:return f||!n&&!u&&k.r.connect(),o.next=30,Object(c.put)(Zn());case 30:return o.next=32,Object(c.spawn)(Nn,"device_id");case 32:if(f){o.next=35;break}return o.next=35,Object(c.call)(pd.a,Object(pd.b)({shopId:r.shop_id}));case 35:o.next=41;break;case 37:return o.prev=37,o.t0=o.catch(0),o.next=41,Object(c.call)(Un,o.t0);case 41:return o.prev=41,o.finish(41);case 43:case"end":return o.stop()}}),yn,null,[[0,37,41,43]])}function Ln(){var e,t,n;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,performance.mark("APP_PREPARED"),e="",(t={method:"POST",subServer:"coreapi",resource:"login"}).params={source:Tn?"sc":"pcmall"},(Object(p.isVisitingCNSC)()||Object(p.isVisitingKRSC)())&&(t.parent="cbsc"),r.next=8,Object(c.call)(k.s,t);case 8:return n=r.sent,performance.mark("LOGIN_API_RESPONSED"),r.next=12,Object(p.setItem)("mini-session",n);case 12:return p.LS.setItem("mini-session",JSON.stringify(n)),r.abrupt("return",{session:n,params:{godToken:e}});case 16:return r.prev=16,r.t0=r.catch(0),r.next=20,Object(c.call)(Un,r.t0);case 20:return r.prev=20,r.finish(20);case 22:case"end":return r.stop()}}),Rn,null,[[0,16,20,22]])}function Gn(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.takeLatest)(Dn,Ln);case 2:return e.next=4,Object(c.takeLatest)(In,Vr);case 4:return e.next=6,Object(c.takeLatest)(wn,Hr);case 6:case"end":return e.stop()}}),Cn)}var Fn,Hn,Vn,Bn=(ln={},w()(ln,rt.a.LOGIN_SUCCEEDED,(function(e,t){var n=t.payload.currentUserId;return vn(vn({},e),{},{currentUserId:n})})),w()(ln,rt.a.LOGOUT_SUCCEEDED,(function(e){return vn(vn({},e),{},{currentUserId:null,performance:{},closeHangupTips:!1,hasVideoPermission:!1,captchaVisible:!1,curTabFocused:!0})})),ln),Yn=n(70),qn=n.n(Yn),Qn=n(30),Wn=o.a.mark(tr),Kn=o.a.mark(nr);function zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zn(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Vn=Object(p.checkIsScChat)();var Xn=Object(H.createActions)((Fn={},w()(Fn,rt.a.CHECK_USER_PERMISSION_REQUESTED,(function(){return{}})),w()(Fn,rt.a.CHECK_USER_PERMISSION_SUCCEEDED,(function(e){return{hasVideoPermission:e.hasVideoPermission,hasReplyPermission:e.hasReplyPermission,hasDeletePermission:e.hasDeletePermission,deleteConfigDuration:e.deleteConfigDuration,deleteConfigVersion:e.deleteConfigVersion}})),w()(Fn,rt.a.UPDATE_DEL_PERMISSION,(function(e){return{hasDeletePermission:e.hasDeletePermission,deleteConfigDuration:e.deleteConfigDuration,deleteConfigVersion:e.deleteConfigVersion}})),Fn)),Zn=Xn.checkUserPermissionRequested,$n=Xn.checkUserPermissionSucceeded,er=Xn.updateDelPermission;function tr(){var e,t,n,r,u,a,i,s,d,f;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return e={hasVideoPermission:!1,hasReplyPermission:!1,hasDeletePermission:!1,deleteConfigDuration:0,deleteConfigVersion:0},o.prev=1,o.next=4,Object(c.call)(k.s,{subServer:"coreapi",parent:"user",resource:"global_config"});case 4:return t=o.sent,o.next=7,Object(c.select)(Qn.currentUserSelector);case 7:n=o.sent,r=n.id,u=n.type,a=n.country,e.hasVideoPermission=t.video,e.hasReplyPermission=t.reply,"seller"===u&&(i=t.delete_msg||{},e.deleteConfigVersion=i.config_version,(s=(i.region_config||[]).find((function(e){return e.region===a})))&&s.duration&&(e.hasDeletePermission=!0,e.deleteConfigDuration=s.duration)),d=null,f="live"===Object(p.getRuntimeServer)(),(t.privacy&&Vn||!f)&&(d=new qn.a({projectId:"983743070955270818",env:"live",uid:r})),f||(window.CreateNewFullStorySdk=function(){return[r,d]},window.GetNecessaryInfo=function(){return{user:n}}),o.next=20;break;case 18:o.prev=18,o.t0=o.catch(1);case 20:return o.next=22,Object(c.put)($n(Jn({},e)));case 22:case"end":return o.stop()}}),Wn,null,[[1,18]])}function nr(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.takeEvery)(Zn,tr);case 2:case"end":return e.stop()}}),Kn)}var rr=(Hn={},w()(Hn,rt.a.CHECK_USER_PERMISSION_SUCCEEDED,(function(e,t){var n=t.payload,r=n.hasVideoPermission,o=n.hasReplyPermission,c=n.hasDeletePermission,u=n.deleteConfigDuration,a=n.deleteConfigVersion;return Jn(Jn({},e),{},{hasVideoPermission:r,hasReplyPermission:o,hasDeletePermission:c,deleteConfigDuration:u,deleteConfigVersion:a})})),w()(Hn,rt.a.UPDATE_DEL_PERMISSION,(function(e,t){var n=t.payload,r=n.hasDeletePermission,o=n.deleteConfigDuration,c=n.deleteConfigVersion;return Jn(Jn({},e),{},{hasDeletePermission:r,deleteConfigDuration:o,deleteConfigVersion:c})})),Hn);function or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?or(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ur,ar,ir=Object(H.createActions)(w()({},rt.a.UPDATE_TRANSLATE_TIPS,(function(e){return{shopId:e.shopId,flag:e.flag}}))).updateTranslateTips,sr=w()({},rt.a.UPDATE_TRANSLATE_TIPS,(function(e,t){var n=t.payload,r=n.shopId,o=n.flag;return cr(cr({},e),{},{translateTips:cr(cr({},e.translateTips),{},w()({},r,o))})})),dr=o.a.mark(lr),fr=o.a.mark(_r),pr=Object(H.createActions)(w()({},rt.a.SHOW_USER_REQUESTED,(function(e){return{userId:e.userId,shopId:e.shopId,buyerShopId:e.buyerShopId}}))).showUserRequested;function lr(e){var t,n,r,u,a,i,s;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.userId,r=t.shopId,u=t.buyerShopId,o.prev=1,o.next=4,Object(c.call)(k.s,{resource:"users",id:n,params:{shop_id:r,need_cache:1,cache_expires:1800}});case 4:a=o.sent,o.next=10;break;case 7:o.prev=7,o.t0=o.catch(1),a={id:n,shop_id:u};case 10:return i=Object(he.d)("users",a),s=i.entities,o.next=13,Object(c.put)(B({entities:s}));case 13:return o.next=15,Object(c.put)(Wt({userId:n,shopId:r}));case 15:case"end":return o.stop()}}),dr,null,[[1,7]])}function _r(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.takeEvery)(pr,lr);case 2:case"end":return e.stop()}}),fr)}function Er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Er(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Er(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var br=o.a.mark(mr),Sr=o.a.mark(yr),hr=Object(H.createActions)((ur={},w()(ur,rt.a.UPDATE_IS_MAIN_PAGE,(function(e){return{isMainPage:e.isMainPage}})),w()(ur,rt.a.UPDATE_CUR_TAB_FOCUSED,(function(e){return{focused:e.focused}})),w()(ur,rt.a.UPDATE_CUR_TAB_FOCUSED_SUCCEEDED,(function(e){return{focused:e.focused}})),ur)),vr=hr.updateIsMainPage,Tr=hr.updateCurTabFocused,gr=hr.updateCurTabFocusedSucceeded;function mr(e){var t;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t=e.payload.focused)){n.next=5;break}return k.P.dispatch(p.CustomShareEvent.TAB_FOCUSED),n.next=5,Object(c.put)(vr({isMainPage:!0}));case 5:return n.next=7,Object(c.put)(gr({focused:t}));case 7:case"end":return n.stop()}}),br)}function yr(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.takeEvery)(Tr,mr);case 2:case"end":return e.stop()}}),Sr)}var Rr,Cr,Pr=(ar={},w()(ar,rt.a.UPDATE_IS_MAIN_PAGE,(function(e,t){var n=t.payload.isMainPage;return Or(Or({},e),{},{isMainPage:n})})),w()(ar,rt.a.UPDATE_CUR_TAB_FOCUSED_SUCCEEDED,(function(e,t){var n=t.payload.focused;return Or(Or({},e),{},{curTabFocused:n})})),ar);function Dr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dr(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ir=o.a.mark(Ur),jr=o.a.mark(Mr),wr=Object(H.createActions)((Rr={},w()(Rr,rt.a.UPDATE_CAPTCHA_VISIBLE,(function(e){return{visible:e.visible,resendMessagePayload:e.resendMessagePayload}})),w()(Rr,rt.a.UPDATE_CAPTCHA_SIGNATURE,(function(e){var t=e.signature;return{signature:void 0===t?"":t}})),w()(Rr,rt.a.UPDATE_CAPTCHA_SIGNATURE_SUCCEEDED,(function(e){var t=e.signature;return{signature:void 0===t?"":t}})),Rr)),Nr=wr.updateCaptchaVisible,xr=wr.updateCaptchaSignature,kr=wr.updateCaptchaSignatureSucceeded;function Ur(e){var t,n,r,u;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!(t=e.payload.signature)){o.next=12;break}return o.next=4,Object(c.select)(Ne);case 4:if(!(n=o.sent)){o.next=12;break}return o.next=8,Object(c.select)(ti(n.messageId));case 8:return r=o.sent,u={message:r,conversationId:n.conversationId},o.next=12,Nt.a.put(kt.a.resendMessageRequested({payload:u}));case 12:return o.next=14,Object(c.put)(kr({signature:t}));case 14:case"end":return o.stop()}}),Ir)}function Mr(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.takeEvery)(xr,Ur);case 2:case"end":return e.stop()}}),jr)}var Lr=(Cr={},w()(Cr,rt.a.UPDATE_CAPTCHA_VISIBLE,(function(e,t){var n=t.payload,r=n.visible,o=n.resendMessagePayload;return Ar(Ar({},e),{},{captchaVisible:r,resendMessagePayload:o})})),w()(Cr,rt.a.UPDATE_CAPTCHA_SIGNATURE_SUCCEEDED,(function(e,t){var n=t.payload.signature;return Ar(Ar({},e),{},{captchaSignature:n})})),Cr),Gr=n(39),Fr=n.n(Gr),Hr=o.a.mark((function e(){var t=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(!(t.length>0&&void 0!==t[0])||t[0])&&k.P.close(),e.next=4,Object(c.put)(jn());case 4:return e.next=6,Object(c.put)(Ps());case 6:Object(p.removeItem)("mini-session"),Object(p.removeItem)("mini-sc_redirect");case 8:case"end":return e.stop()}}),e)})),Vr=o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={server:Object(p.getSCApiServer)(),namespace:"",resource:"logout",suffixSlash:!0,params:{SPC_CDS:Fr.a.get("SPC_CDS"),SPC_CDS_VER:2}},Object(p.isVisitingCNSC)()||Object(p.isVisitingKRSC)()?(t.version="cnsc",t.parent="selleraccount"):t.version="v1",e.next=5,Object(c.call)(k.s,t);case 5:return document.location.replace("https://".concat(Object(p.getSellerCenterUrl)(),"/account/signin")),window.removeEventListener("online",(function(){En.store.dispatch(Qt({networkStatus:"online"}))})),window.removeEventListener("offline",(function(){En.store.dispatch(Qt({networkStatus:"offline"}))})),Object(k.k)(),e.next=11,Object(c.call)(Hr);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),e.t0.handler?Object(c.call)(e.t0.handler):console.error("[Logout Failed] ",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])}));function Br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Br(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Br(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qr=[nt.c,lt,Dt,fn,Gn,_r,nr,Mr,yr],Qr=Object(H.handleActions)(Yr(Yr(Yr(Yr(Yr(Yr(Yr(Yr(Yr({},nt.b),rr),Lr),Pr),Et),jt),_n),Bn),sr),{newbie:[],networkStatus:"online",translateTips:{},hasVideoPermission:!1,currentUserId:null,currentUser:{},hasReplyPermission:!1,hasDeletePermission:!1,deleteConfigVersion:0,deleteConfigDuration:0,captchaVisible:!1,captchaSignature:"",resendMessagePayload:void 0,curTabFocused:!0,isMainPage:!0,shopStatisticsMap:{},isScChat:!0,openedMenus:"",loginSuccess:!0,socketSuccess:!0,showChatWindow:!1,showConversationDetail:!0,showEntry:!1}),Wr=function(e){return e.conversationReducer.conversationIds},Kr=function(e){return e.conversationReducer.readRequestIds},zr=function(e){return e.conversationReducer.missedReadNoticeCount},Jr=function(e){return e.conversationReducer.inlocation},Xr=function(e){return e.conversationReducer.updateTimeNow},Zr=function(e){return e.conversationReducer.currentConversationId},$r=function(e){return e.conversationReducer.currentConversationCanRead},eo=function(e){return e.conversationReducer.status},to=function(e){return e.conversationReducer.direction},no=f(b,Wr,(function(e,t){return(Object(Se.denormalize)(t,[he.c],{conversations:e})||[]).filter(Boolean)})),ro=f(no,Zr,(function(e,t){return e.filter((function(e){var n=e.id,r=e.unread_count;return e&&(r>0||n===t)}))})),oo=f(no,(function(e){return e.filter((function(e){return e.pinned}))})),co=f(no,(function(e){return e.filter((function(e){return e.status&&"closed"===e.status}))})),uo=f(no,Zr,(function(e,t){return e.filter((function(e){var n=e.unreplied,r=e.id;return void 0===n||n||!n&&r===t}))})),ao=f(no,(function(e){return e.filter((function(e){return e.lack})).map((function(e){return e.id}))||[]})),io=function(e){return e.conversationReducer.keyword},so=function(e){return e.conversationReducer.filter},fo=f(so,no,ro,oo,co,uo,(function(e,t,n,r,o,c){return{All:t,Unread:n,Pinned:r,Closed:o,Unreplied:c}[e]})),po=f(fo,(function(e){return e.sort((function(e,t){return parseInt(t.latest_message_id)-parseInt(e.latest_message_id)})).filter((function(e){return void 0===e.faking}))})),lo=f(no,Zr,Le,Jr,O,b,(function(e,t,n,r,o,c){var u=e.find((function(e){return e.id===t}))||{};if(r&&!u.id&&(u=Object(Se.denormalize)(t,he.c,{conversations:c})||{}),!n&&u.lack){var a=u.to_id,i=Object(Se.denormalize)(a,he.o,{users:o})||{},s={to_shop_id:i.shop_id,to_status:i.status,to_name:i.name||"-",to_avatar:i.avatar};return Object.assign(u,s)}return u})),_o=f(lo,(function(e){return(e||{}).to_id||null})),Eo=f(lo,P,(function(e,t){return Object(Se.denormalize)(e.shop_id,he.m,{shops:t})||{}})),Oo=f(Eo,(function(e){return(null==e?void 0:e.country)||"SG"})),bo=f(lo,(function(e){return e.shop_id})),So=f(lo,(function(e){return e.to_id})),ho=f(lo,(function(e){return e.status})),vo=f(lo,(function(e){return e.auto_translation})),To=f(lo,(function(e){return e.max_general_option_hide_time})),go=function(e){return f(b,(function(t){return Object(Se.denormalize)(e,he.c,{conversations:t})||{}}))},mo=function(e){return f(go(e),(function(e){return e.shop_id}))},yo=function(e){return f(no,(function(t){return e.map((function(e){return t.find((function(t){return t.id===e}))})).filter(Boolean)}))},Ro=f(lo,(function(e){return(e||{}).shop_id||null})),Co=f(O,lo,(function(e,t){return t?Object(Se.denormalize)(t.to_id,he.o,{users:e}):{}})),Po=f(lo,(function(e){return(e||{}).to_shop_id||null})),Do=function(e){return e.conversationReducer.results},Ao=function(e){return e.conversationReducer.searchStatus},Io=f(lo,(function(e){return e.translationAccess})),jo=function(e){return e.conversationReducer.listsHash},wo=function(e){return e.conversationReducer.conversationBeenDeleted},No=f(lo,(function(e){return(e||{}).to_name})),xo=function(e){return e.conversationReducer.access},ko=n(7),Uo=o.a.mark(Lo),Mo=o.a.mark(Go);function Lo(e){var t,n,r,u,a;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload.conversationId,o.prev=1,o.next=4,Object(c.select)(go(t));case 4:return n=o.sent,r=n.shop_id,u=n.pinned,a={method:"PUT",parent:"conversations",parentId:t,resource:u?"unpin":"pin"},r&&(a.payload=JSON.stringify({shop_id:r})),o.next=11,Object(c.call)(k.s,a);case 11:o.next=17;break;case 13:return o.prev=13,o.t0=o.catch(1),o.next=17,Object(c.put)(Object(Ea.b)({error:o.t0}));case 17:case"end":return o.stop()}}),Uo,null,[[1,13]])}function Go(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.takeEvery)(ko.n,Lo);case 2:case"end":return e.stop()}}),Mo)}var Fo=n(8),Ho=n(11),Vo=o.a.mark(Yo),Bo=o.a.mark(qo);function Yo(e){var t,n;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.conversationId,r.prev=1,r.next=4,Object(c.select)(mo(t));case 4:return n=r.sent,r.next=7,Object(c.call)(k.s,{method:"DELETE",resource:"conversations",id:t,params:{shop_id:n}});case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object(c.put)(Object(Ea.b)({error:r.t0}));case 13:case"end":return r.stop()}}),Vo,null,[[1,9]])}function qo(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.takeEvery)(ko.c,Yo);case 2:case"end":return e.stop()}}),Bo)}var Qo=w()({},Fo.a.DELETE_CONVERSATION_SUCCEEDED,Ho.c),Wo=n(43),Ko=w()({},Fo.a.UPDATE_CONVERSATION_FILTER,Object(Ho.b)(p.ConversationTypeEnum.Normal));function zo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zo(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xo,Zo=o.a.mark(ec),$o=o.a.mark(tc);function ec(e,t,n,r,u){var a,i,s,d,f,l,_,E,O,b,S,h,v,T,g;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return a=Object(he.d)("conversations",e),o.next=3,Object(c.select)(lo);case 3:return i=o.sent,o.next=6,Object(c.select)((function(e){return e.entityReducer}));case 6:return s=o.sent,d=s.conversations,f=void 0===d?{}:d,l=s.shops,_=void 0===l?{}:l,E=[],i&&i.faking?(O=i.id,E=Object(k.u)(t,a.result,r,O)):E=Object(k.u)(t,a.result,r),b=E.length<p.persistLimit?null:bt()(E).splice(0,p.persistLimit),o.next=16,Object(c.put)(B({entities:{persist:b}}));case 16:return o.next=18,Object(c.call)(k.Q,f,e,"conversations");case 18:return o.next=20,Object(c.spawn)(tc,e);case 20:if(!(S=u&&u.length)){o.next=26;break}return o.next=24,Object(c.call)(k.Q,_,u,"shops");case 24:return o.next=26,Object(c.put)(ku({shopIds:u.map((function(e){return e.id}))}));case 26:return o.next=28,Object(c.put)(Object(Os.b)());case 28:if(!(h=Object(k.t)(b,n,t))||!h.changed){o.next=40;break}if(T=h.lastConversationId,"older"!==r&&"reset"!==r){o.next=35;break}v=a.entities.conversations&&a.entities.conversations[T],o.next=39;break;case 35:return o.next=37,Object(c.select)(no);case 37:g=o.sent,v=g.find((function(e){return e.id===T}));case 39:v&&(S?h.oldestReceivedMessageId=v.latest_message_id:h.oldestTimestampNano=v.last_msg_time_nano);case 40:return o.abrupt("return",{persistObj:h,resultConversationIds:E});case 41:case"end":return o.stop()}}),Zo)}function tc(e){var t,n,r,u,a,i,s,d,f,l,_,E,O,b;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=[],e.forEach((function(e){Object(p.hasTargetMessageOption)(e.last_message_option,p.MessageOption.MSG_OPT_RECALL)&&t.push({conversation_id:e.id,shop_id:e.shop_id})})),!t.length){o.next=27;break}return o.next=5,Object(c.call)(k.s,{method:"POST",parent:"conversation",resource:"last_msg_in_conversation_batch",payload:JSON.stringify({pairs:t})});case 5:if(n=o.sent,!(r=Object.keys(n)).length){o.next=27;break}u={};case 9:if(!r.length){o.next=24;break}if(!(a=r.shift())){o.next=22;break}return o.next=14,Object(c.select)(go(a));case 14:if(i=o.sent,Object(p.hasTargetMessageOption)(i.last_message_option,p.MessageOption.MSG_OPT_RECALL)){o.next=17;break}return o.abrupt("continue",9);case 17:s=n[a],d=s.id,f=s.type,l=s.content,_=s.to_shop_id,E=s.created_at,O=Object(p.getChatBotParams)(s,{updateMaxGeneralOptionHideTime:i.shop_id!==_}),b=Object(p.getCrmPreviewParams)(s),u[a]=Jo(Jo({latest_message_id:d,latest_message_type:f,latest_message_content:l,last_message_time:E},O),b);case 22:o.next=9;break;case 24:if(Object(p.checkEmptyObject)(u)){o.next=27;break}return o.next=27,Object(c.put)(Q({name:"conversations",records:u}));case 27:case"end":return o.stop()}}),$o)}var nc=o.a.mark(pc),rc=o.a.mark(lc),oc=o.a.mark(_c);function cc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cc(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ac=["pinned","unreplied"],ic=function(e,t,n,r,o){var c={},u="older"===e?t:"latest"===e?n:"",a=ac.includes(r);return c.resource=a?"conversation/list":"conversations",c.params={next_timestamp_nano:u,direction:"latest"===e&&u?"latest":"older"},"unread"===r&&(c.params.unread_only=!0),a&&(c.params.type=r),new Promise((function(e,t){Object(k.s)(c).then((function(t){var n=t.conversations,r=void 0===n?[]:n,o=t.page_result;e([r,void 0===o?{}:o])})).catch((function(e){t(e)}))}))},sc=function(e,t,n,r,o,c,u){var a="older"===t?n:"latest"===t?r:"",i={direction:"latest"===t?"latest":"older"};if(a&&(i.last_received_message_id=a),c)return e&&(i.shop_id=e),o&&["unread","pinned"].includes(o)&&(i.type=o),new Promise((function(e,t){Object(k.s)({parent:"subaccount",resource:"conversations",params:i}).then((function(t){var n=t.conversations;e(void 0===n?[]:n)})).catch((function(e){t(e)}))}))},dc=function(e){return new Promise((function(t,n){Object(k.s)({subServer:"coreapi",parent:"conversation_list_by_ids",params:{conversation_ids:JSON.stringify(e)}}).then((function(e){var n=e.conversations;t(void 0===n?[]:n)})).catch((function(e){n(e)}))}))},fc=function(e){return e=e.filter((function(e){return e})),new Promise((function(t){Object(k.s)({parent:"setting",resource:"auto_translations",params:{shop_ids:JSON.stringify(e)}}).then((function(e){var n=e.auto_translations;t(void 0===n?[]:n)})).catch((function(){t([])}))}))};function pc(e){var t,n,r,u,a,i,s,d,f,l,_,E,O,b,S,h,v,T,g,m,y,R,C,P,D,A,I,j,w,N,k,U,M,L,G,F,H,V,B,Y,q,Q,W,K,z,J,X,Z,$,ee,te,ne,re,oe,ce,ue,ae,ie,se,de,fe;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.direction,r=t.noPending,u=t.source,a="latest"===n,i=null,o.next=5,Object(c.select)(Xe);case 5:return s=o.sent,o.next=8,Object(c.select)(Le);case 8:return d=o.sent,o.next=11,Object(c.select)(so);case 11:if(f=o.sent.toLowerCase(),l=!d,_=u===p.ConversationSource.SYNC,"reset"!==n){o.next=19;break}return o.next=17,Nt.a.put(kt.a.resetConversationQueue({isLazy:!0}));case 17:return o.next=19,Object(c.put)(Object(ko.g)({conversationIds:[],oldestReceivedMessageId:"",latestReceivedMessageId:"",maxLatestReceivedMessageId:"",oldestTimestampNano:"",latestTimestampNano:"",maxLatestTimestampNano:"",direction:"reset",hasMore:!0,status:p.DataFetchStatus.SUCCEED,persist:null,shouldFetchByTimestamp:l}));case 19:return o.next=21,Object(c.select)((function(e){return e.conversationReducer}));case 21:if(E=o.sent,O=E.oldestTimestampNano,b=E.latestTimestampNano,S=E.maxLatestTimestampNano,h=E.oldestReceivedMessageId,v=E.latestReceivedMessageId,T=E.maxLatestReceivedMessageId,g=E.hasMore,m=E.persist,y=E.conversationIds,R=E.status,C=E.syncFetchException,P=E.currentConversationId,D="reset"===n||(l?!O:!h)&&"older"===n,o.prev=35,"older"===n&&(l?"0"===O:!g)){o.next=154;break}if(r){o.next=40;break}return o.next=40,Object(c.put)(Object(ko.B)({status:D?p.DataFetchStatus.INIT_PENDING:p.DataFetchStatus.PENDING}));case 40:if(A=[],I={},!l){o.next=51;break}return o.next=45,Object(c.call)(ic,n,O,b,f,u);case 45:j=o.sent,w=x()(j,2),A=w[0],I=w[1],o.next=54;break;case 51:return o.next=53,Object(c.call)(sc,i,n,h,v,f,d,u);case 53:A=o.sent;case 54:if(!(N=A.length)){o.next=150;break}if("reset"===n&&(!l||ac.includes(f))){o.next=66;break}if(k=A[N-1],U="older"===n,l?(M=U?O:b,L=U?k.next_timestamp_nano:k.last_message_time_nano):(M=U?h:v,L=k.latest_message_id),!M||!L){o.next=66;break}if(U?L<M:L>M){o.next=66;break}return o.next=65,Object(c.put)(Object(ko.g)({direction:n,status:p.DataFetchStatus.SUCCEED,hasMore:a,persist:m,oldestReceivedMessageId:h,latestReceivedMessageId:v,maxLatestReceivedMessageId:v,conversationIds:y,oldestTimestampNano:O,latestTimestampNano:b,maxLatestTimestampNano:b,shouldFetchByTimestamp:l}));case 65:return o.abrupt("return");case 66:if(s||d){o.next=76;break}return o.next=69,Object(c.select)(Ki);case 69:if("enabled"===o.sent){o.next=76;break}return G=Array.from(new Set(A.map((function(e){return e.to_shop_id})))),o.next=74,Object(c.call)(fc,G);case 74:F=o.sent,A=A.map((function(e){var t=F.find((function(t){return t.shop_id===e.to_shop_id}));return uc(uc({},e),{},{translationAccess:!!t&&t.is_auto_translation})}));case 76:if(H={},A.forEach((function(e){H[e.id]=!0})),Object(Ho.m)(A),V=A[0],B=Object(Ho.e)(V,I.next_cursor),Y=V.latest_message_id,q={status:p.DataFetchStatus.SUCCEED,direction:n,conversationIdsMap:H,shouldFetchByTimestamp:l,maxLatestReceivedMessageId:!T||T<Y?Y:T},!l){o.next=98;break}return Q=B.oldestTimestampNano,W=B.latestTimestampNano,o.next=87,Object(c.select)((function(e){return e.conversationReducer}));case 87:return K=o.sent,z=K.conversationIds,J=K.persist,o.next=92,Object(c.call)(ec,A,z,J,n);case 92:X=o.sent,Z=X.persistObj,$=X.resultConversationIds,q=Object.assign({},q,{oldestTimestampNano:Q,latestTimestampNano:W,persist:Z,conversationIds:$,maxLatestTimestampNano:!S||S<W?W:S}),o.next=118;break;case 98:return ee=[],te=[],o.next=102,Object(c.select)(Au);case 102:if(ne=o.sent,A.forEach((function(e){!ne.includes(e.shop_id)&&te.push(e.shop_id)})),!te.length){o.next=108;break}return o.next=107,Object(c.call)(ra,{shopIds:bt()(new Set(te))});case 107:ee=o.sent;case 108:return o.next=110,Object(c.select)((function(e){return e.conversationReducer}));case 110:return re=o.sent,oe=re.conversationIds,ce=re.persist,o.next=115,Object(c.call)(ec,A,oe,ce,n,ee);case 115:ue=o.sent,ae=A[N-1].latest_message_id,q=Object.assign({},q,{hasMore:!0,conversationIdsMap:H,persist:ue.persistObj,oldestReceivedMessageId:ae,latestReceivedMessageId:Y,conversationIds:ue.resultConversationIds});case 118:if(!_){o.next=130;break}if(!P||!H[P]){o.next=130;break}return ie=A.find((function(e){return e.id===P})),se=(ie||{}).latest_message_id,o.next=124,Object(c.select)(Di);case 124:if(de=o.sent,fe=de.length?de[de.length-1].id:"",se===fe){o.next=130;break}return o.next=130,Nt.a.put(kt.a.fetchMessagesRequested({payload:{conversationId:null==ie?void 0:ie.id,reset:!0},isLazy:!0}));case 130:return o.next=132,Object(c.put)(Object(ko.g)(q));case 132:if(!a){o.next=145;break}if(!l){o.next=141;break}if("0"===B.nextTimestampNano){o.next=139;break}return o.next=137,Object(c.put)(Object(ko.f)({direction:n,noPending:!0}));case 137:o.next=139;break;case 139:o.next=143;break;case 141:return o.next=143,Object(c.put)(Object(ko.f)({direction:n,noPending:!0}));case 143:o.next=148;break;case 145:if(!(q.conversationIds.length<=20)){o.next=148;break}return o.next=148,Object(c.put)(Object(ko.f)({direction:"older",noPending:!0}));case 148:o.next=152;break;case 150:return o.next=152,Object(c.put)(Object(ko.g)({direction:n,status:p.DataFetchStatus.SUCCEED,hasMore:a,persist:m,oldestReceivedMessageId:h,latestReceivedMessageId:v,maxLatestReceivedMessageId:T,oldestTimestampNano:O,latestTimestampNano:b,maxLatestTimestampNano:S,shouldFetchByTimestamp:l,syncFetchException:_?C+1:0}));case 152:o.next=157;break;case 154:if(R===p.DataFetchStatus.INIT_FAILED){o.next=157;break}return o.next=157,Object(c.put)(Object(ko.B)({status:p.DataFetchStatus.SUCCEED}));case 157:o.next=168;break;case 159:if(o.prev=159,o.t0=o.catch(35),!(o.t0 instanceof Sn.k||o.t0 instanceof Sn.j)){o.next=166;break}return o.next=164,Object(c.put)(Object(ko.B)({status:p.DataFetchStatus.TEMPORY_ERROR}));case 164:o.next=168;break;case 166:return o.next=168,Object(c.put)(Object(ko.B)({status:D?p.DataFetchStatus.INIT_FAILED:p.DataFetchStatus.FAILED}));case 168:case"end":return o.stop()}}),nc,null,[[35,159]])}function lc(e){var t,n,r,u,a;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.payload.conversationIds,n=void 0===t?[]:t,o.prev=1,n.length){o.next=6;break}return o.next=5,Object(c.select)(ao);case 5:n=o.sent;case 6:if(!n.length){o.next=16;break}return o.next=9,Object(c.call)(dc,n.slice(0,20));case 9:if(r=o.sent,!(u=r.filter((function(e){return!e.lack}))).length){o.next=16;break}return a={},u.forEach((function(e){a[e.id]=e})),o.next=16,Object(c.put)(Q({name:"conversations",records:a}));case 16:o.next=20;break;case 18:o.prev=18,o.t0=o.catch(1);case 20:case"end":return o.stop()}}),rc,null,[[1,18]])}function _c(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.takeEvery)(ko.f,pc);case 2:return e.next=4,Object(c.takeEvery)(ko.h,lc);case 4:case"end":return e.stop()}}),oc)}var Ec,Oc=(Xo={},w()(Xo,Fo.a.FETCH_CONVERSATIONS_SUCCEEDED,(function(e,t){var n=t.payload,r=n.conversationIds,o=n.conversationIdsMap,c=void 0===o?{}:o,u=n.oldestReceivedMessageId,a=n.latestReceivedMessageId,i=n.direction,s=void 0===i?"reset":i,d=n.status,f=n.hasMore,p=n.oldestTimestampNano,l=n.latestTimestampNano,_=n.persist,E=n.shouldFetchByTimestamp,O=n.maxLatestReceivedMessageId,b=n.maxLatestTimestampNano,S=n.syncFetchException,h=void 0===S?0:S,v=uc(uc({},e),{},{status:d,hasMore:f,persist:_,conversationIds:r||e.conversationIds,conversationIdsMap:"reset"===s?c:uc(uc({},e.conversationIdsMap),c),direction:"latest"===s?s:"older",maxLatestReceivedMessageId:O,maxLatestTimestampNano:b,syncFetchException:h});switch(s){case"reset":E?(v.latestTimestampNano=l,v.oldestTimestampNano=p):(v.oldestReceivedMessageId=u,v.latestReceivedMessageId=a);break;case"latest":E?v.latestTimestampNano=l>e.latestTimestampNano?l:e.latestTimestampNano:v.latestReceivedMessageId=a;break;case"older":E?v.oldestTimestampNano=p:v.oldestReceivedMessageId=u}return v})),w()(Xo,Fo.a.UPDATE_FETCH_CONVERSATIONS_STATUS,Ho.o),w()(Xo,Fo.a.UPDATE_FETCH_CONVERSATIONS_DIRECTION,Ho.n),w()(Xo,Fo.a.UPDATE_CONVERSATION_TIMESTAMP,(function(e,t){var n=t.payload,r=n.latestTimestampNano,o=n.oldestTimestampNano;return uc(uc({},e),{},{latestTimestampNano:r,oldestTimestampNano:o})})),Xo),bc=w()({},Fo.a.SET_CURRENT_CONVERSATION_CAN_READ,Ho.l),Sc=o.a.mark(gc),hc=o.a.mark(mc);function vc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vc(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gc(e){var t,n,r,u,a,i,s,d,f,p,l,_,E,O,b,S,h,v;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.conversationId,r=t.isRead,u=t.latestMessageId,o.prev=1,a=Date.now()+"",i=r?"read":"unread",o.next=6,Object(c.select)(go(n));case 6:if(s=o.sent,d=s.shop_id,f=s.last_read_message_id,!r){o.next=16;break}return o.next=12,Object(c.select)(go(n));case 12:if(p=o.sent,l=p.unread_count,f!==u||l){o.next=16;break}return o.abrupt("return");case 16:if(_=r?{last_read_message_id:u}:{},d&&(_.shop_id=d),!r){o.next=21;break}return o.next=21,Object(c.put)(Object(ko.D)({requestId:a}));case 21:return o.next=23,Object(c.call)(k.s,{method:"PUT",parent:"conversations",parentId:n,resource:i,params:{request_id:a},payload:JSON.stringify(Tc({},_))});case 23:if(!r){o.next=41;break}return o.next=26,Object(c.select)((function(e){return e.conversationReducer}));case 26:return E=o.sent,O=E.conversationMark,b="socket"===O[n],o.next=31,Object(c.put)(Object(ko.l)({conversationId:n,markType:b?"":"api"}));case 31:if(b){o.next=41;break}return o.next=34,Object(c.select)(go(n));case 34:return S=o.sent,h=S.unread_count,v=S.shop_id,o.next=39,Object(c.put)(Y({name:"conversations",id:n,record:{last_read_message_id:u,unread_count:0}}));case 39:return o.next=41,Object(c.put)(Object(fe.d)({type:pe.a.MARK_AS_READ,conversation:{id:n,shop_id:v,unread_count:h}}));case 41:o.next=47;break;case 43:return o.prev=43,o.t0=o.catch(1),o.next=47,Object(c.put)(Object(Ea.b)({error:o.t0}));case 47:case"end":return o.stop()}}),Sc,null,[[1,43]])}function mc(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.takeEvery)(ko.k,gc);case 2:case"end":return e.stop()}}),hc)}var yc,Rc=(Ec={},w()(Ec,Fo.a.MARK_MESSAGES_SUCCEEDED,(function(e,t){var n=t.payload,r=n.conversationId,o=n.markType;return Tc(Tc({},e),{},{conversationMark:Tc(Tc({},e.conversationMark),{},w()({},r,o))})})),w()(Ec,Fo.a.UPDATE_READ_REQUEST_DATA,(function(e,t){var n=t.payload,r=n.requestId,o=n.requestIds,c=n.count,u=Tc({},e);return r&&(u.readRequestIds=[r].concat(e.readRequestIds)),o&&(u.readRequestIds=o),c&&(u.missedReadNoticeCount=c),u})),Ec),Cc=o.a.mark(Dc),Pc=o.a.mark(Ac);function Dc(e){var t,n,r,u;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload.conversationId,o.prev=1,o.next=5,Object(c.select)(Xe);case 5:if(!o.sent){o.next=10;break}return o.next=10,Object(c.put)(dp({event_time:(Date.parse(new Date)/1e3).toString(),url:window.location.href}));case 10:return o.next=12,Object(c.select)(go(t));case 12:return n=o.sent,r=n.shop_id,u=n.status,o.next=17,Object(c.call)(k.s,{method:"PUT",resource:"conversations",id:t,suffix:"status",payload:JSON.stringify({shop_id:r,status:yc[u]})});case 17:o.next=23;break;case 19:return o.prev=19,o.t0=o.catch(1),o.next=23,Object(c.put)(Object(Ea.b)({error:o.t0}));case 23:case"end":return o.stop()}}),Cc,null,[[1,19]])}function Ac(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.takeEvery)(ko.a,Dc);case 2:case"end":return e.stop()}}),Pc)}!function(e){e.activated="closed",e.closed="activated"}(yc||(yc={}));var Ic=o.a.mark(wc),jc=o.a.mark(Nc);function wc(e){var t,n,r,u,a,i,s,d,f,p,l,_,E;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload.conversationId,o.prev=1,o.next=4,Object(c.select)(go(t));case 4:return n=o.sent,r=n.id,u=n.unread_count,a=n.shop_id,o.next=8,Object(c.select)(Zr);case 8:return i=o.sent,o.next=11,Object(c.call)(k.s,{resource:"conversations",id:t,params:{shop_id:a}});case 11:if(s=o.sent,d=s.flag,f=s.entry_point,p=s.unread_count,l=s.latest_message_id,r){o.next=19;break}return _=Object(he.d)("conversations",s),E=_.entities,o.next=17,Object(c.put)(B({entities:E}));case 17:o.next=21;break;case 19:return o.next=21,Object(c.put)(Y({name:"conversations",id:t,record:{flag:d,entry_point:f,unread_count:p}}));case 21:if(u||u===s.unread_count){o.next=24;break}return o.next=24,Object(c.put)(Object(fe.d)({conversation:s,type:pe.a.ACTIVE_CONVERSATION}));case 24:if(t!==i){o.next=28;break}if(!(p>0)){o.next=28;break}return o.next=28,Object(c.put)(Object(ko.k)({conversationId:t,isRead:!0,latestMessageId:l}));case 28:return o.abrupt("return",s);case 31:return o.prev=31,o.t0=o.catch(1),o.abrupt("return",{});case 34:case"end":return o.stop()}}),Ic,null,[[1,31]])}function Nc(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.takeEvery)(ko.i,wc);case 2:case"end":return e.stop()}}),jc)}function xc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xc(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Uc=w()({},Fo.a.FAKE_CONVERSATION_SUCCEEDED,(function(e,t){var n=t.payload.conversationId;return kc(kc({},e),{},{conversationIds:[n].concat(e.conversationIds.filter((function(e){return n!==e})))})})),Mc=o.a.mark(Vc),Lc=o.a.mark(Bc);function Gc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gc(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Hc={restart:ko.a,delete:ko.c,read:ko.k,unread:ko.k,pin:ko.n,unpin:ko.n,mute:ko.m,unmute:ko.m};function Vc(e){var t,n,r,u;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.type,r=t.extra,u=Hc[n],o.next=4,Object(c.put)(u(Fc({},r)));case 4:case"end":return o.stop()}}),Mc)}function Bc(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.takeEvery)(ko.b,Vc);case 2:case"end":return e.stop()}}),Lc)}function Yc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yc(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Hc.close=ko.a;var Qc={hasSCAccess:"login_sellercenter",hasEditOrderAccess:"webchat_order_edit",hasViewOrderAccess:"access_my_sale",hasViewProductAccess:"access_my_product",hasEditVoucherAccess:"my_marketing_voucher_edit",hasViewVoucherAccess:"my_marketing_voucher_access"},Wc=function(e){var t={},n=e.length;return Object.keys(Qc).forEach((function(r){t[r]=!n||e.includes(Qc[r])})),t},Kc=w()({},Fo.a.UPDATE_ACCESS,(function(e,t){var n=Wc(t.payload.access);return qc(qc({},e),{},{access:n})})),zc=["combine","user","orderId","message","agent","agentMessage"];function Jc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jc(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zc=o.a.mark($c);function $c(){var e,t,n,r,u,a,i,s;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(c.select)(Xr);case 2:return e=o.sent,o.prev=3,o.next=6,Object(c.call)(k.s,{subServer:"coreapi",parent:"conversation",resource:"updated_conversation_list",params:{last_update_time:e}});case 6:if(t=o.sent,n=t.conversations,r=t.page_result,!(n.length>0)){o.next=13;break}return u={},n.forEach((function(e){u[e.id]=e})),o.next=13,Object(c.put)(Q({name:"conversations",records:u}));case 13:if(i=(a=r||{}).has_more,!(s=a.next_last_update_time)){o.next=17;break}return o.next=17,Object(c.put)(Object(ko.E)({timeNow:s}));case 17:if(!(i&&n.length>0)){o.next=20;break}return o.next=20,Object(c.call)($c);case 20:o.next=29;break;case 22:if(o.prev=22,o.t0=o.catch(3),!(o.t0 instanceof Sn.d)){o.next=29;break}return o.next=27,Object(c.put)(Object(ko.E)({timeNow:"0"}));case 27:return o.next=29,Object(c.call)(pc,{payload:{direction:"reset"}});case 29:case"end":return o.stop()}}),Zc,null,[[3,22]])}var eu,tu,nu=w()({},Fo.a.UPDATE_SYNC_TIME_NOW,(function(e,t){var n=t.payload.timeNow;return Xc(Xc({},e),{},{updateTimeNow:n})})),ru=o.a.mark(cu),ou=o.a.mark(uu);function cu(e){var t,n,r,u,a,i,s;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload.conversationId,o.prev=1,o.next=4,Object(c.select)(go(t));case 4:return n=o.sent,r=n.shop_id,u=n.mute,o.next=9,Object(c.select)(Le);case 9:return a=o.sent,i={biz_type:a?2:0},r&&(i.shop_id=r),s={method:"PUT",parent:"conversations",parentId:t,resource:u?"unmute":"mute",payload:JSON.stringify(i)},o.next=15,Object(c.call)(k.s,s);case 15:o.next=21;break;case 17:return o.prev=17,o.t0=o.catch(1),o.next=21,Object(c.put)(Object(Ea.b)({error:o.t0}));case 21:case"end":return o.stop()}}),ru,null,[[1,17]])}function uu(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.takeEvery)(ko.m,cu);case 2:case"end":return e.stop()}}),ou)}var au=o.a.mark(Eu),iu=o.a.mark(Ou);function su(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function du(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?su(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):su(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fu=Object(H.createActions)((eu={},w()(eu,Fo.a.SEARCH_CONVERSATIONS_REQUESTED,(function(e){var t=e.keyword,n=void 0===t?"":t,r=e.shopId;return{keyword:n,shopId:void 0===r?"":r}})),w()(eu,Fo.a.SEARCH_CONVERSATIONS_SUCCEEDED,(function(e){return{results:e.results,searchStatus:e.searchStatus}})),w()(eu,Fo.a.UPDATE_SEARCH_PARAMS,(function(e){var t=e.keyword;return{keyword:void 0===t?"":t,searchStatus:e.searchStatus}})),eu)),pu=fu.searchConversationsRequested,lu=fu.searchConversationsSucceeded,_u=fu.updateSearchParams;function Eu(e){var t,n,r,u,a,i;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload.keyword,n=[],r=t.trim(),o.next=5,Object(c.put)(_u({keyword:r,searchStatus:p.DataFetchStatus.INIT_PENDING}));case 5:if(!r){o.next=15;break}return u=r.toLocaleLowerCase(),o.next=9,Object(c.select)((function(e){return e.entityReducer}));case 9:return a=o.sent,i=a.shops,o.next=13,Object(c.select)(no);case 13:o.sent.forEach((function(e){(e.to_name||"").toLocaleLowerCase().includes(u)&&!e.faking&&n.push(du(du({},e),{},{shop_name:(i[e.shop_id]||{}).name}))}));case 15:return o.next=17,Object(c.put)(lu({results:n,searchStatus:p.DataFetchStatus.SUCCEED}));case 17:case"end":return o.stop()}}),au)}function Ou(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.takeLatest)(pu,Eu);case 2:case"end":return e.stop()}}),iu)}var bu=(tu={},w()(tu,Fo.a.SEARCH_CONVERSATIONS_SUCCEEDED,(function(e,t){var n=t.payload,r=n.results,o=n.searchStatus;return du(du({},e),{},{results:r,searchStatus:o})})),w()(tu,Fo.a.UPDATE_SEARCH_PARAMS,(function(e,t){var n=t.payload,r=n.keyword,o=n.searchStatus;return du(du({},e),{},{keyword:r,searchStatus:o})})),tu),Su=n(60);function hu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hu(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tu,gu,mu,yu,Ru=[qo,Wo.c,Go,mc,Ac,_c,Nc,Bc,uu,Ou,Su.b],Cu=(Tu={},zc.forEach((function(e){Tu[e]={pageIndex:1,pageSize:20,hasMore:!0,nextOffset:"0"}})),gu={},zc.forEach((function(e){gu[e]={status:"",results:[],total:0}})),{conversationIds:[],conversationIdsMap:{},maxLatestTimestampNano:"",latestTimestampNano:"",oldestTimestampNano:"",oldestReceivedMessageId:"",latestReceivedMessageId:"",maxLatestReceivedMessageId:"",currentConversationId:null,currentConversationCanRead:!0,filter:"All",keyword:"",draftHash:{},status:"",hasMore:!0,persist:null,results:[],direction:"",searchStatus:"",inlocation:!1,conversationBeenDeleted:!1,syncFetchException:0,conversationMark:{},readRequestIds:[],missedReadNoticeCount:0,access:Wc([]),updateTimeNow:"0"}),Pu=Object(H.handleActions)(vu(vu(vu(vu(vu(vu(vu(vu(vu(vu(vu({},Qo),Wo.a),Ko),bc),Oc),Uc),Rc),Kc),bu),Su.a),nu),Cu),Du=function(e){return f(P,(function(t){return Object(Se.denormalize)(e,he.m,{shops:t})}))},Au=function(e){return e.shopReducer.fetchedShopIds},Iu=f(lo,P,(function(e,t){return Object(Se.denormalize)(e.shop_id,he.m,{shops:t})||{}})),ju=f(Po,E,(function(e,t){return Object(Se.denormalize)(e,he.m,t)||{}}));!function(e){e.FETCH_SHOPS_REQUESTED="FETCH_SHOPS_REQUESTED",e.FETCH_SHOPS_SUCCEED="FETCH_SHOPS_SUCCEED",e.UPDATE_FETCH_SHOPS_STATUS="UPDATE_FETCH_SHOPS_STATUS",e.FETCH_SHOP_AUTH_REQUESTED="FETCH_SHOP_AUTH_REQUESTED",e.UPDATE_FETCHED_SHOP_IDS="UPDATE_FETCHED_SHOP_IDS",e.UPDATE_SHOP_FILTER="UPDATE_SHOP_FILTER",e.VISIT_SHOP_SELLER_CENTER_REQUESTED="VISIT_SHOP_SELLER_CENTER_REQUESTED",e.VISIT_MALL_REQUESTED="VISIT_MALL_REQUESTED",e.SEARCH_SHOPS_REQUESTED="SEARCH_SHOPS_REQUESTED",e.SEARCH_SHOPS_SUCCEED="SEARCH_SHOPS_SUCCEED",e.UPDATE_SEARCH_SHOPS_STATUS="UPDATE_SEARCH_SHOPS_STATUS",e.FETCH_SHOP_DETAIL_INFO="FETCH_SHOP_DETAIL_INFO",e.UPDATE_CURRENT_FETCH_SHOP_IDS="UPDATE_CURRENT_FETCH_SHOP_IDS",e.RESET_CURRENT_FETCH_SHOPS="RESET_CURRENT_FETCH_SHOPS"}(mu||(mu={}));var wu=Object(H.createActions)((yu={},w()(yu,mu.FETCH_SHOPS_REQUESTED,(function(){return{}})),w()(yu,mu.FETCH_SHOPS_SUCCEED,(function(e){return{pagination:e.pagination,result:e.result}})),w()(yu,mu.UPDATE_FETCH_SHOPS_STATUS,(function(e){return{status:e.status}})),w()(yu,mu.FETCH_SHOP_AUTH_REQUESTED,(function(e){return{shopId:e.shopId}})),w()(yu,mu.UPDATE_FETCHED_SHOP_IDS,(function(e){return{shopIds:e.shopIds}})),w()(yu,mu.UPDATE_SHOP_FILTER,(function(e){return{filter:e.filter}})),w()(yu,mu.VISIT_SHOP_SELLER_CENTER_REQUESTED,(function(e){return{url:e.url,shopId:e.shopId,orderId:e.orderId,itemId:e.itemId}})),w()(yu,mu.SEARCH_SHOPS_REQUESTED,(function(e){return{keyword:e.keyword}})),w()(yu,mu.SEARCH_SHOPS_SUCCEED,(function(e){return{pagination:e.pagination,result:e.result,keyword:e.keyword}})),w()(yu,mu.UPDATE_SEARCH_SHOPS_STATUS,(function(e){return{status:e.status}})),w()(yu,mu.FETCH_SHOP_DETAIL_INFO,(function(e){return{shopId:e.shopId}})),yu)),Nu=wu.fetchShopsRequested,xu=(wu.fetchShopsSucceed,wu.updateFetchShopsStatus,wu.fetchShopAuthRequested),ku=wu.updateFetchedShopIds,Uu=wu.updateShopFilter,Mu=wu.visitShopSellerCenterRequested,Lu=wu.searchShopsRequested,Gu=(wu.searchShopsSucceed,wu.updateSearchShopsStatus,wu.fetchShopDetailInfo),Fu=o.a.mark(Vu),Hu=o.a.mark(Bu);function Vu(e){var t,n,r,u;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload.shopId,o.prev=1,o.next=4,Object(c.select)(Du(t));case 4:return n=o.sent,o.next=7,Object(c.call)(k.s,{resource:"shop",id:t,params:{need_cache:1,cache_expires:600}});case 7:return n=o.sent,r=Object(he.d)("shops",n),u=r.entities,o.next=11,Object(c.put)(B({entities:u}));case 11:return o.next=13,Object(c.put)(ku({shopIds:[n.id]}));case 13:return o.abrupt("return",n);case 16:return o.prev=16,o.t0=o.catch(1),o.abrupt("return",{});case 19:case"end":return o.stop()}}),Fu,null,[[1,16]])}function Bu(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.takeEvery)(Gu,Vu);case 2:case"end":return e.stop()}}),Hu)}function Yu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yu(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qu,Wu=w()({},mu.UPDATE_SHOP_FILTER,(function(e,t){var n=t.payload.filter;return qu(qu({},e),{},{shopFilter:n})})),Ku=o.a.mark(Ju),zu=o.a.mark(Xu);function Ju(e){var t,n,r,u,a,i,s,d,f,l,_,E,O,b,S,h,v,T,g,m,y,R,C,P,D;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.url,r=t.shopId,u=t.orderId,a=t.itemId,o.prev=1,o.next=4,Object(c.call)(k.s,{resource:"shop",id:r,suffix:"sc"});case 4:if(i=o.sent,s=i.sc_url,d=i.upgraded,f=i.region,!d){o.next=12;break}return l=window.open(),n?((_=n.split("/"))[2]=Object(p.getSellerCenterUrl)(f),E=_.join("/"),l.location=E.includes("?")?"".concat(E,"&cnsc_shop_id=").concat(r):"".concat(E,"?cnsc_shop_id=").concat(r)):l.location=u?"https://".concat(Object(p.getSellerCenterUrl)(f),"/portal/sale/").concat(u,"?cnsc_shop_id=").concat(r):a?"https://".concat(Object(p.getSellerCenterUrl)(f),"/portal/product/").concat(a,"?cnsc_shop_id=").concat(r):"https://".concat(Object(p.getSellerCenterUrl)(f),"?cnsc_shop_id=").concat(r),o.abrupt("return");case 12:if(!s){o.next=25;break}if(O=s.split("?"),b=O[1].split("&").find((function(e){return e.startsWith("sig=")})),S=b.substring(4),h=O[0].split("."),v=h[h.length-1],T=window.open(),!n){o.next=22;break}return T.location=n.includes("?")?"".concat(n,"&sig=").concat(S):"".concat(n,"?sig=").concat(S),o.abrupt("return");case 22:u||a?u?(g="https://".concat(Object(p.getSellerCenterUrl)(v),"/portal/sale/").concat(u,"?sig=").concat(S),T.location=g):a&&(m="https://".concat(Object(p.getSellerCenterUrl)(v),"/portal/product/").concat(a,"?sig=").concat(S),T.location=m):(y="https://".concat(Object(p.getSellerCenterUrl)(v),"?sig=").concat(S),T.location=y),o.next=28;break;case 25:return R=Object(_a.a)(!1,{type:"permission-denied"}),o.next=28,Object(c.put)(Object(Ea.b)({toast:R}));case 28:o.next=38;break;case 30:return o.prev=30,o.t0=o.catch(1),o.next=34,Object(c.select)(Du(r));case 34:C=o.sent,P="https://".concat(Object(p.getSellerCenterUrl)(C.country),"/portal/"),D=u?"sale/".concat(u):a?"product/".concat(a):"",window.open(P+D);case 38:case"end":return o.stop()}}),Ku,null,[[1,30]])}function Xu(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.takeEvery)(Mu,Ju);case 2:case"end":return e.stop()}}),zu)}function Zu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zu(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ea=o.a.mark(oa),ta=o.a.mark(ca),na=function(e){return new Promise((function(t){Object(k.s)({parent:"conversation",resource:"unread-counts",params:{shop_ids:JSON.stringify(e)}}).then((function(e){var n=e["unread-counts"];t(void 0===n?[]:n)})).catch((function(){t([])}))}))},ra=function(e){var t=e.shopIds,n={ids:JSON.stringify(t)};return new Promise((function(e){Object(k.s)({resource:"shops",params:n}).then((function(t){var n=t.shops;e(void 0===n?[]:n)})).catch((function(){e([])}))}))};function oa(e){var t,n;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.shopId,r.prev=1,r.next=4,Object(c.call)(k.s,{parent:"shop",parentId:t,resource:"auth"});case 4:return n=r.sent,r.abrupt("return",n);case 8:return r.prev=8,r.t0=r.catch(1),r.abrupt("return",{});case 11:case"end":return r.stop()}}),ea,null,[[1,8]])}function ca(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.takeEvery)(xu,oa);case 2:case"end":return e.stop()}}),ta)}var ua=(Qu={},w()(Qu,mu.FETCH_SHOPS_SUCCEED,(function(e,t){var n=t.payload,r=n.pagination,o=n.result;return $u($u({},e),{},{fetchResult:$u($u({},e.fetchResult),{},{pagination:r,result:o})})})),w()(Qu,mu.SEARCH_SHOPS_SUCCEED,(function(e,t){var n=t.payload,r=n.pagination,o=n.result,c=n.keyword;return $u($u({},e),{},{searchResult:$u($u({},e.searchResult),{},{pagination:r,result:o,keyword:c})})})),w()(Qu,mu.UPDATE_FETCH_SHOPS_STATUS,(function(e,t){var n=t.payload.status;return $u($u({},e),{},{status:n})})),w()(Qu,mu.UPDATE_SEARCH_SHOPS_STATUS,(function(e,t){var n=t.payload.status;return $u($u({},e),{},{searchStatus:n})})),w()(Qu,mu.UPDATE_FETCHED_SHOP_IDS,(function(e,t){var n=t.payload.shopIds,r=e.fetchedShopIds;return $u($u({},e),{},{fetchedShopIds:bt()(new Set(r.concat(n)))})})),Qu);function aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ia(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aa(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sa={currentPage:0,perPage:20,hasMore:!0},da=[Bu,ca,Xu],fa={shopFilter:null,fetchedShopIds:[],fetchResult:{pagination:ia({},sa),result:[]},status:"",searchResult:{pagination:ia({},sa),result:[],keyword:""},searchStatus:""},pa=Object(H.handleActions)(ia(ia({},Wu),ua),fa),la=function(e){return e.toastReducer.toast},_a=n(37),Ea=n(33),Oa=n(44);function ba(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ba(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ba(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ha=o.a.mark(Ta),va=o.a.mark(ga);function Ta(e){var t,n,r,u,a;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.type,r=t.error,u=t.toast,o.next=3,Object(c.select)(Ke);case 3:if(!o.sent){o.next=11;break}return a=null,n&&(a=Object(_a.a)(!1,{type:n})),void 0!==r&&(a=r instanceof Sn.d||r instanceof Sn.p?r.handler():Object(_a.a)(!1,{type:"server-error-tips"})),u&&(a=u),o.next=11,Object(c.put)(Object(Ea.c)({toast:a}));case 11:case"end":return o.stop()}}),ha)}function ga(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.takeEvery)(Ea.b,Ta);case 2:case"end":return e.stop()}}),va)}var ma=w()({},Oa.a.SET_TOAST_INFORMATION_SUCCEEDED,(function(e,t){var n=t.payload.toast;return Sa(Sa({},e),{},{toast:n})}));function ya(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ra=[ga,n(71).a],Ca=Object(H.handleActions)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ya(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ya(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ma),{toast:{type:"",message:"",show:!1}});function Pa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Da(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pa(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}p.MessageTypes.MSG_TYPE_TEXT;var Aa,Ia,ja=p.MessageTypes.MSG_TYPE_OFFER,wa=p.MessageTypes.MSG_TYPE_ORDER,Na=p.MessageTypes.MSG_TYPE_PRODUCT,xa=p.MessageTypes.MSG_TYPE_IMAGE,ka=p.MessageTypes.MSG_TYPE_FAQ_UNSUPPORTED,Ua=p.MessageTypes.MSG_TYPE_FAQ_LIVEAGENT_PROMPT,Ma=p.MessageTypes.MSG_TYPE_VIDEO,La=p.MessageTypes.MSG_TYPE_NOTIFICATION,Ga=p.MessageTypes.MSG_TYPE_WEBVIEW,Fa=p.MessageTypes.MSG_TYPE_RATE_CARD,Ha=p.MessageTypes.MSG_TYPE_RATE_CARDS,Va=p.MessageTypes.MSG_TYPE_IMAGE_WITH_TEXT,Ba=[],Ya=[wa,Na],qa=function(e){return(e.messageReducer||{}).faqHistoryStatus},Qa=function(e){return(e.messageReducer||{}).faqHistoryHash},Wa=function(e){return(e.messageReducer||{}).faqId},Ka=f(Qa,Wa,(function(e,t){return e&&t&&e[t]||{all:[]}})),za=function(e){return(e.messageReducer||{}).status},Ja=f((function(e){return e}),(function(e){return(e.messageReducer||{}).messagesRelatedMap||{}})),Xa=function(e){return e.messageReducer.offlineMessages},Za=function(e){var t;return(null===(t=e.messageReducer)||void 0===t?void 0:t.videoMap)||{}},$a=function(e){return f(Za,(function(t){return JSON.parse(JSON.stringify(t[e]||{}))}))},ei=function(e){return f(Za,(function(t){return Object.keys(t).find((function(n){return t[n].vid===e}))}))},ti=function(e){return f(h,(function(t){return Object(Se.denormalize)(e,he.f,{messages:t})}))},ni=function(e){return f(h,(function(t){return Object(Se.denormalize)(e,[he.f],{messages:t})}))},ri=f(Zr,Ja,(function(e,t){return t[e]||{all:[]}})),oi=function(e){return f(Ja,(function(t){return t[e]||{all:[],sending:[],failed:[]}}))},ci=f(ri,(function(e){return null==e?void 0:e.refer})),ui=function(e){return f(oi(e),(function(e){return null==e?void 0:e.refer}))},ai=function(e){return(e.messageReducer||{}).messageFillStatusMap||{}},ii=Object(k.J)((function(e){return f(oi(e),go(e),h,(function(e,t,n){return Object(Ho.d)(e,t,n)}))})),si=f(ri,(function(e){var t=bt()(e.all||[]);return e.securityTipsMessageId&&t.push(e.securityTipsMessageId),t})),di=f(ri,(function(e){return e.sending||[]})),fi=f(ri,(function(e){return e.failed||[]})),pi=f(ri,(function(e){return e.hasMoreOlderMessage})),li=f(ri,(function(e){return e.hasMoreLatestMessage})),_i=f(ri,(function(e){return e.hasNext})),Ei=function(e){return e.messageReducer.entryPoint},Oi=function(e){return e.messageReducer.toBottomHasConflict},bi=f(h,si,(function(e,t){return(Object(Se.denormalize)(t,[he.f],{messages:e})||[]).filter(Boolean)})),Si=f(bi,(function(e){return e.reverse()})),hi=f(Si,lo,(function(e,t){var n=0,r=Ba;return e.forEach((function(e,o){var c=Object(p.getMessageIsSend)(e,t);e.warning&&!c&&(o-n<10&&r.pop(),r.push(e.id),n=o)})),r})),vi=f(lo,Si,(function(e,t){if(!e)return[];var n=e.last_read_message_id;return t.filter((function(t){var r=Object(p.getMessageIsSend)(t,e);return t&&!r&&Object(p.greaterThan)(t.id,n)&&t.type!==La}))})),Ti=f(E,Ka,(function(e,t){var n=t.all;return Object(Se.denormalize)(n,[he.f],e)})),gi=f(Ti,Si,(function(e,t){return(e&&e.length?e:t).filter((function(e){var t=(e||{}).type;return!Object(p.isDeletedMessage)(e)&&[xa,Ma,Va].includes(t)}))})),mi=f(gi,lo,Eo,Ue,Ro,(function(e,t,n,r,o){var c=n&&n.country||"sg",u=Object(p.getVideoServer)(c);return e.map((function(e){var n="",c=!1,a=Object(p.getMessageIsSend)(e,t);switch(e.type){case xa:var i=e.content;n=1!==i.file_server_id&&i.url_hash?"".concat(Object(p.getFileServer)()).concat(i.url_hash):i.url||i.localUrl,c=i.unknown_qr_code&&!a;break;case Ma:var s=e.content;n=s.video_url?"".concat(u).concat(s.video_url):s.localVideoUrl;break;case Va:var d=e.content;n=d.thumb_url?"".concat(Object(p.getFileServer)()).concat(d.thumb_url):d.image_url}var f=e.id,l=e.type,_=e.request_id,E=e.content;return{type:l,id:f,url:n,unknownQrCode:c,trackerData:{shopid:o,account_type:r.role||"shopee_user",message_id:f===_?0:f,conversation_id:t.id,account_id:r.id,is_sender:a,video_original_duration:E.duration_seconds}}}))})),yi=f(vi,(function(e){return e.length?e.map((function(e){return e.id})):Ba})),Ri=f(lo,Si,(function(e,t){return e?t.filter((function(e){return e})).reduce((function(t,n){var r=n.type,o=n.source_type,c=n.source_content,u=n.content;if(Ya.includes(r)&&c){var a="".concat(r,"_id");if(u[a]===c[a])return t}if(r===ja)return t;if(!o||e&&Object(p.getMessageIsSend)(n,e))return t;var i=t.lastSourceMessage,s=t.sourceList;if(!s.length)return{sourceList:s.concat(n),lastSourceMessage:n};if(o===Na){var d=null==c?void 0:c.product_id,f=i.source_content&&i.source_content.product_id;if(!d||f===d)return t}else if(o===wa){var l=null==c?void 0:c.order_id,_=i.source_content&&i.source_content.order_id;if(!l||[-1,0,_].includes(l))return t}return{sourceList:s.concat(n),lastSourceMessage:n}}),{sourceList:[],lastSourceMessage:null}).sourceList:[]})),Ci=f(Ri,(function(e){return e.map((function(e){return e.id}))})),Pi=f(E,bi,(function(e,t){var n=t.filter((function(e){return e&&e.type===ja})).map((function(e){return e.content.offer_id}));return Object(Se.denormalize)(n,[he.h],e)})),Di=f(Si,Ci,di,fi,lo,C,Pi,(function(e,t,n,r,o,c,u){return o?e.filter((function(e){if(!e)return!1;var t=e.content,n=e.type;return!(![ka,Ua].includes(n)&&(!t||t&&0===Object.keys(t).length))})).map((function(e){var o=n.includes(e.id)?p.MessageSendStatus.SENDING:r.includes(e.id)?p.MessageSendStatus.FAILED:e.send_status?p.MessageSendStatus.SUCCEED:null,a=t.includes(e.id),i=Object.assign({},e,{send_status:o,hasMessageSource:a}),s=i,d=s.type,f=s.content,l=void 0===f?{}:f,_=s.message_option;switch(d){case ja:var E=u.find((function(e){return e&&e.id===l.offer_id}));i=Object.assign({},i,{textContent:E});break;case Fa:var O=c[l.card_id];O&&(i=Object.assign({},i,{textContent:O}));break;case Ga:var b=l,S=b.type,h=b.id,v=null;S===Ha&&(v=c[h]),v&&(i=Object.assign({},i,{textContent:v}))}return Object(p.hasTargetMessageOption)(_,p.MessageOption.MSG_OPT_CENSORED_BLACKLIST)&&(i=Da(Da({},i),{},{send_status:p.MessageSendStatus.FAILED,errorCode:p.MessageErrorCode.BLACKLIST})),i})):[]})),Ai=function(e){return f(C,(function(t){return Object(Se.denormalize)(e,he.k,{rateCards:t})}))},Ii=f((function(e){var t;return null==e||null===(t=e.messageReducer)||void 0===t?void 0:t.reply}),(function(e){return e?e.toMessageId:{}})),ji=f(Zr,Ii,(function(e,t){return t[e]||""})),wi=function(e){var t,n;return null===(t=e.messageReducer)||void 0===t||null===(n=t.reply)||void 0===n?void 0:n.scrollToMessageId},Ni=f(ji,h,(function(e,t){return Object(Se.denormalize)(e,he.f,{messages:t})})),xi=function(e){var t,n;return null===(t=e.messageReducer)||void 0===t||null===(n=t.reply)||void 0===n?void 0:n.inScrollToMessage},ki=function(e){return e.messageShortcutGroupReducer},Ui=function(e){return e.messageShortcutGroupReducer&&e.messageShortcutGroupReducer.currentGroupType},Mi=f(ki,Ui,(function(e,t){return e&&e[t]||{groups:[],status:""}})),Li=f(Mi,(function(e){return e.status})),Gi=f(Mi,(function(e){return e.currentGroupId})),Fi=f(Mi,(function(e){var t=e.groups,n=void 0===t?[]:t,r=e.currentGroupId,o=(n.find((function(e){return e.id===r}))||{}).message_shortcuts;return void 0===o?[]:o})),Hi=f(ki,(function(e){var t=(e&&e[p.MessageShortcutGroupType.PERSONAL]||{groups:[]}).groups;return(void 0===t?[]:t).reduce((function(e,t){var n=t.message_shortcuts,r=void 0===n?[]:n;return e.concat(r)}),[])})),Vi=f(ki,(function(e){var t=(e&&e[p.MessageShortcutGroupType.TEAM]||{groups:[]}).groups;return(void 0===t?[]:t).reduce((function(e,t){var n=t.message_shortcuts,r=void 0===n?[]:n;return e.concat(r)}),[])})),Bi=f(Hi,Vi,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[].concat(bt()(e),bt()(t))})),Yi=function(e){return e.settingsReducer.settings},qi=function(e){return e.settingsReducer.needForceUpdate},Qi=function(e){return e.settingsReducer.status},Wi=function(e){return e.settingsReducer.fetchStatus},Ki=f(Yi,(function(e){return e.auto_translation_status||""})),zi=f(Yi,(function(e){return e.show_msg_time||"enabled"})),Ji=f(Yi,(function(e){return e.message_shortcuts_status||""})),Xi=f(Yi,(function(e){return e.legacy_message_shortcuts_count||0})),Zi=f(Yi,(function(e){return e.distribution_account_status||"enabled"}));!function(e){e.FETCH_SETTINGS_REQUESTED="FETCH_SETTINGS_REQUESTED",e.FETCH_SETTINGS_SUCCEEDED="FETCH_SETTINGS_SUCCEEDED",e.FETCH_SETTINGS_STATUS="FETCH_SETTINGS_STATUS",e.UPDATE_SETTING_STATUS="UPDATE_SETTING_STATUS",e.UPDATE_SETTINGS_REQUESTED_BY_TYPE="UPDATE_SETTINGS_REQUESTED_BY_TYPE",e.UPDATE_SETTINGS_REQUESTED="UPDATE_SETTINGS_REQUESTED",e.UPDATE_SETTINGS_SUCCEEDED="UPDATE_SETTINGS_SUCCEEDED"}(Aa||(Aa={}));var $i,es=Object(H.createActions)((Ia={},w()(Ia,Aa.FETCH_SETTINGS_REQUESTED,(function(){return{}})),w()(Ia,Aa.FETCH_SETTINGS_SUCCEEDED,(function(e){return{settings:e.settings,fetchStatus:e.fetchStatus,timestamp:e.timestamp,needForceUpdate:e.needForceUpdate}})),w()(Ia,Aa.FETCH_SETTINGS_STATUS,(function(e){return{fetchStatus:e.fetchStatus}})),w()(Ia,Aa.UPDATE_SETTING_STATUS,(function(e){return{status:e.status}})),w()(Ia,Aa.UPDATE_SETTINGS_REQUESTED_BY_TYPE,(function(e){return e})),w()(Ia,Aa.UPDATE_SETTINGS_REQUESTED,(function(e){return{params:e.params}})),w()(Ia,Aa.UPDATE_SETTINGS_SUCCEEDED,(function(e){return{settings:e.settings,needForceUpdate:e.needForceUpdate}})),Ia)),ts=es.fetchSettingsRequested,ns=es.fetchSettingsSucceeded,rs=es.fetchSettingsStatus;function os(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?os(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):os(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}es.updateSettingStatus,es.updateSettingsRequestedByType,es.updateSettingsRequested,es.updateSettingsSucceeded;var us=o.a.mark(is),as=o.a.mark(ss);function is(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(c.put)(rs({fetchStatus:p.DataFetchStatus.PENDING}));case 3:return t.next=5,Object(c.select)(qi);case 5:return t.sent,t.next=8,Object(c.call)(k.s,{parent:"user",resource:"setting",params:{}});case 8:return e=t.sent,t.next=11,Object(c.put)(ns({settings:e,fetchStatus:p.DataFetchStatus.SUCCEED,timestamp:Date.now(),needForceUpdate:!1}));case 11:return t.abrupt("return",e);case 14:return t.prev=14,t.t0=t.catch(0),t.next=18,Object(c.put)(rs({fetchStatus:p.DataFetchStatus.FAILED}));case 18:return t.abrupt("return",{});case 19:case"end":return t.stop()}}),us,null,[[0,14]])}function ss(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.takeLatest)([ts],is);case 2:case"end":return e.stop()}}),as)}var ds=($i={},w()($i,Aa.FETCH_SETTINGS_SUCCEEDED,(function(e,t){var n=t.payload,r=n.settings,o=n.fetchStatus,c=n.timestamp,u=n.needForceUpdate;return cs(cs({},e),{},{settings:r,fetchStatus:o,timestamp:c,needForceUpdate:u})})),w()($i,Aa.FETCH_SETTINGS_STATUS,(function(e,t){var n=t.payload.fetchStatus;return cs(cs({},e),{},{fetchStatus:n})})),$i);function fs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ps,ls,_s=[ss],Es=Object(H.handleActions)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fs(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ds),{settings:{},fetchStatus:""}),Os=n(50),bs={currentPage:0,perPage:20,total:0,hasMore:!0},Ss=function(e){return e.offerReducer.status},hs=f(lo,(function(e){return e.offerReducer.pendingOffersCount}),(function(e,t){var n=e.shop_id,r=e.to_id;return t["".concat(n,"_").concat(r)]||0})),vs=f(E,(function(e){return e.offers||{}})),Ts=function(e,t,n,r){return f(vs,(function(o){return Object.values(o).filter((function(o){return o.product_id===r&&o.model_id===t&&o.conversation_id===e&&o.id!==n&&o.status===p.OfferStatus.PENDING}))}))},gs=function(e){return f(E,(function(t){return Object(Se.denormalize)(e,he.h,t)}))},ms=function(e){return e.offerReducer.fetchResult},ys=function(e,t){return f(ms,(function(n){return n["".concat(e,"_").concat(t)]||{pagination:bs,result:[]}}))},Rs=f(ms,lo,(function(e,t){var n=t.shop_id,r=t.to_id,o=e["".concat(n,"_").concat(r)];return o?o.pagination:bs})),Cs=f(ms,lo,E,(function(e,t,n){var r=t.shop_id,o=t.to_id,c=e["".concat(r,"_").concat(o)];if(!c)return[];var u=c.result||[];return Object(Se.denormalize)(u,[he.h],n).filter((function(e){return e}))})),Ps=Object(H.createActions)({REDUX_RESET:function(){return{}}}).reduxReset;!function(e){e.REMOVE_SINGLE_DRAFT="REMOVE_SINGLE_DRAFT",e.REMOVE_ALL_DRAFT="REMOVE_ALL_DRAFT",e.BATCH_REMOVE_DRAFT="BATCH_REMOVE_DRAFT",e.SAVE_DRAFT="SAVE_DRAFT"}(ps||(ps={}));var Ds,As=(ls={},w()(ls,ps.REMOVE_SINGLE_DRAFT,Ho.i),w()(ls,ps.REMOVE_ALL_DRAFT,Ho.h),w()(ls,ps.BATCH_REMOVE_DRAFT,Ho.a),ls),Is=w()({},ps.SAVE_DRAFT,Ho.k),js=Object(H.createActions)((Ds={},w()(Ds,ps.REMOVE_SINGLE_DRAFT,(function(e){return{conversationId:e.conversationId}})),w()(Ds,ps.REMOVE_ALL_DRAFT,(function(){return{}})),w()(Ds,ps.BATCH_REMOVE_DRAFT,(function(e){return{conversationIds:e.conversationIds}})),w()(Ds,ps.SAVE_DRAFT,(function(e){return{conversationId:e.conversationId,draft:e.draft}})),Ds)),ws=js.removeSingleDraft,Ns=js.removeAllDraft,xs=js.batchRemoveDraft,ks=js.saveDraft;function Us(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ms(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Us(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Us(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ls,Gs=Object(H.handleActions)(Ms(Ms({},Is),As),{draftHash:{}}),Fs=function(e){return e.draftReducer.draftHash},Hs=function(e){return f(Fs,(function(t){return t[e]}))},Vs=f(Zr,Fs,(function(e,t){return e&&t[e]})),Bs=n(41),Ys=n(42);function qs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Qs,Ws=function(e){return e.mediaPreviewerReducer.mediaMap},Ks=f(Zr,Ws,(function(e,t){return t[e]||[]})),zs=Object(H.createActions)({ADD_MEDIA_FILE:function(e){return{medias:e.medias,conversationId:e.conversationId}},DELETE_MEDIA_FILE:function(e){return{id:e.id,conversationId:e.conversationId}},CLEAR_MEDIA_FILE:function(e){return{conversationId:e.conversationId}}}),Js=zs.addMediaFile,Xs=zs.deleteMediaFile,Zs=zs.clearMediaFile,$s=(Ls={},w()(Ls,Js,Ys.a),w()(Ls,Xs,Ys.f),w()(Ls,Zs,Ys.c),Ls),ed=Object(H.handleActions)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qs(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},$s),{mediaMap:{}});function td(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var nd=function(e){return e.mediaPreviewModalReducer&&e.mediaPreviewModalReducer.showMediaPreviewModal},rd=function(e){return e.mediaPreviewModalReducer&&e.mediaPreviewModalReducer.currentPreviewMediaId},od=Object(H.createActions)({SHOW_MEDIA_PREVIEW_MODAL_REQUESTED:function(e){return{messageId:e.messageId}},CLOSE_MEDIA_PREVIEW_MODAL_REQUESTED:function(){return{}}}),cd=od.showMediaPreviewModalRequested,ud=od.closeMediaPreviewModalRequested,ad=(Qs={},w()(Qs,cd,(function(e,t){return{showMediaPreviewModal:!0,currentPreviewMediaId:t.payload.messageId}})),w()(Qs,ud,(function(e){return{showMediaPreviewModal:!1,currentPreviewMediaId:null}})),Qs),id=Object(H.handleActions)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?td(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):td(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ad),{showMediaPreviewModal:!1,currentPreviewMediaId:null}),sd=function(e){return e.translatePreferenceReducer.translationSettings},dd=function(e){return e.translatePreferenceReducer.fetchSettingsStatus},fd=function(e){return e.translatePreferenceReducer.updateStatus},pd=n(64),ld=n(48);function _d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ed(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_d(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Od=o.a.mark(md),bd=o.a.mark(yd),Sd=o.a.mark(Rd),hd=o.a.mark(Cd),vd=o.a.mark(Pd),Td=o.a.mark(Dd),gd=o.a.mark(Ad);function md(e){var t,n,r,u,a,i;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.id,r=t.shopId,o.next=3,Object(c.call)(k.s,{resource:"products",id:n,params:{shop_id:r,need_cache:1,cache_expires:600},cleaner:k.L});case 3:return u=o.sent,u=Object(ld.f)(u),a=Object(he.d)("products",u),i=a.entities,o.next=8,Object(c.put)(B({entities:i}));case 8:return o.abrupt("return",u);case 9:case"end":return o.stop()}}),Od)}function yd(e){var t,n,r,u,a,i,s,d,f,l,_;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.id,r=t.shopId,u=t.isChatbotOrder,o.next=3,Object(c.select)(Eo);case 3:return a=o.sent,o.next=6,Object(c.call)(k.s,{resource:"order",id:n,params:{shop_id:r}});case 6:return i=o.sent,o.next=9,Object(c.select)(Xe);case 9:return d=o.sent,s=!d||u,f=Object(p.cleanOrder)(i,a,s),l=Object(he.d)("orders",f),_=l.entities,o.next=15,Object(c.put)(B({entities:_}));case 15:return o.abrupt("return",f);case 16:case"end":return o.stop()}}),bd)}function Rd(e){var t,n,r,u,a,i,s,d,f;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.id,r=t.shopId,o.next=3,Object(c.select)(gs(n));case 3:if(!(u=o.sent)){o.next=6;break}return o.abrupt("return",u);case 6:return o.next=8,Object(c.call)(k.s,{resource:"offers",id:n,params:{shop_id:r}});case 8:return a=o.sent,i=a.product_id,o.next=12,Object(c.select)(Kf(i));case 12:if(o.sent){o.next=16;break}return o.next=16,Object(c.call)(md,{payload:{id:i,shopId:r}});case 16:return s=Ed(Ed({},a),{},{product:i}),d=Object(he.d)("offers",s),f=d.entities,o.next=20,Object(c.put)(B({entities:f}));case 20:return o.abrupt("return",s);case 21:case"end":return o.stop()}}),Sd)}function Cd(e){var t,n,r,u,a,i,s,d,f;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.shopId,n=e.id,o.next=3,Object(c.select)(ge);case 3:return r=o.sent,o.next=6,Object(c.select)(Le);case 6:return u=o.sent,a="vouchers_by_ids",o.next=10,Object(c.call)(k.s,{parent:"vouchers",resource:a,params:{ids:JSON.stringify([parseInt(n)]),shop_id:t,buyer_id:u?0:r}});case 10:if(i=o.sent,!(s=i[a])||!s.length){o.next=17;break}return d=Object(he.d)("vouchers",s),f=d.entities,o.next=16,Object(c.put)(B({entities:f}));case 16:return o.abrupt("return",s[0]);case 17:case"end":return o.stop()}}),hd)}function Pd(e){var t,n,r,u,a,i,s,d,f;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.id,r=t.creatorId,o.next=3,Object(c.select)(lo);case 3:return u=o.sent,a=u.shop_id,o.next=7,Object(c.call)(k.s,{parent:"feed",resource:"stories",params:{ids:JSON.stringify([n]),creator:r,shop_id:a,need_cache:1,cache_expire:1800}});case 7:return i=o.sent,s=i.stories[0],d=Object(he.d)("feedStories",s),f=d.entities,o.next=12,Object(c.put)(B({entities:f}));case 12:return o.abrupt("return",s);case 13:case"end":return o.stop()}}),vd)}function Dd(e){var t,n,r,u,a;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.cartItems,n=e.shopId,o.next=3,Object(c.call)(k.s,{parent:"product",resource:"get",method:"POST",payload:JSON.stringify({shop_id:n,items:t.slice(0,4)})});case 3:return r=o.sent,u=r.get,a=void 0===u?[]:u,o.abrupt("return",a.map(ld.i));case 7:case"end":return o.stop()}}),Td)}function Ad(e){var t,n,r,u,a,i,s;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.ids,r=t.id,o.next=3,Object(c.select)(lo);case 3:return u=o.sent,a=u.shop_id,o.next=7,Object(c.call)(k.s,{parent:"conversation",resource:"messages",params:{ids:"[".concat(n.join(","),"]"),shop_id:a}});case 7:return i=o.sent,s=i.messages,o.abrupt("return",{id:r,messages:s});case 10:case"end":return o.stop()}}),gd)}var Id,jd,wd=function(e){return e.chatbotReducer.imageUrl},Nd=function(e){return e.chatbotReducer.faqSessions},xd=f(Zr,Nd,(function(e,t){return t[e]||{}}));function kd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ud(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kd(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.SHOW_CHATBOT_IMAGE="SHOW_CHATBOT_IMAGE",e.CLOSE_CHATBOT_MEDIA_PREVIEW="CLOSE_CHATBOT_MEDIA_PREVIEW",e.CHATBOT_INTENTS_REPORT_REQUEST="CHATBOT_INTENTS_REPORT_REQUEST",e.FETCH_FAQ_SESSION_SUCCEED="FETCH_FAQ_SESSION_SUCCEED"}(Id||(Id={}));var Md,Ld=(jd={},w()(jd,Id.SHOW_CHATBOT_IMAGE,(function(e,t){var n=t.payload;return Ud(Ud({},e),{},{imageUrl:n.url})})),w()(jd,Id.CLOSE_CHATBOT_MEDIA_PREVIEW,(function(e){return Ud(Ud({},e),{},{imageUrl:""})})),jd),Gd=n(40),Fd=n(28),Hd=n.n(Fd),Vd=n(75),Bd=n.n(Vd),Yd=n(76),qd=n(77),Qd=n(78),Wd=n(79),Kd=Bd()(),zd=null,Jd=function(){var e=Hd()(o.a.mark((function e(t,n){var r,c,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.shopId,c=n.conversationId,e.next=3,Object(k.s)({parent:"faqs",subServer:"workbenchapi",resource:"bot/orders",method:"POST",payload:JSON.stringify({data:JSON.stringify(t),shop_id:r,conversation_id:c})});case 3:return(u=e.sent).data=JSON.parse(u.data),e.abrupt("return",u);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Xd={cid:Object(p.getRuntimeRegion)(),env:Object(p.getRuntimeServer)(),from:p.ChatbotFromType.LandingPage,initialization:1,auth:{accountType:1},getOrderList:Jd},Zd=function(){return zd||((zd=new Kd.ChatbotSDK({root:"messageSection",config:Xd})).use(Yd.Message),zd.use(qd.RelatedIntent),zd.use(Qd.OrderList),zd.use(Wd.OptionSelector)),zd},$d=function(e){Zd().updateConfig({from:e})},ef=Kd.Provider,tf=Object(H.createActions)((Md={},w()(Md,Id.SHOW_CHATBOT_IMAGE,(function(e){return{url:e.url}})),w()(Md,Id.CLOSE_CHATBOT_MEDIA_PREVIEW,(function(){return{}})),w()(Md,Id.CHATBOT_INTENTS_REPORT_REQUEST,(function(e){return{reportTask:e.reportTask}})),w()(Md,Id.FETCH_FAQ_SESSION_SUCCEED,(function(e){return{conversationId:e.conversationId,faqSessionId:e.faqSessionId,sessionExpiryTime:e.sessionExpiryTime}})),Md)),nf=tf.showChatbotImage,rf=tf.closeChatbotMediaPreview,of=tf.chatbotIntentsReportRequest,cf=tf.fetchFaqSessionSucceed,uf=o.a.mark(Sf),af=o.a.mark(hf),sf=o.a.mark(vf),df=o.a.mark(Tf),ff=o.a.mark(gf);function pf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pf(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _f,Ef=function(){return Object(Gd.eventChannel)((function(e){var t=Zd();return t.init().then((function(){t.on("userAction",(function(t){e(t)}))})),function(){}}))};!function(e){e[e.MESSAGE=1001]="MESSAGE",e[e.SOLUTION=1002]="SOLUTION",e[e.NOT_CHATBOT=0]="NOT_CHATBOT"}(_f||(_f={}));var Of={message:_f.MESSAGE,solution:_f.SOLUTION},bf=function(e){if(!e)return _f.NOT_CHATBOT;var t=e.type;return Of[t]};function Sf(e){var t,n,r,u,a,i,s,d,f,l;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.api,n=e.chatbotUserMessage,r=e.passThroughData.faqSessionId,u=bf(t),!n){o.next=14;break}return o.next=5,Object(c.select)(lo);case 5:return a=o.sent,i=n.type,s={interaction_type:u,bot_data:JSON.stringify(t?t.params:""),faq_session_id:r},"text"===i&&(f=n.text,s=lf(lf({},s),{},{text:f}),d=p.MessageTypes.MSG_TYPE_FAQ_TYPE_BOT_REQUEST_TEXT_MESSAGE),"order"===i&&(s=lf(lf({},s),{},{bot_order_info:Object(k.z)(n)}),d=p.MessageTypes.MSG_TYPE_FAQ_TYPE_BOT_REQUEST_ORDER_MESSAGE),o.next=12,Object(c.select)(Eo);case 12:l=o.sent,Nt.a.put(kt.a.sendMessagesRequested({payload:{conversationId:a.id,conversationUserId:a.to_id,messages:[{type:d,content:s,textContent:Object(k.A)(n,l)}]}}));case 14:case"end":return o.stop()}}),uf)}function hf(e){var t,n,r,u;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return(t=e.urlInfo)&&(n=t.url,r=t.uri_key,u=t.uri_extra,r?window.open(Object(k.y)(r,u)):n&&window.open(Object(k.x)(n))),o.next=4,Object(c.call)(Sf,e);case 4:case"end":return o.stop()}}),af)}function vf(e){var t;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t=e.image)){n.next=4;break}return n.next=4,Object(c.put)(nf({url:t.url}));case 4:case"end":return n.stop()}}),sf)}function Tf(e){var t;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=e.actionType,n.t0=t,n.next="sendChatbotUserMessage"===n.t0?4:"redirect"===n.t0?7:"showImage"===n.t0?10:13;break;case 4:return n.next=6,Object(c.call)(Sf,e.data);case 6:return n.abrupt("break",13);case 7:return n.next=9,Object(c.call)(hf,e.data);case 9:return n.abrupt("break",13);case 10:return n.next=12,Object(c.call)(vf,e.data);case 12:return n.abrupt("break",13);case 13:case"end":return n.stop()}}),df)}function gf(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.call)(Ef);case 2:return e=t.sent,t.next=5,Object(c.takeEvery)(e,Tf);case 5:case"end":return t.stop()}}),ff)}var mf=o.a.mark(Rf),yf=o.a.mark(Cf);function Rf(e){var t,n,r;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload.reportTask,o.next=3,Object(c.select)(Zr);case 3:return n=o.sent,o.next=6,Object(c.select)(Po);case 6:return r=o.sent,o.prev=7,o.next=10,Object(c.call)(k.s,{method:"POST",subServer:"workbenchapi",parent:"faqs",resource:"bot/report",payload:JSON.stringify({messages:t,conversation_id:n,shop_id:r})});case 10:o.next=14;break;case 12:o.prev=12,o.t0=o.catch(7);case 14:case"end":return o.stop()}}),mf,null,[[7,12]])}function Cf(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.takeEvery)(of,Rf);case 2:case"end":return e.stop()}}),yf)}function Pf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Df(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pf(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Af=w()({},Id.FETCH_FAQ_SESSION_SUCCEED,(function(e,t){var n=t.payload,r=n.conversationId,o=n.faqSessionId,c=n.sessionExpiryTime,u=e.faqSessions;return Df(Df({},e),{},{faqSessions:Df(Df({},u),{},w()({},r,{faqSessionId:o,sessionExpiryTime:c}))})}));function If(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?If(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):If(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wf,Nf,xf=Object(H.handleActions)(jf(jf({},Ld),Af),{imageUrl:"",faqSessions:{}}),kf=[gf,Cf],Uf=function(e){return e.voucherReducer.status},Mf=f(m,(function(e){return e.voucherReducer.voucherIds}),(function(e,t){return(Object(Se.denormalize)(t,[he.p],{vouchers:e})||[]).filter((function(e){return e}))})),Lf=function(e){return f(m,(function(t){return Object(Se.denormalize)(e,he.p,{vouchers:t})}))},Gf={currentPage:0,perPage:20,total:0,hasMore:!0},Ff=function(e){return f(T,(function(t){return Object(Se.denormalize)(e,he.i,{orders:t})}))},Hf=function(e){return(e.orderReducer||{}).cancelReasons},Vf=function(e){return e.orderReducer.status},Bf=function(e){return e.orderReducer.fetchResult},Yf=function(e,t){return f(Bf,(function(n){return n["".concat(e,"_").concat(t)]||{pagination:Gf,result:[]}}))},qf=s(a,(function(e,t){return e.id===t.id}))(lo,(function(e){return e})),Qf=f(Bf,qf,T,(function(e,t,n){var r=t.shop_id,o=t.to_id,c=e["".concat(r,"_").concat(o)];if(!c)return[];var u=c.result||[];return Object(Se.denormalize)(u,[he.i],{orders:n})})),Wf=[],Kf=function(e){return f(g,(function(t){return Object(Se.denormalize)(e,he.j,{products:t})}))},zf=function(e){return f(g,(function(t){return Object(Se.denormalize)(e,[he.j],{products:t})}))},Jf={currentPage:0,perPage:20,total:0,hasMore:!0},Xf=function(e){return e.productReducer.fetchResult},Zf=function(e){return e.productReducer.allProductsSearchStatus},$f=function(e){return e.productReducer.sellerRecommendProducts},ep=function(e){return e.productReducer.systemRecommendProducts},tp=function(e){return e.productReducer.groups},np=function(e){return e.productReducer.systemRecommendProductsFetchStatus},rp=function(e){return e.productReducer.sellerRecommendProductsFetchStatus},op=function(e){return e.productReducer.fetchGroupsStatus},cp=function(e){return f(Xf,(function(t){return t[e]||{pagination:Jf,result:Wf}}))},up=f(Xf,Ro,g,(function(e,t,n){var r=e[t];if(!r)return Wf;var o=r.result||Wf;return Object(Se.denormalize)(o,[he.j],{products:n})})),ap=function(e){return e.reportReducer.beingReported};!function(e){e.REPORT_REQUESTED="REPORT_REQUESTED",e.CLEAR_REPORT_REQUESTED="CLEAR_REPORT_REQUESTED"}(wf||(wf={}));var ip,sp=Object(H.createActions)((Nf={},w()(Nf,wf.REPORT_REQUESTED,(function(e){return{event_time:e.event_time,url:e.url}})),w()(Nf,wf.CLEAR_REPORT_REQUESTED,(function(){return{}})),Nf)),dp=sp.reportRequested,fp=sp.clearReportRequested,pp=o.a.mark(Op),lp=o.a.mark(bp);function _p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ep(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_p(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Op(){var e,t;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(c.select)(ap);case 2:if(!(e=n.sent).length){n.next=10;break}return t=bt()(e),n.next=7,Object(c.put)(fp());case 7:return t.sort((function(e,t){return Number(t.event_time)-Number(e.event_time)})),n.next=10,Object(c.call)(k.s,{method:"POST",subServer:"coreapi",parent:"user",resource:"report_active",payload:JSON.stringify(Ep(Ep({},t[0]),{},{platform_id:Object(p.isVisitingCNSC)()||Object(p.isVisitingKRSC)()?2:1}))});case 10:case"end":return n.stop()}}),pp)}function bp(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(c.delay)(6e4);case 3:return e.next=5,Op();case 5:e.next=0;break;case 7:case"end":return e.stop()}}),lp)}var Sp=(ip={},w()(ip,wf.REPORT_REQUESTED,(function(e,t){var n=t.payload,r=n.event_time,o=n.url;return{beingReported:[].concat(bt()(e.beingReported),[{event_time:r,url:o}])}})),w()(ip,wf.CLEAR_REPORT_REQUESTED,(function(e){return{beingReported:[]}})),ip);function hp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var vp=[bp],Tp=Object(H.handleActions)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hp(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Sp),{beingReported:[]}),gp=o.a.mark(Ap);function mp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mp(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rp,Cp,Pp=6e4,Dp=!1;function Ap(){var e,t,n,r,u,a,i,s,d,f,l,_,E,O,b,S,h;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=3,Object(c.delay)(Pp);case 3:return e=void 0,e="mini-session",o.next=7,Object(p.getItem)(e);case 7:if(!(t=o.sent)||!t.token){o.next=58;break}return o.prev=9,o.next=12,Object(c.select)((function(e){return e.conversationReducer}));case 12:return n=o.sent,r=n.maxLatestReceivedMessageId,u=n.maxLatestTimestampNano,o.next=17,Object(c.select)(Le);case 17:return a=o.sent,o.next=20,Object(c.select)(so);case 20:return i=o.sent.toLowerCase(),s=!a&&["all","unread"].includes(i),d=["pinned","unread"].includes(i),f={},s?f.last_timestamp_nano=u||"9223372036854775807":f.last_message_id=r||"9223372036854775807",f.last_unread_count_sync=Dp,o.next=28,Object(c.spawn)(k.s,{method:"POST",resource:"user",suffix:"sync",params:yp({},f)});case 28:return l=o.sent,o.next=31,Object(c.join)(l);case 31:if(_=o.sent,E=_.have_new_msg,O=_.unread_count,b=_.current_version,Dp=!1,!E){o.next=44;break}return o.next=39,Object(c.select)((function(e){return e.conversationReducer}));case 39:if(!(o.sent.syncFetchException<3)||d){o.next=44;break}return o.next=44,Object(c.put)(Object(ko.f)({direction:"latest",source:p.ConversationSource.SYNC}));case 44:if(!(O>-1)){o.next=53;break}return o.next=47,Object(c.select)(de);case 47:if((S=o.sent)===O){o.next=52;break}return o.next=51,Object(c.put)(Object(fe.c)({count:O}));case 51:Dp=!0;case 52:a||(Pp=S!==O||E?6e4:Pp>=48e4?48e4:2*Pp);case 53:b&&b!==t.version&&(h=Object.assign({},t,{version:b}),Object(p.setItem)(e,h)),o.next=58;break;case 56:o.prev=56,o.t0=o.catch(9);case 58:o.next=0;break;case 60:case"end":return o.stop()}}),gp,null,[[9,56]])}function Ip(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ip(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ip(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.REDIRECT_CONVERSATION_REQUESTED="REDIRECT_CONVERSATION_REQUESTED",e.FETCH_REFER_ENTITY_REQUESTED="FETCH_REFER_ENTITY_REQUESTED"}(Rp||(Rp={}));var wp=o.a.mark(Fp),Np=o.a.mark(Hp),xp=o.a.mark(Vp),kp=o.a.mark(Bp),Up=o.a.mark(Yp),Mp=Object(H.createActions)((Cp={},w()(Cp,Rp.REDIRECT_CONVERSATION_REQUESTED,(function(e){var t=e.userId,n=e.shopId,r=e.orderId,o=e.productId,c=e.message;return{userId:t,shopId:n,orderId:r,productId:o,message:void 0===c?"":c,entryPointType:e.entryPointType}})),w()(Cp,Rp.FETCH_REFER_ENTITY_REQUESTED,(function(e){return{conversationId:e.conversationId,type:e.type,id:e.id,shopId:e.shopId}})),Cp)),Lp=Mp.redirectConversationRequested,Gp=Mp.fetchReferEntityRequested;function Fp(e){var t,n,r,u,a,i,s,d;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.conversationId,r=t.type,u=t.id,a=t.shopId,Nt.a.put(kt.a.updateMessagesRelated({payload:{conversationId:n,updateKey:p.MessagesRelatedKey.REFER,updateValue:{status:p.MessageFillStatus.FILLING}}})),i={},o.prev=3,s="order"===r?yd:md,o.next=7,Object(c.call)(s,{payload:{id:u,shopId:a}});case 7:d=o.sent,i={status:"",entity:d},o.next=14;break;case 11:o.prev=11,o.t0=o.catch(3),i.status=p.MessageFillStatus.FAILED;case 14:return o.next=16,Object(c.select)(ui(n));case 16:o.sent&&Nt.a.put(kt.a.updateMessagesRelated({payload:{conversationId:n,updateKey:p.MessagesRelatedKey.REFER,updateValue:i}}));case 18:case"end":return o.stop()}}),wp,null,[[3,11]])}function Hp(e){var t;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=Object(he.d)("conversations",e),n.next=3,Object(c.put)(B({entities:t.entities}));case 3:case"end":return n.stop()}}),Np)}function Vp(e,t){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.status=p.MessageFillStatus.FILLING,n.next=3,Nt.a.put(kt.a.updateMessagesRelated({payload:{conversationId:t,updateKey:p.MessagesRelatedKey.REFER,updateValue:e}}));case 3:return n.next=5,Object(c.fork)(Fp,{payload:jp(jp({},e),{},{conversationId:t})});case 5:case"end":return n.stop()}}),xp)}function Bp(e){var t,n,r,u,a,i,s,d,f,l,_,E,O,b,S,h,v,T;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.userId,r=t.shopId,u=t.orderId,a=t.productId,i=t.message,s=t.entryPointType,o.next=3,Object(c.select)(Wr);case 3:return d=o.sent,o.next=6,Object(c.call)(k.s,{method:"POST",resource:"conversation",suffix:"redirection",payload:JSON.stringify({user_id:parseInt(n),shop_id:r})});case 6:if(f=o.sent,l=f.id,_=f.faking,E=f.mask,O=f.to_name,S=jp(jp({userId:n,shopId:r},b={orderId:u,productId:a}),{},{conversationId:f.id}),h=d.length,v=_||!d.includes(l),T=null,u?T={id:u,type:"order"}:a&&(T={id:a,type:"product"}),!T){o.next=20;break}return T.shopId=r,o.next=18,Object(c.call)(Vp,T,l);case 18:o.next=24;break;case 20:return o.next=22,Object(c.select)(ui(l));case 22:o.sent&&Nt.a.put(kt.a.clearChatRoomRefer({payload:{conversationId:l}}));case 24:if(s&&Nt.a.put(kt.a.setEntryPoint({payload:{type:s,conversationId:l}})),!v){o.next=31;break}return o.next=28,Object(c.call)(Hp,f);case 28:if(!h){o.next=31;break}return o.next=31,Object(c.put)(Object(ko.e)({conversationId:l}));case 31:if(v){o.next=34;break}return o.next=34,Object(c.put)(Y({name:"conversations",id:l,record:{to_name:O,mask:E}}));case 34:if(!i){o.next=37;break}return o.next=37,Object(c.put)(ks({draft:i,conversationId:l}));case 37:return o.next=39,Object(c.call)(p.setItem,"mini-sc_redirect",S);case 39:return o.next=41,Object(c.select)(Zr);case 41:if(o.sent===l&&!v){o.next=45;break}return o.next=45,Object(c.put)(Object(ko.t)({conversation:f,sourceInfo:b}));case 45:return o.next=47,Object(c.select)(ze);case 47:if(o.sent){o.next=54;break}return o.next=51,Object(c.call)(sn,{payload:{shouldShowWindow:!0}});case 51:if(h){o.next=54;break}return o.next=54,Object(c.put)(Object(ko.e)({conversationId:l}));case 54:return o.next=56,Object(c.put)(Xt({shouldShowConversationDetail:!0}));case 56:case"end":return o.stop()}}),kp)}function Yp(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.takeEvery)(Lp,Bp);case 2:return e.next=4,Object(c.takeEvery)(Gp,Fp);case 4:case"end":return e.stop()}}),Up)}var qp=[Ap,Yp],Qp=o.a.mark(Wp);function Wp(e,t,n){return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(c.takeEvery)(e,o.a.mark((function e(r){var u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=r.payload.id){e.next=5;break}return e.next=4,Object(c.call)(t,r);case 4:return e.abrupt("return");case 5:return e.next=7,Object(c.race)({task:Object(c.call)(t,r),cancel:Object(c.take)((function(e){return e.type===n.toString()&&e.payload.id===u}))});case 7:case"end":return e.stop()}}),e)})));case 2:case"end":return r.stop()}}),Qp)}},function(e,t){e.exports=c},function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"i",(function(){return p})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return _})),n.d(t,"g",(function(){return E})),n.d(t,"B",(function(){return O})),n.d(t,"A",(function(){return b})),n.d(t,"z",(function(){return S})),n.d(t,"y",(function(){return h})),n.d(t,"k",(function(){return v})),n.d(t,"l",(function(){return T})),n.d(t,"D",(function(){return g})),n.d(t,"n",(function(){return m})),n.d(t,"p",(function(){return y})),n.d(t,"s",(function(){return R})),n.d(t,"t",(function(){return C})),n.d(t,"o",(function(){return P})),n.d(t,"u",(function(){return D})),n.d(t,"a",(function(){return A})),n.d(t,"h",(function(){return I})),n.d(t,"b",(function(){return j})),n.d(t,"q",(function(){return w})),n.d(t,"x",(function(){return N})),n.d(t,"w",(function(){return x})),n.d(t,"j",(function(){return k})),n.d(t,"C",(function(){return U})),n.d(t,"E",(function(){return M})),n.d(t,"v",(function(){return L})),n.d(t,"r",(function(){return G})),n.d(t,"m",(function(){return F}));var r,o=n(1),c=n.n(o),u=n(6),a=n(8),i=n(3),s=Object(u.createActions)((r={},c()(r,a.a.DELETE_CONVERSATION_REQUESTED,(function(e){return{conversationId:e.conversationId}})),c()(r,a.a.DELETE_CONVERSATION_SUCCEEDED,(function(e){return{conversationId:e.conversationId}})),c()(r,a.a.GET_CONVERSATION_DETAIL_REQUESTED,(function(e){return{conversationId:e.conversationId}})),c()(r,a.a.FAKE_CONVERSATION_SUCCEEDED,(function(e){return{conversationId:e.conversationId}})),c()(r,a.a.FETCH_CONVERSATIONS_REQUESTED,(function(e){var t=e.direction,n=void 0===t?"reset":t,r=e.noPending;return{direction:n,noPending:void 0!==r&&r,source:e.source}})),c()(r,a.a.FETCH_CONVERSATIONS_SUCCEEDED,(function(e){var t=e.conversationIds,n=e.conversationIdsMap,r=e.oldestReceivedMessageId,o=e.latestReceivedMessageId,c=e.oldestTimestampNano,u=e.latestTimestampNano,a=e.direction;return{conversationIds:t,conversationIdsMap:n,oldestReceivedMessageId:r,latestReceivedMessageId:o,direction:void 0===a?"reset":a,status:e.status,hasMore:e.hasMore,latestTimestampNano:u,oldestTimestampNano:c,persist:e.persist,shouldFetchByTimestamp:e.shouldFetchByTimestamp,maxLatestTimestampNano:e.maxLatestTimestampNano,maxLatestReceivedMessageId:e.maxLatestReceivedMessageId,syncFetchException:e.syncFetchException}})),c()(r,a.a.UPDATE_FETCH_CONVERSATIONS_STATUS,(function(e){return{status:e.status}})),c()(r,a.a.UPDATE_FETCH_CONVERSATIONS_DIRECTION,(function(e){return{direction:e.direction}})),c()(r,a.a.UPDATE_CONVERSATION_TIMESTAMP,(function(e){return{latestTimestampNano:e.latestTimestampNano,oldestTimestampNano:e.oldestTimestampNano}})),c()(r,a.a.UPDATE_CONVERSATION_FILTER,(function(e){return{filter:e.filter}})),c()(r,a.a.FORWARD_CONVERSATION_REQUESTED,(function(e){return{conversationId:e.conversationId,type:e.type,forwardId:e.forwardId}})),c()(r,a.a.MASS_FORWARD_CONVERSATION_REQUESTED,(function(e){return{type:e.type,forwardId:e.forwardId,conversationIds:e.conversationIds}})),c()(r,a.a.MARK_MESSAGES_REQUESTED,(function(e){return{conversationId:e.conversationId,isRead:e.isRead,latestMessageId:e.latestMessageId}})),c()(r,a.a.MARK_MESSAGES_SUCCEEDED,(function(e){return{conversationId:e.conversationId,markType:e.markType}})),c()(r,a.a.UPDATE_READ_REQUEST_DATA,(function(e){return{requestId:e.requestId,requestIds:e.requestIds,count:e.count}})),c()(r,a.a.PIN_CONVERSATION_REQUESTED,(function(e){return{conversationId:e.conversationId}})),c()(r,a.a.SEARCH_CONVERSATIONS_REQUESTED,(function(e){var t=e.keyword,n=void 0===t?"":t,r=e.filter;return{keyword:n,filter:void 0===r?"all":r}})),c()(r,a.a.RESET_SEARCH_PARAMS,(function(e){var t=e.keyword;return{keyword:void 0===t?"":t,searchFilter:e.searchFilter}})),c()(r,a.a.UPDATE_EXISTED_RESULT_ID_MAP,(function(e){return{addedMap:e.addedMap}})),c()(r,a.a.UPDATE_CURRENT_CONVERSATION_MODE,(function(e){return{mode:e.mode,conversationId:e.conversationId}})),c()(r,a.a.SET_CURRENT_CONVERSATION_MODE,(function(e){return{mode:e.mode}})),c()(r,a.a.SEARCH_BY_COMBINED_API,(function(){return{}})),c()(r,a.a.TOGGLE_MULTIPLE_SELECTION_MODE,(function(e){return{mode:e.mode}})),c()(r,a.a.SET_SELECTED_CONVERSATION_LIST,(function(e){return{list:e.list}})),c()(r,a.a.UPDATE_SELECTED_CONVERSATION_ID,(function(e){return{id:e.id,selected:e.selected}})),c()(r,a.a.SELECTED_CONVERSATIONS_REQUESTED,(function(e){return{type:e.type,id:e.id}})),c()(r,a.a.CONVERSATION_BATCH_OPERATE_REQUESTED,(function(e){return{type:e.type}})),c()(r,a.a.SET_CURRENT_CONVERSATION_CAN_READ,(function(e){return{canRead:e.canRead}})),c()(r,a.a.SHOW_CONVERSATION_REQUESTED,(function(e){return{conversation:e.conversation,previousId:e.previousId,messageId:e.messageId,sourceInfo:e.sourceInfo}})),c()(r,a.a.RESET_CONVERSATION_REQUESTED,(function(){return{}})),c()(r,a.a.SHOW_NORMAL_CONVERSATION_SUCCEEDED,(function(e){var t=e.conversationId,n=e.previousId;return{conversationId:t,previousId:void 0===n?null:n}})),c()(r,a.a.CHANGE_CONVERSATION_STATUS_REQUESTED,(function(e){return{conversationId:e.conversationId}})),c()(r,a.a.FETCH_DEGRADE_CONVERSATIONS_DETAIL,(function(e){return{conversationIds:e.conversationIds}})),c()(r,a.a.CONVERSATION_OPERATE_REQUESTED,(function(e){return{type:e.type,extra:e.extra}})),c()(r,a.a.SEARCH_MORE_RESULTS,(function(e){return{type:e.type,reset:e.reset}})),c()(r,a.a.SEARCH_MORE_SUCCEED,(function(e){return{type:e.type,total:e.total,results:e.results,isFromCache:e.isFromCache,hasMore:e.hasMore,nextOffset:e.nextOffset}})),c()(r,a.a.SET_SEARCH_STATUS,(function(e){return{type:e.type,status:e.status}})),c()(r,a.a.UPDATE_ACCESS,(function(e){return{access:e.access}})),c()(r,a.a.SHOW_SEARCHED_CONVERSATION_REQUESTED,(function(e){return{conversation:e.conversation}})),c()(r,a.a.LOCATION_MESSAGE,(function(e){return{msgId:e.msgId,shopId:e.shopId}})),c()(r,a.a.UPDATE_LOCATION_MODE,(function(e){return{inlocation:e.inlocation}})),c()(r,a.a.UPDATE_SYNC_TIME_NOW,(function(e){return{timeNow:e.timeNow}})),c()(r,a.a.SHOW_CONVERSATION_SUCCEEDED,(function(e){var t=e.conversationId,n=e.previousId,r=void 0===n?null:n,o=e.type;return{conversationId:t,previousId:r,type:void 0===o?i.ConversationTypeEnum.Normal:o}})),c()(r,a.a.SET_CURRENT_CONVERSATION_TYPE,(function(e){var t=e.type;return{type:void 0===t?i.ConversationTypeEnum.Normal:t}})),c()(r,a.a.SET_CONVERSATION_BEEN_DELETED,(function(e){return{conversationBeenDeleted:e.conversationBeenDeleted}})),c()(r,a.a.MUTE_CONVERSATION_REQUESTED,(function(e){return{conversationId:e.conversationId}})),r)),d=s.deleteConversationRequested,f=s.deleteConversationSucceeded,p=s.getConversationDetailRequested,l=s.fakeConversationSucceeded,_=s.fetchConversationsRequested,E=s.fetchConversationsSucceeded,O=s.updateFetchConversationsStatus,b=s.updateFetchConversationsDirection,S=s.updateConversationTimestamp,h=s.updateConversationFilter,v=(s.forwardConversationRequested,s.massForwardConversationRequested,s.markMessagesRequested),T=s.markMessagesSucceeded,g=s.updateReadRequestData,m=s.pinConversationRequested,y=(s.searchConversationsRequested,s.resetSearchParams),R=(s.updateExistedResultIdMap,s.updateCurrentConversationMode,s.setCurrentConversationMode,s.searchByCombinedApi,s.toggleMultipleSelectionMode,s.setSelectedConversationList,s.updateSelectedConversationId,s.selectedConversationsRequested,s.conversationBatchOperateRequested,s.setCurrentConversationCanRead),C=s.showConversationRequested,P=s.resetConversationRequested,D=s.showConversationSucceeded,A=s.changeConversationStatusRequested,I=s.fetchDegradeConversationsDetail,j=s.conversationOperateRequested,w=s.searchMoreResults,N=(s.searchMoreSucceed,s.setSearchStatus,s.updateAccess),x=s.showSearchedConversationRequested,k=s.locationMessage,U=s.updateLocationMode,M=s.updateSyncTimeNow,L=s.showNormalConversationSucceeded,G=s.setConversationBeenDeleted,F=s.muteConversationRequested},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.DELETE_CONVERSATION_REQUESTED="DELETE_CONVERSATION_REQUESTED",e.DELETE_CONVERSATION_SUCCEEDED="DELETE_CONVERSATION_SUCCEEDED",e.GET_CONVERSATION_DETAIL_REQUESTED="GET_CONVERSATION_DETAIL_REQUESTED",e.FAKE_CONVERSATION_SUCCEEDED="FAKE_CONVERSATION_SUCCEEDED",e.FETCH_CONVERSATIONS_REQUESTED="FETCH_CONVERSATIONS_REQUESTED",e.FETCH_CONVERSATIONS_SUCCEEDED="FETCH_CONVERSATIONS_SUCCEEDED",e.UPDATE_FETCH_CONVERSATIONS_STATUS="UPDATE_FETCH_CONVERSATIONS_STATUS",e.UPDATE_FETCH_CONVERSATIONS_DIRECTION="UPDATE_FETCH_CONVERSATIONS_DIRECTION",e.UPDATE_CONVERSATION_TIMESTAMP="UPDATE_CONVERSATION_TIMESTAMP",e.UPDATE_CONVERSATION_FILTER="UPDATE_CONVERSATION_FILTER",e.FORWARD_CONVERSATION_REQUESTED="FORWARD_CONVERSATION_REQUESTED",e.MASS_FORWARD_CONVERSATION_REQUESTED="MASS_FORWARD_CONVERSATION_REQUESTED",e.MARK_MESSAGES_REQUESTED="MARK_MESSAGES_REQUESTED",e.MARK_MESSAGES_SUCCEEDED="MARK_MESSAGES_SUCCEEDED",e.UPDATE_READ_REQUEST_DATA="UPDATE_READ_REQUEST_DATA",e.PIN_CONVERSATION_REQUESTED="PIN_CONVERSATION_REQUESTED",e.SEARCH_CONVERSATIONS_REQUESTED="SEARCH_CONVERSATIONS_REQUESTED",e.SEARCH_CONVERSATIONS_SUCCEEDED="SEARCH_CONVERSATIONS_SUCCEEDED",e.RESET_SEARCH_PARAMS="RESET_SEARCH_PARAMS",e.UPDATE_EXISTED_RESULT_ID_MAP="UPDATE_EXISTED_RESULT_ID_MAP",e.UPDATE_CURRENT_CONVERSATION_MODE="UPDATE_CURRENT_CONVERSATION_MODE",e.SET_CURRENT_CONVERSATION_MODE="SET_CURRENT_CONVERSATION_MODE",e.SEARCH_BY_COMBINED_API="SEARCH_BY_COMBINED_API",e.TOGGLE_MULTIPLE_SELECTION_MODE="TOGGLE_MULTIPLE_SELECTION_MODE",e.SET_SELECTED_CONVERSATION_LIST="SET_SELECTED_CONVERSATION_LIST",e.UPDATE_SELECTED_CONVERSATION_ID="UPDATE_SELECTED_CONVERSATION_ID",e.SELECTED_CONVERSATIONS_REQUESTED="SELECTED_CONVERSATIONS_REQUESTED",e.CONVERSATION_BATCH_OPERATE_REQUESTED="CONVERSATION_BATCH_OPERATE_REQUESTED",e.SET_CURRENT_CONVERSATION_CAN_READ="SET_CURRENT_CONVERSATION_CAN_READ",e.UPDATE_PREVIOUS_CONVERSATION_ID="UPDATE_PREVIOUS_CONVERSATION_ID",e.CLOSE_CONVERSATION_REQUESTED="CLOSE_CONVERSATION_REQUESTED",e.FETCH_GROUPS_REQUESTED="FETCH_GROUPS_REQUESTED",e.FETCH_MASS_GROUPS_REQUESTED="FETCH_MASS_GROUPS_REQUESTED",e.SHOW_CONVERSATION_REQUESTED="SHOW_CONVERSATION_REQUESTED",e.RESET_CONVERSATION_REQUESTED="RESET_CONVERSATION_REQUESTED",e.SHOW_CONVERSATION_SUCCEEDED="SHOW_CONVERSATION_SUCCEEDED",e.SHOW_NORMAL_CONVERSATION_SUCCEEDED="SHOW_NORMAL_CONVERSATION_SUCCEEDED",e.CHANGE_CONVERSATION_STATUS_REQUESTED="CHANGE_CONVERSATION_STATUS_REQUESTED",e.FETCH_DEGRADE_CONVERSATIONS_DETAIL="FETCH_DEGRADE_CONVERSATIONS_DETAIL",e.CONVERSATION_OPERATE_REQUESTED="CONVERSATION_OPERATE_REQUESTED",e.SEARCH_MORE_RESULTS="SEARCH_MORE_RESULTS",e.SEARCH_MORE_SUCCEED="SEARCH_MORE_SUCCEED",e.SET_SEARCH_STATUS="SET_SEARCH_STATUS",e.UPDATE_ACCESS="UPDATE_ACCESS",e.SHOW_SEARCHED_CONVERSATION_REQUESTED="SHOW_SEARCHED_CONVERSATION_REQUESTED",e.UPDATE_SEARCH_PARAMS="UPDATE_SEARCH_PARAMS",e.LOCATION_MESSAGE="LOCATION_MESSAGE",e.UPDATE_LOCATION_MODE="UPDATE_LOCATION_MODE",e.UPDATE_SYNC_TIME_NOW="UPDATE_SYNC_TIME_NOW",e.SET_CURRENT_CONVERSATION_TYPE="SET_CURRENT_CONVERSATION_TYPE",e.SET_CONVERSATION_BEEN_DELETED="SET_CONVERSATION_BEEN_DELETED",e.MUTE_CONVERSATION_REQUESTED="MUTE_CONVERSATION_REQUESTED",e.SET_NAVIGATE_TO_UNREAD_MESSAGE="SET_NAVIGATE_TO_UNREAD_MESSAGE",e.SET_NAVIGATE_TO_UNREAD_MESSAGE_ID="SET_NAVIGATE_TO_UNREAD_MESSAGE_ID",e.RESET_NAVIGATE_TO_UNREAD_MESSAGE_ID="RESET_NAVIGATE_TO_UNREAD_MESSAGE_ID"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"l",(function(){return y})),n.d(t,"o",(function(){return s})),n.d(t,"f",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"h",(function(){return _})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return l})),n.d(t,"n",(function(){return E})),n.d(t,"m",(function(){return O})),n.d(t,"e",(function(){return b})),n.d(t,"g",(function(){return S})),n.d(t,"k",(function(){return h})),n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return T})),n.d(t,"p",(function(){return g}));var r=n(1),o=n.n(r),c=n(13);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i=function(e,t,n){return new c.schema.Entity(e,a({},t),a({},n))},s=i("users"),d=i("messages"),f=i("conversations"),p=i("orders"),l=i("products"),_=i("offers",{product:l}),E=i("stickers"),O=i("shops"),b=i("feedStories"),S=i("messageShortcuts"),h=i("rateCards"),v=i("agentConversations"),T=i("contacts",{},{idAttribute:"account_id"}),g=i("vouchers"),m={users:s,messages:d,conversations:f,orders:p,offers:_,products:l,stickers:E,shops:O,feedStories:b,messageShortcuts:S,rateCards:h,agentConversations:v,contacts:T,vouchers:g};t.d=function(e,t){var n=m[e]||i(e);return t instanceof Array?Object(c.normalize)(t,[n]):Object(c.normalize)(t,n)};var y=function(e,t,n){try{var r=m[e];return t instanceof Array?Object(c.denormalize)(t,[r],n.entityReducer):null==t?void 0:Object(c.denormalize)(t,r,n.entityReducer)}catch(e){return}}},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.BLOCK_USER_REQUESTED="BLOCK_USER_REQUESTED",e.CHECK_USER_PERMISSION_REQUESTED="CHECK_USER_PERMISSION_REQUESTED",e.CHECK_USER_PERMISSION_SUCCEEDED="CHECK_USER_PERMISSION_SUCCEEDED",e.CLOSE_HANGUP_TIPS_REQUESTED="CLOSE_HANGUP_TIPS_REQUESTED",e.SEND_FEEDBACK_REQUESTED="SEND_FEEDBACK_REQUESTED",e.GET_GUIDE_REQUESTED="GET_GUIDE_REQUESTED",e.GET_GUIDE_SUCCEEDED="GET_GUIDE_SUCCEEDED",e.GET_GUIDE_FAILED="GET_GUIDE_FAILED",e.SHOW_LOADING_SUCCEEDED="SHOW_LOADING_SUCCEEDED",e.SET_HAS_SESSION="SET_HAS_SESSION",e.SHOW_USER_REQUESTED="SHOW_USER_REQUESTED",e.FETCH_USER_ORDER_DETAIL_REQUESTED="FETCH_USER_ORDER_DETAIL_REQUESTED",e.FETCH_USER_ORDER_DETAIL_SUCCEEDED="FETCH_USER_ORDER_DETAIL_SUCCEEDED",e.FETCH_USER_PERFORMANCE_REQUESTED="FETCH_USER_PERFORMANCE_REQUESTED",e.FETCH_USER_PERFORMANCE_SUCCEED="FETCH_USER_PERFORMANCE_SUCCEED",e.UPDATE_TRANSLATE_TIPS="UPDATE_TRANSLATE_TIPS",e.UPDATE_USER_REQUESTED="UPDATE_USER_REQUESTED",e.UPDATE_NETWORK_STATUS="UPDATE_NETWORK_STATUS",e.UPDATE_CUR_TAB_FOCUSED="UPDATE_CUR_TAB_FOCUSED",e.UPDATE_CUR_TAB_FOCUSED_SUCCEEDED="UPDATE_CUR_TAB_FOCUSED_SUCCEEDED",e.UPDATE_WORKSTATION_PANEL="UPDATE_WORKSTATION_PANEL",e.UPDATE_NEW_MESSAGE_FLAG="UPDATE_NEW_MESSAGE_FLAG",e.UPDATE_CHAT_WINDOW_STATUS="UPDATE_CHAT_WINDOW_STATUS",e.UPDATE_CHAT_WINDOW_STATUS_SUCCEEDED="UPDATE_CHAT_WINDOW_STATUS_SUCCEEDED",e.UPDATE_CONVERSATION_DETAIL_STATUS="UPDATE_CONVERSATION_DETAIL_STATUS",e.UPDATE_CONVERSATION_DETAIL_STATUS_SUCCEEDED="UPDATE_CONVERSATION_DETAIL_STATUS_SUCCEEDED",e.UPDATE_OPENED_MENU="UPDATE_OPENED_MENU",e.SET_CHAT_SOURCE="SET_CHAT_SOURCE",e.UPDATE_LOGIN_SUCCESS_STATUS="UPDATE_LOGIN_SUCCESS_STATUS",e.UPDATE_SOCKET_SUCCESS_STATUS="UPDATE_SOCKET_SUCCESS_STATUS",e.UPDATE_CHAT_ENTRY_STATUS="UPDATE_CHAT_ENTRY_STATUS",e.UPDATE_GUIDE_REQUESTED="UPDATE_GUIDE_REQUESTED",e.UPDATE_GUIDE_SUCCEEDED="UPDATE_GUIDE_SUCCEEDED",e.LOGIN_REQUESTED="LOGIN_REQUESTED",e.LOGIN_SUCCEEDED="LOGIN_SUCCEEDED",e.LOGOUT_REQUESTED="LOGOUT_REQUESTED",e.LOGOUT_SUCCEEDED="LOGOUT_SUCCEEDED",e.UPDATE_LOGIN_STATUS="UPDATE_LOGIN_STATUS",e.SHOW_TRANSLATION_GUIDE="SHOW_TRANSLATION_GUIDE",e.SHOW_REGION_FILTER_GUIDE="SHOW_REGION_FILTER_GUIDE",e.FORCE_LOGOUT_REQUESTED="FORCE_LOGOUT_REQUESTED",e.CONNECT_SOCKET="CONNECT_SOCKET",e.REPORT_ASYNC_TASK="REPORT_ASYNC_TASK",e.UPLOAD_FEEDBACK_VIDEO_REQUESTED="UPLOAD_FEEDBACK_VIDEO_REQUESTED",e.UPLOAD_FEEDBACK_VIDEO_STATUS="UPLOAD_FEEDBACK_VIDEO_STATUS",e.UPDATE_CAPTCHA_VISIBLE="UPDATE_CAPTCHA_VISIBLE",e.UPDATE_CAPTCHA_SIGNATURE="UPDATE_CAPTCHA_SIGNATURE",e.UPDATE_CAPTCHA_SIGNATURE_SUCCEEDED="UPDATE_CAPTCHA_SIGNATURE_SUCCEEDED",e.SET_TEXT_BOX_HEIGHT="SET_TEXT_BOX_HEIGHT",e.UPDATE_RELATED_CAPACITY="UPDATE_RELATED_CAPACITY",e.UPDATE_IS_MAIN_PAGE="UPDATE_IS_MAIN_PAGE",e.UPDATE_DEL_PERMISSION="UPDATE_DEL_PERMISSION"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"c",(function(){return r.e})),n.d(t,"b",(function(){return r.d})),n.d(t,"o",(function(){return r.m})),n.d(t,"n",(function(){return r.l})),n.d(t,"l",(function(){return r.k})),n.d(t,"i",(function(){return r.i})),n.d(t,"h",(function(){return r.h})),n.d(t,"a",(function(){return r.b})),n.d(t,"k",(function(){return r.j})),n.d(t,"f",(function(){return r.g})),n.d(t,"m",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"j",(function(){return f})),n.d(t,"d",(function(){return p.a})),n.d(t,"g",(function(){return l}));var r=n(42),o=function(e){e.sort((function(e,t){return parseInt(t.latest_message_id)-parseInt(e.latest_message_id)}))},c=function(e,t){var n=e.last_message_time_nano,r=e.next_timestamp_nano;return t&&!r&&(r=t.next_message_time_nano),{nextTimestampNano:r,oldestTimestampNano:r,latestTimestampNano:n}},u=n(2),a=n.n(u),i=n(4),s=n(3),d=a.a.mark(f);function f(e){var t,n,r;return a.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(s.getItem)(e);case 2:(t=o.sent)&&(n=new Date,r=+n-+t,Object(i.l)(i.j.MESSAGE_SOCKET,r),Object(s.removeItem)(e));case 4:case"end":return o.stop()}}),d)}var p=n(63),l={MARK_AS_READ:"mark_as_read",MARK_AS_UNREAD:"mark_as_unread",DELETE_CONVERSATION:"delete_conversation",UPDATE_OFFER_STATUS:"update_offer_status",UPDATE_CONVERSATION:"update_conversation",UPDATE_USER_STATUS:"update_user_status",UPDATE_CONVERSATION_FLAG:"update_conversation_flag",FORCE_LOGOUT:"force_logout",UPDATE_RATING_CARD_STATUS:"update_rating_card_status",PULL_NOTIFICATION:"pull_notification",PIN_CONVERSATION:"pin_conversation",UNPIN_CONVERSATION:"unpin_conversation",MASS_READ:"mass_read",MASS_UNREAD:"mass_unread",MASS_PIN:"mass_pin",MASS_UNPIN:"mass_unpin",MASS_CLOSE:"mass_close",MASS_ACTIVATE:"mass_activate",VIDEO_UPLOAD:"video_upload",MARK_AS_REPLIED:"mark_as_replied",MARK_AS_UNREPLIED:"mark_as_unreplied",CHAT_DELETE_MSG:"chat_delete_msg",FAQ_SESSION_UPDATE:"faq_session_update",MUTE_CONVERSATION:"mute_conversation",UNMUTE_CONVERSATION:"unmute_conversation"}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=u},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=a},function(e,t){e.exports=i},function(e,t,n){var r=n(53);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(55).default,o=n(46);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(12),o=n(53),c=n(89),u=n(90);function a(t){var n="function"==typeof Map?new Map:void 0;return e.exports=a=function(e){if(null===e||!c(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return u(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},e.exports.default=e.exports,e.exports.__esModule=!0,a(t)}e.exports=a,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(86),o=n(87),c=n(61),u=n(88);e.exports=function(e){return r(e)||o(e)||c(e)||u()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";n.d(t,"q",(function(){return x})),n.d(t,"g",(function(){return N})),n.d(t,"a",(function(){return E})),n.d(t,"l",(function(){return b})),n.d(t,"f",(function(){return m})),n.d(t,"j",(function(){return S})),n.d(t,"m",(function(){return h})),n.d(t,"i",(function(){return P})),n.d(t,"d",(function(){return y.a})),n.d(t,"b",(function(){return R})),n.d(t,"p",(function(){return C.a})),n.d(t,"n",(function(){return D})),n.d(t,"c",(function(){return A})),n.d(t,"h",(function(){return g})),n.d(t,"o",(function(){return I})),n.d(t,"e",(function(){return j})),n.d(t,"k",(function(){return w}));var r=n(14),o=n.n(r),c=n(24),u=n.n(c),a=n(17),i=n.n(a),s=n(18),d=n.n(s),f=n(12),p=n.n(f),l=n(19),_=n.n(l),E=function(e){i()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}(n);function n(e){var r;return o()(this,n),(r=t.call(this)).name=r.constructor.name,r.message=e,r}return u()(n,[{key:"handler",value:function(){}}]),n}(_()(Error)),O=n(3),b=function(e){i()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}(n);function n(e,r){var c;return o()(this,n),(c=t.call(this,e)).name=c.constructor.name,c}return u()(n,[{key:"handler",value:function(){Object(O.removeItem)("mini-session"),O.LS.removeItem("mini-session")}}]),n}(_()(Error)),S=function(e){i()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}(n);function n(e){var r;return o()(this,n),(r=t.call(this,e)).name=r.constructor.name,r}return n}(_()(Error)),h=function(e){i()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}(n);function n(e,r){var c;return o()(this,n),(c=t.call(this,e)).name=c.constructor.name,c.errors=r,c}return n}(_()(Error)),v=n(46),T=n.n(v),g=function(e){i()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}(n);function n(e){var r;return o()(this,n),(r=t.call(this,e)).name=r.constructor.name,r.handler=r.handler.bind(T()(r)),r}return u()(n,[{key:"handler",value:function(){}}]),n}(_()(Error)),m=function(e){i()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}(n);function n(e,r){var c;return o()(this,n),(c=t.call(this,e)).name=c.constructor.name,c}return u()(n,[{key:"handler",value:function(){}}]),n}(_()(Error)),y=n(56),R=function(e){i()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}(n);function n(e,r,c){var u;return o()(this,n),(u=t.call(this,e)).name=u.constructor.name,u}return n}(_()(Error)),C=n(57),P=function(e){i()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}(n);function n(e){var r;return o()(this,n),(r=t.call(this,e)).name=r.constructor.name,r}return n}(_()(Error)),D=function(e){i()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}(n);function n(e){var r;return o()(this,n),(r=t.call(this,e.message)).name=r.constructor.name,r.message=e.message,r}return n}(_()(Error)),A=function(e){i()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}(n);function n(e){var r;return o()(this,n),(r=t.call(this,e)).name=r.constructor.name,r}return n}(_()(Error)),I=function(e){i()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}(n);function n(e,r,c){var u;return o()(this,n),(u=t.call(this,e)).name=u.constructor.name,u.errors=r,u.data=c,u}return n}(_()(Error)),j=function(e){i()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}(n);function n(e){var r;return o()(this,n),(r=t.call(this,e)).name=r.constructor.name,r.message=e,r}return n}(_()(Error)),w=function(e){i()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}(n);function n(e){var r;return o()(this,n),(r=t.call(this)).message=e,r}return n}(_()(Error)),N=function(e){switch(e){case 400:return E;case 401:return b;case 403:return m;case 404:return S;case 422:return h;case 429:return P;case 451:return D;case 452:return w;case 491:return y.a;case 492:return R;case 493:return C.a;case 494:return A;case 495:return I;case 500:return g;default:return Error}},x=function(e){return"".concat(e).startsWith("4")||"".concat(e).startsWith("5")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={MARK_AS_READ:"markAsRead",MARK_AS_UNREAD:"markASUnread",CLOSE_CONVERSATION:"closeConversation",RESTART_CONVERSATION:"restartConversation",DELETE_CONVERSATION:"deleteConversation",FORWARD_CONVERSATION:"forwardConversation",RECEIVE_UNREADABLE_MESSAGE:"receiveUnreadableMessage",REFRESH_TOTAL_UNREAD_CONVERSATION_COUNT:"refreshTotalUnreadConversationCount",REFRESH_SHOPS_UNREAD_CONVERSATIONS_COUNT:"refreshShopsUnreadConversationsCount",REFRESH_SINGLE_SHOP_UNREAD_CONVERSATION_COUNT:"refreshSingleShopUnreadConversationCount",UPDATE_CONVERSATION:"updateConversation",MESSAGE_QUEUE_UPDATE:"messageQueueUpdate",MASS_READ:"mass_read",MASS_UNREAD:"mass_unread",MASS_CLOSE:"mass_close",ACTIVE_CONVERSATION:"activeConversation",CLEAR_CONVERSATION_COUNT:"clearConversationCount"}},function(e,t,n){var r=n(82),o=n(83),c=n(61),u=n(84);e.exports=function(e,t){return r(e)||o(e,t)||c(e,t)||u()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.FEEDBACK_REQUESTED="FEEDBACK_REQUESTED",e.FEEDBACK_SUCCEEDED="FEEDBACK_SUCCEEDED",e.UPDATE_RECONNECT_FLAG="UPDATE_RECONNECT_FLAG",e.UPDATE_NOTICES_COUNT="UPDATE_NOTICES_COUNT",e.UPDATE_C_S_SOCKET_STATUS="UPDATE_C_S_SOCKET_STATUS"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return _}));var r=n(1),o=n.n(r);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var a=["id","name","region","shop_id","sold","stock","status","original_price","actual_price","image","image_hash","promotion_label","raw_discount"],i={region:"country",status:"status",original_price:"original_prices",actual_price:"actual_prices",promotion_label:"promotion_label"},s={id:"item_id",region:"region",actual_price:"price"},d=u(u({},s),{},{original_price:"price_before_discount",image_hash:"thumb_url"}),f=u(u({},s),{},{original_price:"price_before_discount",shop_id:"shop_id"}),p=u(u({},s),{},{shop_id:"shop_id"}),l=u(u({},s),{},{shop_id:"shop_id",original_price:"hidden_price_display"}),_={id:"item_id",name:"name",actual_price:"price"}},function(e,t,n){"use strict";n.r(t),n.d(t,"t",(function(){return c}));var r=n(58),o=n.n(r),c=o.a.t.bind(o.a)},function(e,t){function n(e,t,n,r,o,c,u){try{var a=e[c](u),i=a.value}catch(e){return void n(e)}a.done?t(i):Promise.resolve(i).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(o,c){var u=e.apply(t,r);function a(e){n(u,o,c,a,i,"next",e)}function i(e){n(u,o,c,a,i,"throw",e)}a(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=s},function(e,t,n){"use strict";n.r(t);var r=n(9);n.d(t,"selectHydrated",(function(){return r.l})),n.d(t,"userSchema",(function(){return r.o})),n.d(t,"messageSchema",(function(){return r.f})),n.d(t,"conversationSchema",(function(){return r.c})),n.d(t,"offerSchema",(function(){return r.h})),n.d(t,"orderSchema",(function(){return r.i})),n.d(t,"productSchema",(function(){return r.j})),n.d(t,"stickerSchema",(function(){return r.n})),n.d(t,"shopSchema",(function(){return r.m})),n.d(t,"feedStorySchema",(function(){return r.e})),n.d(t,"messageShortcutsSchema",(function(){return r.g})),n.d(t,"rateCardsSchema",(function(){return r.k})),n.d(t,"agentConversationSchema",(function(){return r.a})),n.d(t,"contactsSchema",(function(){return r.b})),n.d(t,"vouchersSchema",(function(){return r.p}));var o=n(4);n.d(t,"fetch",(function(){return o.s})),n.d(t,"mdapConfig",(function(){return o.I})),n.d(t,"ReportPoint",(function(){return o.j})),n.d(t,"collectLoadTask",(function(){return o.o})),n.d(t,"collectComponentTask",(function(){return o.n})),n.d(t,"collectAsyncTask",(function(){return o.l})),n.d(t,"initMDAPSdk",(function(){return o.D})),n.d(t,"reportApiTime",(function(){return o.M})),n.d(t,"NoLiveKeyMap",(function(){return o.f})),n.d(t,"LiveReportPoint",(function(){return o.c})),n.d(t,"NoLiveReportPoint",(function(){return o.g})),n.d(t,"ExceptionName",(function(){return o.b})),n.d(t,"LiveSecretKey",(function(){return o.d})),n.d(t,"NoLiveSecretKey",(function(){return o.h})),n.d(t,"MarkName",(function(){return o.e})),n.d(t,"ReportComponent",(function(){return o.i})),n.d(t,"getTranslation",(function(){return o.w})),n.d(t,"updateOrReplaceAction",(function(){return o.Q})),n.d(t,"getConversationIds",(function(){return o.u})),n.d(t,"generatePersist",(function(){return o.t})),n.d(t,"shouldPersistItem",(function(){return o.O})),n.d(t,"EventBus",(function(){return o.a})),n.d(t,"networkJudge",(function(){return o.K})),n.d(t,"isShared",(function(){return o.F})),n.d(t,"socket",(function(){return o.P})),n.d(t,"loginSocket",(function(){return o.H})),n.d(t,"heartbeat",(function(){return o.B})),n.d(t,"isCSSocketShared",(function(){return o.E})),n.d(t,"csSocket",(function(){return o.r})),n.d(t,"loginCSSocket",(function(){return o.G})),n.d(t,"history",(function(){return o.C})),n.d(t,"getRouterPath",(function(){return o.v})),n.d(t,"configTrackerUser",(function(){return o.q})),n.d(t,"collectTrackerTask",(function(){return o.p})),n.d(t,"clearApiCache",(function(){return o.k})),n.d(t,"collectChatbotReportTask",(function(){return o.m})),n.d(t,"handleChatbotUrl",(function(){return o.x})),n.d(t,"handleChatbotUrlKey",(function(){return o.y})),n.d(t,"handledOrderForRender",(function(){return o.A})),n.d(t,"handleOrderForApi",(function(){return o.z})),n.d(t,"shopService",(function(){return o.N})),n.d(t,"productCleaner",(function(){return o.L})),n.d(t,"memoize",(function(){return o.J})),n.d(t,"normalize",(function(){return r.d}));var c=n(5);n.d(t,"takeEveryWithCancel",(function(){return c.Rf})),n.d(t,"entitiesSelector",(function(){return c.Ob})),n.d(t,"userEntitiesSelector",(function(){return c.ch})),n.d(t,"conversationEntitiesSelector",(function(){return c.D})),n.d(t,"agentConversationEntitiesSelector",(function(){return c.c})),n.d(t,"messageEntitiesSelector",(function(){return c.Cd})),n.d(t,"stickerEntitiesSelector",(function(){return c.Of})),n.d(t,"orderEntitiesSelector",(function(){return c.he})),n.d(t,"productEntitiesSelector",(function(){return c.ne})),n.d(t,"voucherEntitiesSelector",(function(){return c.hh})),n.d(t,"messageShortcutGroupEntitiesSelector",(function(){return c.Id})),n.d(t,"feedStoryEntitiesSelector",(function(){return c.Yb})),n.d(t,"rateCardEntitiesSelector",(function(){return c.qe})),n.d(t,"shopsEntitiesSelector",(function(){return c.of})),n.d(t,"contactsEntitiesSelector",(function(){return c.A})),n.d(t,"conversationsLengthLevelSelector",(function(){return c.J})),n.d(t,"messagesLengthLevelSelector",(function(){return c.Qd})),n.d(t,"updateEntities",(function(){return c.zg})),n.d(t,"updateRecord",(function(){return c.Og})),n.d(t,"deleteRecord",(function(){return c.Kb})),n.d(t,"batchUpdateRecord",(function(){return c.j})),n.d(t,"entityReducer",(function(){return c.Pb})),n.d(t,"showModal",(function(){return c.Bf})),n.d(t,"closeModal",(function(){return c.z})),n.d(t,"modalReducer",(function(){return c.Ud})),n.d(t,"modalSelector",(function(){return c.Vd})),n.d(t,"shopsUnreadConversationCountSelector",(function(){return c.pf})),n.d(t,"totalUnreadConversationsCountSelector",(function(){return c.Zf})),n.d(t,"unreadCountActions",(function(){return c.bg})),n.d(t,"updateUnreadCount",(function(){return c.Zg})),n.d(t,"handleUnreadCountChangeAction",(function(){return c.Uc})),n.d(t,"updateTotalUnreadConversationsCount",(function(){return c.Xg})),n.d(t,"watchUnreadSagas",(function(){return c.Hh})),n.d(t,"unreadCountReducer",(function(){return c.cg})),n.d(t,"loadingSelector",(function(){return c.jd})),n.d(t,"currentUserIdSelector",(function(){return c.yb})),n.d(t,"newbieSelector",(function(){return c.ae})),n.d(t,"tipsSelector",(function(){return c.Uf})),n.d(t,"networkStatusSelector",(function(){return c.Yd})),n.d(t,"hasVideoPermissionSelector",(function(){return c.Zc})),n.d(t,"hasReplyPermissionSelector",(function(){return c.Yc})),n.d(t,"hasDeletePermissionSelector",(function(){return c.Vc})),n.d(t,"deleteConfigDurationSelector",(function(){return c.Fb})),n.d(t,"deleteConfigSelector",(function(){return c.Gb})),n.d(t,"captchaVisibleSelector",(function(){return c.n})),n.d(t,"captchaSignatureSelector",(function(){return c.m})),n.d(t,"resendMessagePayloadSelector",(function(){return c.Fe})),n.d(t,"newMessageFlagSelector",(function(){return c.Zd})),n.d(t,"userSelector",(function(){return c.eh})),n.d(t,"currentUserSelector",(function(){return c.Ab})),n.d(t,"localeSelector",(function(){return c.kd})),n.d(t,"isSubAccountSelector",(function(){return c.fd})),n.d(t,"isCBSellerSelector",(function(){return c.cd})),n.d(t,"shopStatisticsMapSelector",(function(){return c.lf})),n.d(t,"shopStatisticsSelector",(function(){return c.mf})),n.d(t,"currentUserShopIdSelector",(function(){return c.Bb})),n.d(t,"currentUserShopSelector",(function(){return c.Cb})),n.d(t,"currentUserRoleSelector",(function(){return c.zb})),n.d(t,"currentUserDistributionStatusSelector",(function(){return c.xb})),n.d(t,"isMainPageSelector",(function(){return c.dd})),n.d(t,"curTabFocusedSelector",(function(){return c.R})),n.d(t,"showConversationDetailSelector",(function(){return c.tf})),n.d(t,"showChatWindowSelector",(function(){return c.rf})),n.d(t,"openedMenuSelector",(function(){return c.ge})),n.d(t,"isScChatSelector",(function(){return c.ed})),n.d(t,"loginSuccessSelector",(function(){return c.pd})),n.d(t,"socketSuccessSelector",(function(){return c.Mf})),n.d(t,"showEntrySelector",(function(){return c.wf})),n.d(t,"authorizedShopsCountSelector",(function(){return c.g})),n.d(t,"blockUserRequested",(function(){return c.k})),n.d(t,"watchBlock",(function(){return c.lh})),n.d(t,"getGuideRequested",(function(){return c.Lc})),n.d(t,"getGuideSucceeded",(function(){return c.Mc})),n.d(t,"getGuideFailed",(function(){return c.Kc})),n.d(t,"getGuide",(function(){return c.Jc})),n.d(t,"watchGuides",(function(){return c.uh})),n.d(t,"updateGuideRequested",(function(){return c.Eg})),n.d(t,"updateGuideSucceeded",(function(){return c.Fg})),n.d(t,"updateGuide",(function(){return c.Dg})),n.d(t,"watchUpdateGuides",(function(){return c.Jh})),n.d(t,"updateUserRequested",(function(){return c.bh})),n.d(t,"updateNetworkStatus",(function(){return c.Jg})),n.d(t,"fetchUserOrderDetailRequested",(function(){return c.uc})),n.d(t,"fetchUserOrderDetailSucceeded",(function(){return c.vc})),n.d(t,"updateChatWindowStatus",(function(){return c.lg})),n.d(t,"updateChatWindowStatusSucceeded",(function(){return c.ng})),n.d(t,"updateConversationDetailStatus",(function(){return c.pg})),n.d(t,"updateConversationDetailStatusSucceeded",(function(){return c.rg})),n.d(t,"updateOpenedMenu",(function(){return c.Lg})),n.d(t,"setChatSource",(function(){return c.Ye})),n.d(t,"updateLoginSuccessStatus",(function(){return c.Ig})),n.d(t,"updateSocketSuccessStatus",(function(){return c.Ug})),n.d(t,"updateChatEntryStatus",(function(){return c.kg})),n.d(t,"updateUser",(function(){return c.ah})),n.d(t,"fetchUserOrderDetail",(function(){return c.tc})),n.d(t,"readMessage",(function(){return c.se})),n.d(t,"updateChatWindowStatusSaga",(function(){return c.mg})),n.d(t,"updateConversationDetailStatusSaga",(function(){return c.qg})),n.d(t,"watchUpdate",(function(){return c.Ih})),n.d(t,"showUserRequested",(function(){return c.If})),n.d(t,"showUser",(function(){return c.Hf})),n.d(t,"watchShow",(function(){return c.Ah})),n.d(t,"updateTranslateTips",(function(){return c.Yg})),n.d(t,"loginRequested",(function(){return c.nd})),n.d(t,"loginSucceeded",(function(){return c.od})),n.d(t,"logoutRequested",(function(){return c.sd})),n.d(t,"logoutSucceeded",(function(){return c.td})),n.d(t,"forceLogoutRequested",(function(){return c.zc})),n.d(t,"handleLoginSucceededLogic",(function(){return c.Tc})),n.d(t,"login",(function(){return c.md})),n.d(t,"watchLogin",(function(){return c.vh})),n.d(t,"logoutHandler",(function(){return c.rd})),n.d(t,"logout",(function(){return c.qd})),n.d(t,"checkUserPermissionRequested",(function(){return c.t})),n.d(t,"checkUserPermissionSucceeded",(function(){return c.u})),n.d(t,"updateDelPermission",(function(){return c.yg})),n.d(t,"watchCheck",(function(){return c.rh})),n.d(t,"updateCaptchaVisible",(function(){return c.jg})),n.d(t,"updateCaptchaSignature",(function(){return c.gg})),n.d(t,"updateCaptchaSignatureSucceeded",(function(){return c.ig})),n.d(t,"updateCaptchaSignatureSaga",(function(){return c.hg})),n.d(t,"watchCaptcha",(function(){return c.oh})),n.d(t,"updateIsMainPage",(function(){return c.Gg})),n.d(t,"updateCurTabFocused",(function(){return c.vg})),n.d(t,"updateCurTabFocusedSucceeded",(function(){return c.xg})),n.d(t,"updateCurTabFocusedSaga",(function(){return c.wg})),n.d(t,"watchTab",(function(){return c.Ch})),n.d(t,"watchUserSagas",(function(){return c.Kh})),n.d(t,"userReducer",(function(){return c.dh})),n.d(t,"conversationIdsSelector",(function(){return c.F})),n.d(t,"readRequestIdsSelector",(function(){return c.te})),n.d(t,"missedReadNoticeCountSelector",(function(){return c.Td})),n.d(t,"inlocationSelector",(function(){return c.bd})),n.d(t,"updateTimeNowSelector",(function(){return c.Wg})),n.d(t,"currentConversationIdSelector",(function(){return c.cb})),n.d(t,"currentConversationCanReadSelector",(function(){return c.bb})),n.d(t,"conversationHttpStatusSelector",(function(){return c.E})),n.d(t,"conversationDirectionSelector",(function(){return c.C})),n.d(t,"conversationsSelector",(function(){return c.K})),n.d(t,"degradeConversationIdsSelector",(function(){return c.Eb})),n.d(t,"keywordSelector",(function(){return c.gd})),n.d(t,"filterSelector",(function(){return c.xc})),n.d(t,"filteredConversationsSelector",(function(){return c.yc})),n.d(t,"sortedConversationsSelector",(function(){return c.Nf})),n.d(t,"currentConversationSelector",(function(){return c.eb})),n.d(t,"currentBuyerIdSelector",(function(){return c.T})),n.d(t,"currentConversationShopSelectors",(function(){return c.hb})),n.d(t,"currentConversationShopRegionSelectors",(function(){return c.gb})),n.d(t,"currentConversationShopIdSelectors",(function(){return c.fb})),n.d(t,"currentConversationBuyerIdSelectors",(function(){return c.ab})),n.d(t,"currentConversationStatusSelectors",(function(){return c.ib})),n.d(t,"currentConversationAutoTranslationSelectors",(function(){return c.Z})),n.d(t,"currentConversationMaxOptionHideTimeSelectors",(function(){return c.db})),n.d(t,"getConversation",(function(){return c.Cc})),n.d(t,"getConversationShopId",(function(){return c.Ec})),n.d(t,"getConversations",(function(){return c.Fc})),n.d(t,"currentShopIdSelector",(function(){return c.wb})),n.d(t,"currentBuyerSelector",(function(){return c.W})),n.d(t,"currentBuyerShopIdSelector",(function(){return c.X})),n.d(t,"resultsSelector",(function(){return c.Ie})),n.d(t,"searchConversationHttpStatusSelector",(function(){return c.Me})),n.d(t,"currentConversationTranslationAccessSelector",(function(){return c.kb})),n.d(t,"listsHashSelector",(function(){return c.id})),n.d(t,"conversationBeenDeletedSelector",(function(){return c.B})),n.d(t,"currentConversationToNameSelector",(function(){return c.jb})),n.d(t,"shopAccessSelector",(function(){return c.if})),n.d(t,"deleteConversationRequested",(function(){return c.Hb})),n.d(t,"deleteConversationSucceeded",(function(){return c.Ib})),n.d(t,"getConversationDetailRequested",(function(){return c.Dc})),n.d(t,"fakeConversationSucceeded",(function(){return c.Sb})),n.d(t,"fetchConversationsRequested",(function(){return c.cc})),n.d(t,"fetchConversationsSucceeded",(function(){return c.ec})),n.d(t,"updateFetchConversationsDirection",(function(){return c.Ag})),n.d(t,"updateConversationTimestamp",(function(){return c.ug})),n.d(t,"updateConversationFilter",(function(){return c.sg})),n.d(t,"markMessagesRequested",(function(){return c.ud})),n.d(t,"markMessagesSucceeded",(function(){return c.wd})),n.d(t,"updateReadRequestData",(function(){return c.Mg})),n.d(t,"pinConversationRequested",(function(){return c.le})),n.d(t,"setCurrentConversationCanRead",(function(){return c.af})),n.d(t,"showConversationRequested",(function(){return c.uf})),n.d(t,"resetConversationRequested",(function(){return c.Ge})),n.d(t,"changeConversationStatusRequested",(function(){return c.o})),n.d(t,"fetchDegradeConversationsDetail",(function(){return c.fc})),n.d(t,"conversationOperateRequested",(function(){return c.H})),n.d(t,"searchMoreResults",(function(){return c.Pe})),n.d(t,"showSearchedConversationRequested",(function(){return c.Ff})),n.d(t,"showConversationSucceeded",(function(){return c.vf})),n.d(t,"resetSearchParams",(function(){return c.He})),n.d(t,"locationMessage",(function(){return c.ld})),n.d(t,"updateLocationMode",(function(){return c.Hg})),n.d(t,"setConversationBeenDeleted",(function(){return c.Ze})),n.d(t,"muteConversationRequested",(function(){return c.Wd})),n.d(t,"markMessagesRequestedSaga",(function(){return c.vd})),n.d(t,"changeConversationStatusRequestedSaga",(function(){return c.p})),n.d(t,"fetchConversationsRequestedSaga",(function(){return c.dc})),n.d(t,"fetchDegradeConversationsDetailSaga",(function(){return c.gc})),n.d(t,"converstionSyncUpdatesSaga",(function(){return c.L})),n.d(t,"searchConversationsRequested",(function(){return c.Ne})),n.d(t,"searchConversationsSucceeded",(function(){return c.Oe})),n.d(t,"updateSearchParams",(function(){return c.Pg})),n.d(t,"watchSearch",(function(){return c.xh})),n.d(t,"watchConversationSagas",(function(){return c.sh})),n.d(t,"conversationReducer",(function(){return c.I})),n.d(t,"shopSelector",(function(){return c.kf})),n.d(t,"fetchedShopIdsSelector",(function(){return c.wc})),n.d(t,"myShopSelector",(function(){return c.Xd})),n.d(t,"currentBuyerShopSelector",(function(){return c.Y})),n.d(t,"defaultPagination",(function(){return c.Db})),n.d(t,"showShop",(function(){return c.Gf})),n.d(t,"getShopUnreadCountByIds",(function(){return c.Pc})),n.d(t,"fetchShopsByIds",(function(){return c.rc})),n.d(t,"fetchShopAuth",(function(){return c.mc})),n.d(t,"fetchShopsRequested",(function(){return c.sc})),n.d(t,"searchShopsRequested",(function(){return c.Qe})),n.d(t,"fetchShopAuthRequested",(function(){return c.nc})),n.d(t,"updateFetchedShopIds",(function(){return c.Cg})),n.d(t,"updateShopFilter",(function(){return c.Rg})),n.d(t,"visitShopSellerCenterRequested",(function(){return c.gh})),n.d(t,"fetchShopDetailInfo",(function(){return c.oc})),n.d(t,"watchShopSagas",(function(){return c.zh})),n.d(t,"shopReducer",(function(){return c.jf})),n.d(t,"toastSelector",(function(){return c.Yf})),n.d(t,"getToastInformation",(function(){return c.Qc})),n.d(t,"setToastInformationSaga",(function(){return c.cf})),n.d(t,"copySucceedFeedback",(function(){return c.M})),n.d(t,"setToastInformation",(function(){return c.bf})),n.d(t,"watchToastSagas",(function(){return c.Dh})),n.d(t,"toastReducer",(function(){return c.Xf})),n.d(t,"faqHistoryhttpStatusSelector",(function(){return c.Vb})),n.d(t,"faqHistoryHashSelector",(function(){return c.Tb})),n.d(t,"faqIdSelector",(function(){return c.Wb})),n.d(t,"currentFaqHistorySeletor",(function(){return c.mb})),n.d(t,"messageHttpStatusSelector",(function(){return c.Fd})),n.d(t,"messagesRelatedMapSelector",(function(){return c.Rd})),n.d(t,"offlineMessagesSelector",(function(){return c.fe})),n.d(t,"videoMapSelector",(function(){return c.fh})),n.d(t,"selectVideoInfoByKey",(function(){return c.Re})),n.d(t,"selectVideoInfoKeyByVid",(function(){return c.Se})),n.d(t,"getMessageSelector",(function(){return c.Nc})),n.d(t,"getMessagesSelector",(function(){return c.Oc})),n.d(t,"curMessagesRelatedSelector",(function(){return c.Q})),n.d(t,"getConvsMessagesRelatedSelector",(function(){return c.Gc})),n.d(t,"getCurChatRoomRefer",(function(){return c.Hc})),n.d(t,"getChatRoomRefer",(function(){return c.Ac})),n.d(t,"messageFillStatusMapSelector",(function(){return c.Dd})),n.d(t,"conversationLastMessageSelector",(function(){return c.G})),n.d(t,"allMessageIdsSelector",(function(){return c.d})),n.d(t,"sendingMessageIdsSelector",(function(){return c.Xe})),n.d(t,"failedMessageIdsSelector",(function(){return c.Rb})),n.d(t,"hasMoreOlderMessageSelector",(function(){return c.Xc})),n.d(t,"hasMoreLatestMessageSelector",(function(){return c.Wc})),n.d(t,"messageHasNextSelector",(function(){return c.Ed})),n.d(t,"entryPointSelector",(function(){return c.Qb})),n.d(t,"toBottomHasConflictSelector",(function(){return c.Vf})),n.d(t,"messagesSelector",(function(){return c.Sd})),n.d(t,"reverseMessagesSelector",(function(){return c.Je})),n.d(t,"showWarningMessageIdsSelector",(function(){return c.Kf})),n.d(t,"unreadMessagesSelector",(function(){return c.eg})),n.d(t,"faqHistoryMessagesSelector",(function(){return c.Ub})),n.d(t,"mediaMessagesSelector",(function(){return c.zd})),n.d(t,"previewMediasSelector",(function(){return c.me})),n.d(t,"unreadMessageIdsSelector",(function(){return c.dg})),n.d(t,"messageSourceSelector",(function(){return c.Od})),n.d(t,"messageSourceIdsSelector",(function(){return c.Nd})),n.d(t,"messageOffersSelector",(function(){return c.Gd})),n.d(t,"curConvsMessageSelector",(function(){return c.P})),n.d(t,"rateCardSelector",(function(){return c.re})),n.d(t,"toMessageIdSelector",(function(){return c.Wf})),n.d(t,"replyToMessageIdSelector",(function(){return c.Ae})),n.d(t,"scrollToMessageIdSelector",(function(){return c.Le})),n.d(t,"replyToMessageSelector",(function(){return c.Be})),n.d(t,"inScrollToMessageSelector",(function(){return c.ad})),n.d(t,"messageShortcutGroupSelector",(function(){return c.Kd})),n.d(t,"currentGroupTypeSelector",(function(){return c.qb})),n.d(t,"messageShortcutGroupContentSelector",(function(){return c.Hd})),n.d(t,"messageShortcutGroupHttpStatusSelector",(function(){return c.Jd})),n.d(t,"currentGroupIdSelector",(function(){return c.pb})),n.d(t,"messageShortcutsSelector",(function(){return c.Ld})),n.d(t,"personalMessageShortcutsSelector",(function(){return c.ke})),n.d(t,"teamMessageShortcutsSelector",(function(){return c.Sf})),n.d(t,"currentAllMessageShortcutsSelector",(function(){return c.S})),n.d(t,"settingsSelector",(function(){return c.gf})),n.d(t,"settingsNeedForceUpdateSelectors",(function(){return c.ef})),n.d(t,"settingsStatusSelector",(function(){return c.hf})),n.d(t,"settingsFetchStatusSelector",(function(){return c.df})),n.d(t,"autoTranslation",(function(){return c.h})),n.d(t,"messageTimeStyleSelector",(function(){return c.Pd})),n.d(t,"messageShortcutsStatusSelector",(function(){return c.Md})),n.d(t,"legacyMessageShortcutsCountSelector",(function(){return c.hd})),n.d(t,"distributionAccountStatusSelector",(function(){return c.Lb})),n.d(t,"fetchSettings",(function(){return c.jc})),n.d(t,"fetchSettingsRequested",(function(){return c.kc})),n.d(t,"watchSettingsSagas",(function(){return c.yh})),n.d(t,"settingsReducer",(function(){return c.ff})),n.d(t,"handle401ErrorRequested",(function(){return c.Rc})),n.d(t,"updateConversationListsHash",(function(){return c.tg})),n.d(t,"offerHttpStatusSelector",(function(){return c.ce})),n.d(t,"currentPendingOffersCountSelector",(function(){return c.ub})),n.d(t,"offersSelector",(function(){return c.ee})),n.d(t,"relatedOfferIdsSelector",(function(){return c.xe})),n.d(t,"offerSelector",(function(){return c.de})),n.d(t,"currentOffersFetchResultSelector",(function(){return c.sb})),n.d(t,"currentOfferPaginationSelector",(function(){return c.rb})),n.d(t,"currentBuyerOffersSelector",(function(){return c.U})),n.d(t,"reduxReset",(function(){return c.we})),n.d(t,"draftReducer",(function(){return c.Nb})),n.d(t,"removeSingleDraft",(function(){return c.ze})),n.d(t,"removeAllDraft",(function(){return c.ye})),n.d(t,"batchRemoveDraft",(function(){return c.i})),n.d(t,"saveDraft",(function(){return c.Ke})),n.d(t,"draftHashSelector",(function(){return c.Mb})),n.d(t,"getDraft",(function(){return c.Ic})),n.d(t,"currentDraftSelector",(function(){return c.lb})),n.d(t,"feedbackRequested",(function(){return c.Zb})),n.d(t,"feedbackSucceeded",(function(){return c.bc})),n.d(t,"watchFeedback",(function(){return c.th})),n.d(t,"updateNoticesCount",(function(){return c.Kg})),n.d(t,"watchChannel",(function(){return c.ph})),n.d(t,"updateReconnectFlag",(function(){return c.Ng})),n.d(t,"handleConnect",(function(){return c.Sc})),n.d(t,"updateCSSocketStatus",(function(){return c.fg})),n.d(t,"watchCSChatChannel",(function(){return c.mh})),n.d(t,"watchCSChatReconnect",(function(){return c.nh})),n.d(t,"watchSocketSagas",(function(){return c.Bh})),n.d(t,"socketReducer",(function(){return c.Lf})),n.d(t,"feedbackSelector",(function(){return c.ac})),n.d(t,"reconnectFlagSelector",(function(){return c.ue})),n.d(t,"noticesCountSelector",(function(){return c.be})),n.d(t,"csSocketLoginedSelector",(function(){return c.O})),n.d(t,"csSocketConnectedSelector",(function(){return c.N})),n.d(t,"mediaMapSelector",(function(){return c.yd})),n.d(t,"mediaListSelector",(function(){return c.xd})),n.d(t,"addMediaFile",(function(){return c.b})),n.d(t,"deleteMediaFile",(function(){return c.Jb})),n.d(t,"clearMediaFile",(function(){return c.v})),n.d(t,"mediaPreviewerReducer",(function(){return c.Bd})),n.d(t,"showMediaPreviewModalSelector",(function(){return c.Af})),n.d(t,"currentPreviewMediaIdSelector",(function(){return c.vb})),n.d(t,"showMediaPreviewModalRequested",(function(){return c.zf})),n.d(t,"closeMediaPreviewModalRequested",(function(){return c.y})),n.d(t,"mediaPreviewModalReducer",(function(){return c.Ad})),n.d(t,"shopTranslationSettingsSelector",(function(){return c.nf})),n.d(t,"fetchSettingsStatusSelector",(function(){return c.lc})),n.d(t,"updateStatusSelector",(function(){return c.Vg})),n.d(t,"fetchShopTranslationSettings",(function(){return c.qc})),n.d(t,"updateShopTranslationSettings",(function(){return c.Sg})),n.d(t,"updateFetchStatus",(function(){return c.Bg})),n.d(t,"updateSettingPreferenceStatus",(function(){return c.Qg})),n.d(t,"updateShopTranslationSettingsRecord",(function(){return c.Tg})),n.d(t,"fetchShopSettings",(function(){return c.pc})),n.d(t,"watchTranslationSettings",(function(){return c.Fh})),n.d(t,"translatePreferenceReducer",(function(){return c.ag})),n.d(t,"watchTranslationSagas",(function(){return c.Eh})),n.d(t,"showProduct",(function(){return c.Ef})),n.d(t,"showOrder",(function(){return c.Df})),n.d(t,"showOffer",(function(){return c.Cf})),n.d(t,"showVoucher",(function(){return c.Jf})),n.d(t,"showFeedStory",(function(){return c.yf})),n.d(t,"showCartReminder",(function(){return c.qf})),n.d(t,"showFaqHistory",(function(){return c.xf})),n.d(t,"chatbotImageSelector",(function(){return c.q})),n.d(t,"faqSessionInfoSelector",(function(){return c.Xb})),n.d(t,"currentFaqSessionInfoSelector",(function(){return c.nb})),n.d(t,"showChatbotImage",(function(){return c.sf})),n.d(t,"closeChatbotMediaPreview",(function(){return c.x})),n.d(t,"chatbotIntentsReportRequest",(function(){return c.r})),n.d(t,"fetchFaqSessionSucceed",(function(){return c.hc})),n.d(t,"ChatbotProvider",(function(){return c.a})),n.d(t,"getChatbotSdk",(function(){return c.Bc})),n.d(t,"updateChatbotFrom",(function(){return c.og})),n.d(t,"chatbotReducer",(function(){return c.s})),n.d(t,"watchChatbotSagas",(function(){return c.qh})),n.d(t,"voucherHttpStatusSelector",(function(){return c.ih})),n.d(t,"vouchersSelector",(function(){return c.kh})),n.d(t,"voucherSelector",(function(){return c.jh})),n.d(t,"orderSelector",(function(){return c.je})),n.d(t,"cancelReasonsSelector",(function(){return c.l})),n.d(t,"orderHttpStatusSelector",(function(){return c.ie})),n.d(t,"currentOrderFetchResultSelector",(function(){return c.tb})),n.d(t,"currentBuyerOrdersSelector",(function(){return c.V})),n.d(t,"productSelector",(function(){return c.oe})),n.d(t,"productsSelector",(function(){return c.pe})),n.d(t,"allProductsSearchStatusSelector",(function(){return c.e})),n.d(t,"sellerRecommendProductsSelector",(function(){return c.We})),n.d(t,"systemRecommendProductsSelector",(function(){return c.Qf})),n.d(t,"sellerRecommendGroupsSelector",(function(){return c.Ue})),n.d(t,"systemRecommendProductFetchStatusSelector",(function(){return c.Pf})),n.d(t,"sellerRecommendProductFetchStatusSelector",(function(){return c.Ve})),n.d(t,"sellerRecommendGroupsFetchStatusSelector",(function(){return c.Te})),n.d(t,"currentFetchResultSelector",(function(){return c.ob})),n.d(t,"allProductsSelector",(function(){return c.f})),n.d(t,"reportArraySelector",(function(){return c.Ce})),n.d(t,"watchReportSagas",(function(){return c.wh})),n.d(t,"reportRequested",(function(){return c.Ee})),n.d(t,"clearReportRequested",(function(){return c.w})),n.d(t,"timerHandler",(function(){return c.Tf})),n.d(t,"reportReducer",(function(){return c.De})),n.d(t,"redirectConversationRequested",(function(){return c.ve})),n.d(t,"fetchReferEntityRequested",(function(){return c.ic})),n.d(t,"watchUncontrolledSagas",(function(){return c.Gh}));var u=n(21);n.d(t,"isError",(function(){return u.q})),n.d(t,"HTTPError",(function(){return u.g})),n.d(t,"BadRequest",(function(){return u.a})),n.d(t,"Unauthoried",(function(){return u.l})),n.d(t,"Forbidden",(function(){return u.f})),n.d(t,"NotFound",(function(){return u.j})),n.d(t,"UnprocessableEntity",(function(){return u.m})),n.d(t,"Limiting",(function(){return u.i})),n.d(t,"CustomError",(function(){return u.d})),n.d(t,"Blacklist",(function(){return u.b})),n.d(t,"Webview",(function(){return u.p})),n.d(t,"UntrustedNetwork",(function(){return u.n})),n.d(t,"CancelOrderWarning",(function(){return u.c})),n.d(t,"InternalServerError",(function(){return u.h})),n.d(t,"UnverifiedPhoneNumber",(function(){return u.o})),n.d(t,"FileReaderError",(function(){return u.e})),n.d(t,"TemporyError",(function(){return u.k}));var a=n(48);n.d(t,"itemDetailCleaner",(function(){return a.f})),n.d(t,"itemListDetailCleaner",(function(){return a.g})),n.d(t,"addOnDealItemDetailCleaner",(function(){return a.a})),n.d(t,"addOnDealRuleCleaner",(function(){return a.b})),n.d(t,"bundleDealItemDetailCleaner",(function(){return a.c})),n.d(t,"bundleDealRuleCleaner",(function(){return a.d})),n.d(t,"flashSaleItemDetailCleaner",(function(){return a.e})),n.d(t,"shoppingCartItemDetailCleaner",(function(){return a.i})),n.d(t,"offerDetailCleaner",(function(){return a.h}))},function(e,t){e.exports=d},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){if(window.requestIdleCallback)return window.requestIdleCallback(e,t);var n=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-n))}})}),1)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return f}));var r,o=n(1),c=n.n(o),u=n(6),a=n(44),i=Object(u.createActions)((r={},c()(r,a.a.COPY_SUCCEED_FEEDBACK,(function(){return{}})),c()(r,a.a.SET_TOAST_INFORMATION,(function(e){return{type:e.type,error:e.error,toast:e.toast}})),c()(r,a.a.SET_TOAST_INFORMATION_SUCCEEDED,(function(e){return{toast:e.toast}})),r)),s=i.copySucceedFeedback,d=i.setToastInformation,f=i.setToastInformationSucceeded},function(e,t,n){var r=n(92),o=n(93);e.exports=function(e,t,n){var c=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var u=(e=e||{}).random||(e.rng||r)();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,t)for(var a=0;a<16;++a)t[c+a]=u[a];return t||o(u)}},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.FETCH_SHOP_TRANSLATION_SETTINGS="FETCH_SHOP_TRANSLATION_SETTINGS",e.UPDATE_SHOP_TRANSLATION_SETTINGS="UPDATE_SHOP_TRANSLATION_SETTINGS",e.UPDATE_FETCH_STATUS="UPDATE_FETCH_STATUS",e.UPDATE_SETTING_PREFERENCE_STATUS="UPDATE_SETTING_PREFERENCE_STATUS",e.UPDATE_SHOP_TRANSLATION_SETTINGS_RECORD="UPDATE_SHOP_TRANSLATION_SETTINGS_RECORD"}(r||(r={}))},function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return C})),n.d(t,"e",(function(){return P}));var r,o=n(1),c=n.n(o),u=n(2),a=n.n(u),i=n(6),s=n(5),d=n(0),f=n(4),p=n(22),l=n(3),_=n(45);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=a.a.mark(y),S=a.a.mark(R),h=a.a.mark(C),v=a.a.mark(P),T=Object(i.createActions)((r={},c()(r,_.a.UPDATE_UNREAD_COUNT,(function(e){return{type:e.type,conversation:e.conversation,messageQueueUpdate:e.messageQueueUpdate,shopId:e.shopId,shopIds:e.shopIds,source:e.source,count:e.count}})),c()(r,_.a.UPDATE_TOTAL_UNREAD_CONVERSATIONS_COUNT,(function(e){return{count:e.count}})),c()(r,_.a.UPDATE_SINGLE_SHOP_UNREAD_COUNT,(function(e){return{shopId:e.shopId,num:e.num,action:e.action}})),c()(r,_.a.UPDATE_SHOPS_UNREAD_CONVERSATIONS_COUNT,(function(e){return{shopUnreadCounts:e.shopUnreadCounts}})),r)),g=T.updateUnreadCount,m=T.updateTotalUnreadConversationsCount;function y(e,t){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(d.put)(Object(s.Og)({name:"conversations",id:e,record:{unread_count:t}}));case 2:case"end":return n.stop()}}),b)}function R(t){var n,r,o,c,u,i;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.source,a.prev=1,r=n===l.UnreadSource.PRELOAD,o=n?{_s:n}:{},a.next=6,Object(d.call)(f.s,{shared:!r,parent:"conversation",resource:"unread-count",params:o});case 6:return c=a.sent,u=c.total_unread_count,a.next=10,Object(d.put)(m({count:u}));case 10:return a.next=12,Object(d.select)(s.ed);case 12:i=a.sent,r&&e({operation:l.TrackerOperation.IMPRESSION,trackerName:"impressionChatIcon",data:{ctx_url:window.location.href,has_unread_convo:!!u,unread_convo_cnt:u},page:i?"seller_center_chat":"minichat_page"}),a.next=18;break;case 16:a.prev=16,a.t0=a.catch(1);case 18:case"end":return a.stop()}}),S,null,[[1,16]])}function C(e){var t,n,r,o,c,u,i,f,l,_,E,O;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,n=t.type,r=t.conversation,o=void 0===r?{}:r,t.shopId,t.shopIds,c=t.messageQueueUpdate,u=t.source,i=t.count,f=o.id,l=o.unread_count,o.shop_id,a.next=4,Object(d.select)(s.Zf);case 4:_=a.sent,a.t0=n,a.next=a.t0===p.a.FORWARD_CONVERSATION||a.t0===p.a.CLOSE_CONVERSATION||a.t0===p.a.DELETE_CONVERSATION||a.t0===p.a.UPDATE_CONVERSATION?8:a.t0===p.a.CLEAR_CONVERSATION_COUNT||a.t0===p.a.MARK_AS_READ?14:a.t0===p.a.ACTIVE_CONVERSATION?20:a.t0===p.a.MARK_AS_UNREAD?23:a.t0===p.a.RECEIVE_UNREADABLE_MESSAGE?28:a.t0===p.a.RESTART_CONVERSATION||a.t0===p.a.REFRESH_TOTAL_UNREAD_CONVERSATION_COUNT?34:a.t0===p.a.MESSAGE_QUEUE_UPDATE?37:a.t0===p.a.MASS_READ?41:a.t0===p.a.MASS_UNREAD?44:a.t0===p.a.MASS_CLOSE?47:50;break;case 8:if(0===l){a.next=13;break}return a.next=11,Object(d.put)(m({count:_-1}));case 11:return a.next=13,Object(d.call)(y,f,0);case 13:return a.abrupt("break",51);case 14:if(!(l>0)){a.next=19;break}return a.next=17,Object(d.put)(m({count:_-1}));case 17:return a.next=19,Object(d.call)(y,f,0);case 19:return a.abrupt("break",51);case 20:return a.next=22,Object(d.put)(m({count:_+1}));case 22:return a.abrupt("break",51);case 23:return a.next=25,Object(d.put)(m({count:_+1}));case 25:return a.next=27,Object(d.call)(y,f,l+1);case 27:return a.abrupt("break",51);case 28:if(0!==l){a.next=31;break}return a.next=31,Object(d.put)(m({count:_+1}));case 31:return a.next=33,Object(d.call)(y,f,l+1);case 33:return a.abrupt("break",51);case 34:return a.next=36,Object(d.call)(R,{source:u});case 36:return a.abrupt("break",51);case 37:return O=(E=c).totalIncrease,E.shopsIncrease,a.next=40,Object(d.put)(m({count:_+O}));case 40:return a.abrupt("break",51);case 41:return a.next=43,Object(d.put)(m({count:_-i}));case 43:return a.abrupt("break",51);case 44:return a.next=46,Object(d.put)(m({count:_+i}));case 46:return a.abrupt("break",51);case 47:return a.next=49,Object(d.put)(m({count:_-i}));case 49:case 50:return a.abrupt("break",51);case 51:case"end":return a.stop()}}),h)}function P(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.takeEvery)(g,C);case 2:case"end":return e.stop()}}),v)}T.updateSingleShopUnreadCount,T.updateShopsUnreadConversationsCount,t.a=c()({},_.a.UPDATE_TOTAL_UNREAD_CONVERSATIONS_COUNT,(function(e,t){var n=t.payload.count;return O(O({},e),{},{totalUnreadConversationsCount:n<0?0:n})}))}).call(this,n(54).collectTrackerTask)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var r=function(t,n){var r={};if(n){switch(n.type){case"auto-reply":t?n.first&&"enabled"===n.action?(r.message=e("settings.enable_auto_reply_successfully"),r.show=!0):(r.message="",r.show=!1):(n.first&&"enabled"===n.action?r.message=e("settings.failed_to_enable_auto_reply"):r.message="enabled"===n.action?e("settings.failed_to_enable"):e("settings.failed_to_disable"),r.show=!0);break;case"message":r.message=t?"save"===n.action?e("settings.message.save_successfully"):"delete"===n.action?e("settings.message.delete_successfully"):e("settings.message.import_successfully"):"save"===n.action?e("settings.message.failed_to_save"):"delete"===n.action?e("settings.message.failed_to_delete"):e("settings.message.failed_to_import"),r.show=!0;break;case"message-tips":t?(r.message="",r.show=!1):(r.message="enabled"===n.action?e("settings.failed_to_enable"):e("settings.failed_to_disable"),r.show=!0);break;case"forward":t||(r.message=403===n.status?e("forward.exception",{forwardName:""}):e("forward.server_error"),r.show=!0);break;case"send-feedback":r.message=e("feedback_modal.error.failed_to_send"),r.show=!0;break;case"server-error-tips":r.message=e("common.server_error.warning_tips"),r.show=!0;break;case"conversation-closed-tip":r.message=e("conversation_detail.closed.warning_tips"),r.show=!0;break;case"permission-denied":r.message=e("common.permission_denied"),r.show=!0;break;case"claim-voucher":r.message=e(t?"voucher.claim.success":"voucher.claim.fail"),r.show=!0;break;case"private-image":r.message=e("common.image.expired"),r.show=!0;break;case"operation":"save"===n.action&&(r.message=e(t?"text.save_successfully":"text.save_failed")),r.show=!0;break;default:r.message=n.message,r.show=!0}r.type=t?"success":"fail"}return r}}).call(this,n(27).t)},function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return P})),n.d(t,"b",(function(){return T}));var r=n(72),o=n.n(r),c=n(1),u=n.n(c),a=n(2),i=n.n(a),s=n(5),d=n(0),f=n(4),p=n(3),l=n(52),_=n(6),E=n(41),O=n(25),b=["type"];function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v,T,g=i.a.mark(R),m=i.a.mark(C),y=function(t){return Object(E.c)({feedback:{status:t,network:!0,content:e("common.toast.".concat(t))}})};function R(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.__WEBCHAT_LOGIN__){e.next=19;break}return e.next=3,Object(d.select)(s.fd);case 3:if(!e.sent){e.next=19;break}return e.next=7,Object(d.select)(s.Ab);case 7:if("working"!==(e.sent||{}).distribution_status){e.next=19;break}return e.prev=10,e.next=13,Object(d.call)(f.s,{method:"POST",subServer:"coreapi",parent:"user",resource:"report_event",payload:JSON.stringify({event_type:"login"})});case 13:window.__WEBCHAT_LOGIN__=!1,e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),window.__WEBCHAT_LOGIN__=!1;case 19:case"end":return e.stop()}}),g,null,[[10,16]])}function C(e,t){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=e,n.next=n.t0===p.ShareDataType.UNREAD?3:6;break;case 3:return n.next=5,Object(d.put)(Object(s.Xg)({count:t.total_unread_count}));case 5:return n.abrupt("break",6);case 6:case"end":return n.stop()}}),m)}var P=Object(_.createActions)(u()({},O.a.UPDATE_RECONNECT_FLAG,(function(e){return{flag:e.flag}}))).updateReconnectFlag;v=i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(201!==(n=t.status)){e.next=8;break}return e.next=4,Object(d.put)(Object(s.Ug)({socketSuccess:!0}));case 4:return e.next=6,Object(d.spawn)(R);case 6:e.next=11;break;case 8:return Object(f.l)(f.j.SOCKET_FAILED,0,{status:n}),e.next=11,Object(d.put)(Object(s.Ug)({socketSuccess:!1}));case 11:case"end":return e.stop()}}),e)})),T=i.a.mark((function e(t){var n,r,c,u,a,_,O,S,h,T,g,m,R,D,A,I,j,w,N,x;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.event,r=t.payload,"reportUPLPoint"!==n){e.next=9;break}return e.next=4,Object(p.getItem)("session");case 4:a=e.sent,_=a&&a.user,S=(O=_||{}).id,h=O.type,c=S,u=h;case 9:e.t0=n,e.next=e.t0===p.SocketConnectionStatus.CONNECT?12:e.t0===p.SocketConnectionStatus.DISCONNECT?38:e.t0===p.SocketConnectionStatus.RECONNECT_ERROR?43:e.t0===p.SocketConnectionStatus.RECONNECTING?49:e.t0===p.SocketConnectionStatus.RECONNECT?52:"emit"===e.t0?55:"close"===e.t0?60:"ack"===e.t0?63:"reportUPLPoint"===e.t0?65:"reportConnections"===e.t0?67:"setMainPage"===e.t0?69:"shareApiData"===e.t0?72:76;break;case 12:return e.next=14,Object(d.select)(E.h);case 14:if(!e.sent){e.next=19;break}return T=1e3*Math.floor(30*Math.random()+1),e.next=19,Object(d.delay)(T);case 19:return e.next=21,Object(d.put)(Object(E.e)({feedback:void 0}));case 21:return e.next=23,Object(p.getItem)("mini-session");case 23:if(g=e.sent,m=g&&g.p_token,R=g&&g.user,!m||!R){e.next=33;break}return e.next=29,Object(d.call)(f.H,{token:m,account_id:R.uid});case 29:if(D=e.sent,f.F){e.next=33;break}return e.next=33,Object(d.call)(v,D);case 33:return e.next=35,Object(d.put)(P({flag:!1}));case 35:return e.next=37,Object(d.put)(Object(s.Ug)({socketSuccess:!0}));case 37:return e.abrupt("break",76);case 38:return e.next=40,Object(d.put)(P({flag:!0}));case 40:return e.next=42,Object(d.put)(y("error"));case 42:return e.abrupt("break",76);case 43:return e.next=45,Object(d.put)(y("error"));case 45:return Object(f.l)(f.j.SOCKET_FAILED,0,{status:-1}),e.next=48,Object(d.put)(Object(s.Ug)({socketSuccess:!1}));case 48:return e.abrupt("break",76);case 49:return e.next=51,Object(d.put)(y("pending"));case 51:return e.abrupt("break",76);case 52:return e.next=54,Object(d.put)(y("resolved"));case 54:return e.abrupt("break",76);case 55:if(I=(A=r).type,j=A.response,"login"!==I){e.next=59;break}return e.next=59,Object(d.call)(v,j);case 59:return e.abrupt("break",76);case 60:return e.next=62,Object(d.call)(s.rd,!1);case 62:return e.abrupt("break",76);case 63:return f.P.dispatch(p.CustomShareEvent.ACK),e.abrupt("break",76);case 65:return Object(l.a)(r,c,u),e.abrupt("break",76);case 67:return Object(f.l)(f.j.SHARED_TABS,r),e.abrupt("break",76);case 69:return e.next=71,Object(d.put)(Object(s.Gg)({isMainPage:r.isMainPage}));case 71:return e.abrupt("break",76);case 72:return N=(w=r).type,x=o()(w,b),e.next=75,Object(d.call)(C,N,x);case 75:return e.abrupt("break",76);case 76:case"end":return e.stop()}}),e)})),t.a=u()({},O.a.UPDATE_RECONNECT_FLAG,(function(e,t){var n=t.payload.flag;return h(h({},e),{},{reconnectFlag:n})}))}).call(this,n(27).t)},function(e,t){e.exports=f},function(e,t){e.exports=p},function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return S})),n.d(t,"p",(function(){return v})),n.d(t,"k",(function(){return I})),n.d(t,"o",(function(){return N})),n.d(t,"l",(function(){return u.c})),n.d(t,"f",(function(){return u.b})),n.d(t,"j",(function(){return V})),n.d(t,"m",(function(){return q})),n.d(t,"n",(function(){return Q})),n.d(t,"q",(function(){return $})),n.d(t,"i",(function(){return ee})),n.d(t,"d",(function(){return te})),n.d(t,"h",(function(){return ne})),n.d(t,"g",(function(){return re})),n.d(t,"b",(function(){return oe})),n.d(t,"a",(function(){return ce}));var r,o=n(1),c=n.n(o),u=n(38),a=n(2),i=n.n(a),s=n(6),d=n(0),f=n(25);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=i.a.mark(h),E=i.a.mark(v),O=Object(s.createActions)((r={},c()(r,f.a.FEEDBACK_REQUESTED,(function(e){return{feedback:e.feedback}})),c()(r,f.a.FEEDBACK_SUCCEEDED,(function(e){return{feedback:e.feedback}})),r)),b=O.feedbackRequested,S=O.feedbackSucceeded;function h(e){var t;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.feedback,n.next=3,Object(d.put)(S({feedback:t}));case 3:return n.next=5,Object(d.delay)(2500);case 5:return n.next=7,Object(d.put)(S({feedback:void 0}));case 7:case"end":return n.stop()}}),_)}function v(){var e,t,n;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(d.actionChannel)(b);case 2:e=r.sent;case 3:return r.next=6,Object(d.take)(e);case 6:return t=r.sent,n=t.payload,r.next=10,Object(d.call)(h,{payload:n});case 10:r.next=3;break;case 12:case"end":return r.stop()}}),E)}var T=c()({},f.a.FEEDBACK_SUCCEEDED,(function(e,t){var n=t.payload.feedback;return l(l({},e),{},{feedback:n})})),g=n(40),m=n(4),y=n(73),R=n(3);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=i.a.mark(w),A=i.a.mark(N),I=Object(s.createActions)(c()({},f.a.UPDATE_NOTICES_COUNT,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=void 0===t?"add":t;return{type:n}}))).updateNoticesCount,j=function(){return Object(g.eventChannel)((function(e){return m.F?m.P.on("message",(function(t){var n=t.data,r=n.message_type,o=n.message_content,c=n.worker_event,u=n.payload;e(c?{event:c,payload:void 0===u?{}:u}:{pushedType:r,payload:JSON.parse(o)})})):(Object.values(R.SocketConnectionStatus).forEach((function(t){m.P.on(t,(function(){return e({event:t})}))})),m.P.on("message",(function(t){if(t){var n=t.message_type,r=t.message_content;e({pushedType:n,payload:JSON.parse(r)})}}))),function(){}}))};function w(e){var t,n,r;return i.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.event,n=e.pushedType,r=e.payload,!t){o.next=6;break}return o.next=4,Object(d.call)(u.b,{event:t,payload:r});case 4:o.next=11;break;case 6:if(!n){o.next=11;break}return o.next=9,Object(d.put)(I());case 9:return o.next=11,Object(d.call)(y.a,{type:n,payload:r});case 11:case"end":return o.stop()}}),D)}function N(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.call)(j);case 2:return e=t.sent,t.next=5,Object(d.takeEvery)(e,w);case 5:case"end":return t.stop()}}),A)}var x=c()({},f.a.UPDATE_NOTICES_COUNT,(function(e,t){var n=t.payload.type;return P(P({},e),{},{noticesCount:"add"===n?e.noticesCount+1:0})})),k=n(52);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=i.a.mark(Y),G=i.a.mark(q),F=i.a.mark(Q),H=!1,V=Object(s.createActions)(c()({},f.a.UPDATE_C_S_SOCKET_STATUS,(function(e){return{csSocketLogined:e.csSocketLogined,csSocketConnected:e.csSocketConnected}}))).updateCSSocketStatus,B=function(e){return Object(g.eventChannel)((function(t){return m.E?e.on("message",(function(e){var n=e.data,r=n.worker_event,o=n.payload;r&&t({event:r,payload:void 0===o?{}:o})})):(Object.values(R.SocketConnectionStatus).forEach((function(n){e.on(n,(function(e){return t({event:n,payload:e})}))})),e.on("message",(function(e){e&&t({event:"message",payload:e})}))),function(){}}))};function Y(e){var t,n,r,o,c,u,a,s,f,p;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(t=e.event,n=e.payload,!t){i.next=36;break}i.t0=t,i.next=i.t0===R.SocketConnectionStatus.CONNECT?5:i.t0===R.SocketConnectionStatus.DISCONNECT?9:"ack"===i.t0?19:"reportUPLPoint"===i.t0?21:"message"===i.t0?28:36;break;case 5:return i.next=7,Object(d.put)(V({csSocketConnected:!0}));case 7:return Object(m.G)(),i.abrupt("break",36);case 9:return i.next=11,Object(d.put)(V({csSocketConnected:!1}));case 11:if(H){i.next=17;break}return i.next=14,Object(d.delay)(3e3);case 14:m.r.connect(),i.next=18;break;case 17:H=!1;case 18:return i.abrupt("break",36);case 19:return m.r.dispatch("ack"),i.abrupt("break",36);case 21:return i.next=23,Object(R.getItem)("session");case 23:return r=i.sent,o=r&&r.user,u=(c=o||{}).id,a=c.type,Object(k.a)(n,u,a,!1),i.abrupt("break",36);case 28:if("string"!=typeof n){i.next=36;break}if(s=n.indexOf("{"),"13"!==n.slice(0,s)){i.next=36;break}f=!1;try{p=JSON.parse(n.slice(s)),f=0===p.errcode}catch(e){}return i.next=36,Object(d.put)(V({csSocketLogined:f}));case 36:case"end":return i.stop()}}),L)}function q(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.call)(B,m.r);case 2:return e=t.sent,t.next=5,Object(d.takeEvery)(e,Y);case 5:case"end":return t.stop()}}),G)}function Q(){var e,t,n;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e="mini-session";case 1:return t=60*Math.floor(10*Math.random()+20)*1e3,r.next=5,Object(d.delay)(t);case 5:return r.next=7,Object(R.getItem)(e);case 7:if(!(n=r.sent)||!n.user||n.user.type!==R.AccountType.SELLER){r.next=15;break}if(!m.r){r.next=15;break}return H=!0,m.r.close(),r.next=14,Object(d.delay)(1e3);case 14:m.r.connect();case 15:r.next=1;break;case 17:case"end":return r.stop()}}),F)}var W=c()({},f.a.UPDATE_C_S_SOCKET_STATUS,(function(e,t){var n=t.payload,r=n.csSocketLogined,o=n.csSocketConnected,c={};return void 0!==r&&(c.csSocketLogined=r),void 0!==o&&(c.csSocketConnected=o),M(M({},e),c)})),K=n(5),z=i.a.mark(J);function J(){var e,t,n,r,o,c;return i.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:e="mini-session";case 1:return u.next=4,Object(d.delay)(6e4);case 4:return u.next=6,Object(R.getItem)(e);case 6:return t=u.sent,u.next=9,Object(d.select)(K.be);case 9:return n=u.sent,u.next=12,Object(d.select)(K.Td);case 12:return r=u.sent,u.next=15,Object(d.select)(K.O);case 15:return o=u.sent,u.next=18,Object(d.select)(K.N);case 18:if(c=u.sent,!t||!t.token){u.next=25;break}return Object(m.B)({noticesCount:n,readMissedCount:r,csSocketLogined:o,csSocketConnected:c}),u.next=23,Object(d.put)(Object(K.Mg)({count:0}));case 23:return u.next=25,Object(d.put)(I({type:"reset"}));case 25:u.next=1;break;case 27:case"end":return u.stop()}}),z)}function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $=[v,J,N,q,Q],ee=Object(s.handleActions)(Z(Z(Z(Z({},u.a),T),x),W),{reconnectFlag:!1,feedback:null,noticesCount:0,csSocketLogined:!1,csSocketConnected:!1}),te=function(e){return e.socketReducer.feedback},ne=function(e){return e.socketReducer.reconnectFlag},re=function(e){return e.socketReducer.noticesCount},oe=function(e){return e.socketReducer.csSocketLogined},ce=function(e){return e.socketReducer.csSocketConnected}},function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"m",(function(){return s})),n.d(t,"l",(function(){return d})),n.d(t,"k",(function(){return f})),n.d(t,"i",(function(){return E})),n.d(t,"h",(function(){return O})),n.d(t,"b",(function(){return b})),n.d(t,"j",(function(){return S})),n.d(t,"g",(function(){return I})),n.d(t,"a",(function(){return k})),n.d(t,"f",(function(){return U})),n.d(t,"c",(function(){return M}));var r=n(1),o=n.n(r);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var a=function(e,t){var n=t.payload.conversationId,r=u(u({},e.conversationIdsMap),{},o()({},n,!1)),c=new Set(e.conversationIds);c.delete(n);var a=Array.from(c),i=e.currentConversationId;return u(u({},e),{},{currentConversationId:i===n?null:i,conversationIds:a,conversationIdsMap:r})},i=function(e){return function(e,t){var n=t.payload.filter;return u(u({},e),{},{filter:n})}},s=function(e,t){var n=t.payload.status;return u(u({},e),{},{status:n})},d=function(e,t){var n=t.payload.direction;return u(u({},e),{},{direction:n})},f=function(e,t){var n=t.payload.canRead;return u(u({},e),{},{currentConversationCanRead:n})};function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _,E=function(e,t){var n=t.payload.conversationId,r=l({},e.draftHash);return delete r[n],l(l({},e),{},{draftHash:r})},O=function(e){return l(l({},e),{},{draftHash:{}})},b=function(e,t){var n=t.payload.conversationIds,r=void 0===n?[]:n,o=l({},e.draftHash);return r.forEach((function(e){delete o[e]})),l(l({},e),{},{draftHash:o})},S=function(e,t){var n=t.payload,r=n.conversationId,o=n.draft,c=l({},e.draftHash);return c[r]=o,l(l({},e),{},{draftHash:c})},h=n(2),v=n.n(h),T=n(0),g=n(11),m=n(3),y=n(15),R=n.n(y),C=n(16),P=n.n(C),D=v.a.mark(I),A=(_={},o()(_,m.ConversationTypeEnum.Agent,"receiveAgentMessageRequested"),o()(_,m.ConversationTypeEnum.Normal,"receiveMessageRequested"),_);function I(e){var t,n,r;return v.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=e.type,r=A[n],o.next=4,Object(T.spawn)(g.j,t.request_id);case 4:return o.next=6,R.a.put(P.a[r]({payload:{message:t}}));case 6:case"end":return o.stop()}}),D)}var j=n(20),w=n.n(j);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function(e,t){var n=t.payload,r=n.medias,c=n.conversationId,u=e.mediaMap,a=(u[c]||[]).concat(Array.isArray(r)?r:[r]);return x(x({},e),{},{mediaMap:x(x({},u),{},o()({},c,a))})},U=function(e,t){var n=t.payload,r=n.id,c=n.conversationId,u=e.mediaMap,a=w()(u[c])||[];return a.splice(r,1),x(x({},e),{},{mediaMap:x(x({},u),{},o()({},c,a))})},M=function(e,t){var n=t.payload.conversationId,r=e.mediaMap;return x(x({},e),{},{mediaMap:x(x({},r),{},o()({},n,[]))})}},function(e,t,n){"use strict";n.d(t,"b",(function(){return R})),n.d(t,"c",(function(){return P}));var r,o=n(1),c=n.n(o),u=n(2),a=n.n(u),i=n(5),s=n(0),d=n(15),f=n.n(d),p=n(16),l=n.n(p),_=n(4),E=n(7),O=n(8),b=n(3),S=a.a.mark(y),h=a.a.mark(R),v=a.a.mark(C),T=a.a.mark(P);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){var t,n,r,o,c,u,d;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.conversation,n=e.sourceInfo,a.prev=1,r=t.id,o=t.to_id,a.next=5,Object(s.call)(_.s,{method:"POST",parent:"conversation",resource:"enter",payload:JSON.stringify(m({conversation_id:r,to_id:o},n))});case 5:return c=a.sent,u=c.faq_session_id,d=c.session_expiry_timestamp,a.next=10,Object(s.put)(Object(i.hc)({conversationId:r,faqSessionId:u,sessionExpiryTime:d}));case 10:a.next=14;break;case 12:a.prev=12,a.t0=a.catch(1);case 14:case"end":return a.stop()}}),S,null,[[1,12]])}function R(e){var t,n,r,o,c,u,d,p,_,O,S,v,T,g,R,C,P,D,A,I,j,w,N,x,k,U,M,L,G,F;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,n=t.conversation,r=t.previousId,o=t.messageId,c=t.messageList,t.sourceInfo,a.prev=1,a.next=4,Object(s.select)(i.fd);case 4:if(u=a.sent,p=(d=n).id,_=d.lack,u||!_){a.next=12;break}return a.next=9,Object(s.call)(i.gc,{payload:{conversationIds:[p]}});case 9:return a.next=11,Object(s.select)(Object(i.Cc)(p));case 11:n=a.sent;case 12:if(S=(O=n).faking,v=O.status,T=O.to_id,g=O.shop_id,R=O.latest_message_id,C=O.to_shop_id,P=O.unread_count,u){a.next=21;break}return a.next=16,Object(s.call)(b.getItem,"mini-sc_redirect");case 16:return D=a.sent,A={},D&&(I=D.orderId,j=D.productId,w=D.conversationId,N=D.shopId,parseInt(p)===parseInt(w)&&(I?A={order_id:parseInt(I)}:j?A={product_id:parseInt(j)}:N&&(A={shop_id:parseInt(N)}))),a.next=21,Object(s.spawn)(y,{conversation:n,sourceInfo:A});case 21:return a.next=23,Object(s.select)(i.nf);case 23:if((x=a.sent)&&x[g]||!u){a.next=28;break}return a.next=28,Object(s.call)(i.pc,Object(i.qc)({shopId:g}));case 28:return a.next=30,Object(s.put)(Object(i.If)({userId:T,shopId:g,buyerShopId:C}));case 30:return a.next=32,Object(s.put)(Object(E.u)({conversationId:p,previousId:r}));case 32:return a.next=34,f.a.put(l.a.fetchMessagesRequested({payload:{conversationId:p,messageId:o,direction:o?"around":"older",messageList:c,reset:!0}}));case 34:return a.next=36,f.a.call(l.a.handleCurrentConversationChange({payload:p}));case 36:if(k=a.sent,!(!S&&"closed"!==v&&P>0||k)){a.next=42;break}return U=k||R,a.next=42,Object(s.put)(Object(i.ud)({conversationId:p,isRead:!0,latestMessageId:U}));case 42:if(M={},!u){a.next=51;break}return a.next=46,Object(s.call)(i.mc,{payload:{shopId:g}});case 46:return L=a.sent,G=L.auth_names,F=void 0===G?[]:G,a.next=51,Object(s.put)(Object(E.x)({access:F}));case 51:return a.next=53,Object(s.select)(Object(i.kf)(g));case 53:if(M=a.sent){a.next=58;break}return a.next=57,Object(s.call)(i.Gf,{payload:{shopId:g}});case 57:M=a.sent;case 58:return a.next=60,Object(s.put)(Object(i.Og)({name:"shops",id:g,record:m({},M)}));case 60:return a.next=64,f.a.put(l.a.messageSyncUpdate({payload:{conversation:n}}));case 64:return a.next=66,Object(s.put)(Object(i.Ze)({conversationBeenDeleted:!1}));case 66:a.next=71;break;case 68:a.prev=68,a.t0=a.catch(1),console.log("*** Show Conversation Failed: ",a.t0);case 71:case"end":return a.stop()}}),h,null,[[1,68]])}function C(e){var t,n,r;return a.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return(t=e.payload).type,n=t.conversationId,r=t.previousId,o.next=4,Object(s.put)(Object(E.v)({conversationId:n,previousId:r}));case 4:case"end":return o.stop()}}),v)}function P(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.takeLatest)(E.t,R);case 2:return e.next=4,Object(s.takeEvery)(E.u,C);case 4:case"end":return e.stop()}}),T)}t.a=(r={},c()(r,O.a.SHOW_NORMAL_CONVERSATION_SUCCEEDED,(function(e,t){var n=t.payload,r=n.conversationId;return n.previousId,m(m({},e),{},{currentConversationId:r})})),c()(r,O.a.RESET_CONVERSATION_REQUESTED,(function(e){return m(m({},e),{},{currentConversationId:null})})),r)},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.COPY_SUCCEED_FEEDBACK="COPY_SUCCEED_FEEDBACK",e.SET_TOAST_INFORMATION="SET_TOAST_INFORMATION",e.SET_TOAST_INFORMATION_SUCCEEDED="SET_TOAST_INFORMATION_SUCCEEDED"}(r||(r={}))},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.UPDATE_UNREAD_COUNT="UPDATE_UNREAD_COUNT",e.UPDATE_TOTAL_UNREAD_CONVERSATIONS_COUNT="UPDATE_TOTAL_UNREAD_CONVERSATIONS_COUNT",e.UPDATE_SINGLE_SHOP_UNREAD_COUNT="UPDATE_SINGLE_SHOP_UNREAD_COUNT",e.UPDATE_SHOPS_UNREAD_CONVERSATIONS_COUNT="UPDATE_SHOPS_UNREAD_CONVERSATIONS_COUNT",e.UPDATE_REGION_UNREAD_COUNT="UPDATE_REGION_UNREAD_COUNT"}(r||(r={}))},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return E})),n.d(t,"c",(function(){return h}));var r=n(1),o=n.n(r),c=n(2),u=n.n(c),a=n(6),i=n(0),s=n(5),d=n(4),f=n(21),p=n(10),l=u.a.mark(S),_=u.a.mark(h),E=Object(a.createActions)(o()({},p.a.BLOCK_USER_REQUESTED,(function(e){var t=e.buyerName,n=e.buyerId,r=e.block;return{buyerName:t,buyerId:n,block:void 0===r||r,shopId:e.shopId,conversationId:e.conversationId}}))).blockUserRequested,O=function(e){return{type:"CONFIRM_MODAL",title:{key:"conversation_detail.workstation.block_fail_modal.title",vars:{username:e}},actions:{confirm:{label:{key:"common.confirm"}}}}},b=function(t,n,r){return{toast:{show:!0,type:t?"fail":"warn",message:t?e("common.server_error.warning_tips"):e("conversation_detail.".concat(n?"blocked":"unblocked"),{username:r})}}};function S(e){var t,n,r,o,c,a,p;return u.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,n=t.buyerName,r=t.buyerId,o=t.block,c=t.shopId,a=t.conversationId,u.prev=1,p=o?"PUT":"DELETE",u.next=5,Object(i.call)(d.s,{method:p,parent:"user",resource:"blocks",id:r,params:{shop_id:c}});case 5:return u.next=7,Object(i.put)(Object(s.bf)(b(!1,o,n)));case 7:return u.next=9,Object(i.put)(Object(s.Og)({name:"users",id:r,record:{is_blocked:o}}));case 9:return u.next=11,Object(i.put)(Object(s.Og)({name:"conversations",id:a,record:{is_blocked:o}}));case 11:u.next=22;break;case 13:if(u.prev=13,u.t0=u.catch(1),!(u.t0 instanceof f.d&&o&&u.t0.handler().message)){u.next=20;break}return u.next=18,Object(i.put)(Object(s.Bf)(O(n)));case 18:u.next=22;break;case 20:return u.next=22,Object(i.put)(Object(s.bf)(b(!0)));case 22:case"end":return u.stop()}}),l,null,[[1,13]])}function h(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.takeEvery)(E,S);case 2:case"end":return e.stop()}}),_)}t.b={}}).call(this,n(27).t)},function(e,t,n){"use strict";(function(e){n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return T})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return R})),n.d(t,"e",(function(){return C})),n.d(t,"i",(function(){return P})),n.d(t,"h",(function(){return D}));var r,o=n(23),c=n.n(o),u=n(1),a=n.n(u),i=n(3),s=n(26),d=i.ProductPromotionLabel.SHOW_DISCOUNT,f=i.ProductPromotionLabel.FLASH_SALES,p=i.ProductPromotionLabel.CAMPAIGN,l=i.ProductPromotionLabel.BUNDLE_DEAL,_=i.ProductPromotionLabel.ADD_ON_DEAL,E=i.ProductPromotionLabel.GIFT_WITH_PURCHASE,O=[d,f,p,l,_,E],b=(r={},a()(r,i.ProductStatusUsingString.DELETED,i.ProductStatusUsingNumber.DELETED),a()(r,i.ProductStatusUsingString.NORMAL,i.ProductStatusUsingNumber.NORMAL),a()(r,i.ProductStatusUsingString.BANNED,i.ProductStatusUsingNumber.BANNED),a()(r,i.ProductStatusUsingString.SOLD_OUT,i.ProductStatusUsingNumber.SOLD_OUT),a()(r,i.ProductStatusUsingString.DELISTED,i.ProductStatusUsingNumber.DELISTED),r),S=function(e,t){if(!e)return e;var n=Object(i.formatPrice)(e,t);return n.includes("NaN")&&(n=n.replace("NaN","???")),n},h=function(e){var t=e.original_price,n=e.actual_price;return(t===n||n.includes("???"))&&(e.original_price=""),e},v=function(t){var n={};return s.g.forEach((function(r){var o=s.d[r];switch(o){case"country":n[r]=t[o];break;case"status":n[r]=b[t[o]];break;case"original_prices":case"actual_prices":n[r]=function(e,t){var n=c()(e,2),r=n[0],o=n[1];if(r===o)return S(r,t);var u=S(r,t),a=S(o,t);return u.includes("???")?u:a.includes("???")?a:"".concat(u," - ").concat(a)}(t[o],t.country);break;case"promotion_label":n[r]=function(t){var n=[];return O.forEach((function(r){if(t[r]){var o="common.label.".concat(r);r===d?n.push({key:r,value:e(o,{discount:Object(i.formatDiscount)(t[r])})}):n.push({key:r,value:e(o)})}})),n}(t[o]);break;default:n[r]=t[r]}})),h(n)},T=function(e,t){var n={};return s.g.forEach((function(r){var o=s.e[r];switch(o){case"item_id":case"thumb_url":n[r]=e[o];break;case"region":n[r]=t;break;case"price_before_discount":case"price":n[r]=S(e[o],t);break;default:n[r]=e[r]}})),h(n)},g=function(e,t,n){var r={};return s.g.forEach((function(o){var c=s.a[o];switch(c){case"item_id":r[o]=e[c];break;case"region":r[o]=t;break;case"shop_id":r[o]=n;break;case"price_before_discount":case"price":r[o]=S(e[c],t);break;default:r[o]=e[o]}})),h(r)},m=function(e,t){var n=e.amount_spent;return e.amount_spent=S("".concat(n/1e5),t),e},y=function(e,t,n){var r={};return s.g.forEach((function(o){var c=s.b[o];switch(c){case"item_id":r[o]=e[c];break;case"region":r[o]=t;break;case"shop_id":r[o]=n;break;case"price":r[o]=S(e[c],t);break;default:r[o]=e[o]}})),h(r)},R=function(e,t){var n=e.rule_type,r=e.discount_percentage,o=e.discount_value,c=e.fix_price;if(1===n)e.fix_price=S("".concat(c/1e5),t);else if(2===n){var u=r/1e5;"tw"===(t||"SG").toLowerCase()&&(u=10-u/10,Number.isInteger(u)||(u=u.toFixed(1))),e.discount_percentage=u}else e.discount_value=S("".concat(o/1e5),t);return e},C=function(e,t,n){var r={};return s.g.forEach((function(o){var c=s.c[o];switch(c){case"item_id":r[o]=e[c];break;case"region":r[o]=t;break;case"shop_id":r[o]=n;break;case"hidden_price_display":r[o]=Object(i.transPrice)(e[c],t);break;case"price":r[o]=S("".concat(e[c]/1e5),t);break;default:r[o]=e[o]}})),h(r)},P=function(e){var t={};return s.g.forEach((function(n){var r,o=s.f[n];switch(o){case"item_id":t[n]=e[o];break;case"name":t[n]=null!=e&&null!==(r=e.model)&&void 0!==r&&r.model_name?e.model.model_name:e[o];break;case"price":var c,u=null!=e&&null!==(c=e.model)&&void 0!==c&&c.price?e.model.price:e[o];t[n]=S(u,e.region);break;default:t[n]=e[n]}})),h(t)},D=function(e){var t=e.model_name;return t&&t.includes(",")&&(e.model_name=t.replace(/,/g," · ")),e}}).call(this,n(27).t)},function(e,t){e.exports=l},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var r,o=n(1),c=n.n(o),u=n(6);!function(e){e.HANDLE_401_ERROR_REQUESTED="HANDLE_401_ERROR_REQUESTED",e.UPDATE_CONVERSATION_LISTS_HASH="UPDATE_CONVERSATION_LISTS_HASH"}(r||(r={}));var a=Object(u.createActions)(c()({},r.HANDLE_401_ERROR_REQUESTED,(function(e){return{resource:e.resource}}))).handle401ErrorRequested,i=Object(u.createActions)(c()({},r.UPDATE_CONVERSATION_LISTS_HASH,(function(){return{}}))).updateConversationListsHash},function(e,t){e.exports=_},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1),o=n.n(r),c=n(3),u=n(4);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=e.exceptionType,a=e.reconnectCount,s=void 0===a?0:a,d=e.exceptionReason,f=void 0===d?"":d,p={status:-1,userId:t,userType:n};if(o===c.SocketConnectionStatus.DISCONNECT){var l=s<=5?"s":s<=10?"m":"l";p=i(i({},p),{},{reconnectType:l,exceptionReason:f,exceptionType:o})}else p=i(i({},p),{},{exceptionType:o});Object(u.l)(u.j[r?"SOCKET_FAILED":"CHATWS_SOCKET_FAILED"],0,p)}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,n(t,r)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";n.r(t),n.d(t,"configTrackerUser",(function(){return X})),n.d(t,"collectTrackerTask",(function(){return re}));var r=n(1),o=n.n(r),c=n(39),u=n.n(c),a=n(31),i=n.n(a);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t,n,r,o,c,u){try{var a=e[c](u),i=a.value}catch(e){return void n(e)}a.done?t(i):Promise.resolve(i).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var c=e.apply(t,n);function u(e){d(c,r,o,u,a,"next",e)}function a(e){d(c,r,o,u,a,"throw",e)}u(void 0)}))}}var p=n(34),l=n.n(p),_=["SPC_U","SPC_F","SPC_T_ID","SPC_T_IV"];function E(e){var t={};if("function"==typeof e)for(var n=e(),r=0,o=_;r<o.length;r++){var c=o[r];t[c]=n[c]}return t}var O=n(69),b=[],S=function(){function e(e,t){var n=this;this.context=e,this.methodName=t,this.originalMethodReference=e[t],this.methodChain=[],this.boundMethodChain=[],this.wrappedMethod=function(){var e=n.boundMethodChain[n.boundMethodChain.length-1];return e.apply(void 0,arguments)},e[t]=this.wrappedMethod}e.add=function(e,t,n){(function(e,t){var n=h(e,t);return n||(n=new S(e,t),b.push(n)),n})(e,t).add(n)},e.remove=function(e,t,n){var r=h(e,t);r&&r.remove(n)};var t=e.prototype;return t.add=function(e){this.methodChain.push(e),this.rebindMethodChain()},t.remove=function(e){var t=this.methodChain.indexOf(e);t>-1&&(this.methodChain.splice(t,1),this.methodChain.length>0?this.rebindMethodChain():this.destory())},t.rebindMethodChain=function(){this.boundMethodChain=[];for(var e,t=0;e=this.methodChain[t];t++){var n=this.boundMethodChain[t-1]||this.originalMethodReference.bind(this.context);this.boundMethodChain.push(e(n))}},t.destory=function(){var e=b.indexOf(this);e>-1&&(b.splice(e,-1),this.context[this.methodName]=this.originalMethodReference)},e}();function h(e,t){return b.filter((function(n){return n.context===e&&n.methodName===t}))[0]}var v=function(){function e(){}var t,n=e.prototype;return n.upgrade=function(t,n){if(n.oldVersion<e.DATABASE_VERSION&&(t.objectStoreNames.contains(e.OBJECT_STORE_EVENTS_V1)&&t.deleteObjectStore(e.OBJECT_STORE_EVENTS_V1),t.objectStoreNames.contains(e.OBJECT_STORE_SESSIONS_V1)&&t.deleteObjectStore(e.OBJECT_STORE_SESSIONS_V1)),!t.objectStoreNames.contains(e.OBJECT_STORE_EVENTS)){var r=t.createObjectStore(e.OBJECT_STORE_EVENTS,{autoIncrement:!0});r.createIndex(e.INDEX_EVENTS_FETCHED,e.INDEX_EVENTS_FETCHED,{unique:!1}),r.createIndex(e.INDEX_EVENT_TIMESTAMP,e.INDEX_EVENT_TIMESTAMP,{unique:!1})}t.objectStoreNames.contains(e.OBJECT_STORE_SESSIONS)||t.createObjectStore(e.OBJECT_STORE_SESSIONS)},n.init=(t=f(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.openDB(e.DATABASE_NAME,e.DATABASE_VERSION);case 3:return this.idb=t.sent,t.abrupt("return",!0);case 7:return t.prev=7,t.t0=t.catch(0),console.warn("[IndexedDBStorage]",t.t0),t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t,this,[[0,7]])}))),function(){return t.apply(this,arguments)}),n.openDB=function(t,n){var r=this;return new Promise((function(o,c){var u=self.window.indexedDB.open(t,n);u.onblocked=function(){console.warn("[IndexedDBStorage] Upgrade is blocked since connection to old version exists.")},u.onerror=function(e){try{e.preventDefault()}catch(e){}c(e)},u.onsuccess=function(t){var n=t.target.result;n.objectStoreNames.contains(e.OBJECT_STORE_EVENTS)&&n.objectStoreNames.contains(e.OBJECT_STORE_SESSIONS)?(n.onerror=function(e){console.warn("[IndexedDBStorage]",e.target.errorCode)},n.onversionchange=function(){n.close(),console.warn("[IndexedDBStorage] A new version of indexedDB is ready.")},o(n)):c("Required ObjectStore cannot be found.")},u.onupgradeneeded=function(e){var t=e.target.result;try{r.upgrade(t,e)}catch(e){c(e)}}}))},n.addEvent=function(t){var n=this;return new Promise((function(r,o){var c=n.idb.transaction(e.OBJECT_STORE_EVENTS,"readwrite");c.oncomplete=function(){r(!0)},c.onerror=function(e){o(e)},c.onabort=function(e){o(e)},c.objectStore(e.OBJECT_STORE_EVENTS).add({data:JSON.stringify(t),timestamp:Date.now(),fetched:"f"})}))},n.getEvents=function(t){var n=this,r=[],o=[];return new Promise((function(c,u){var a=n.idb.transaction(e.OBJECT_STORE_EVENTS,"readwrite");a.oncomplete=function(){c({keys:r,data:o})},a.onerror=function(e){u(e)},a.onabort=function(e){u(e)};var i=IDBKeyRange.only("f");a.objectStore(e.OBJECT_STORE_EVENTS).index(e.INDEX_EVENTS_FETCHED).openCursor(i).onsuccess=function(e){var n=e.target.result;n&&(r.push(n.primaryKey),o.push(JSON.parse(n.value.data)),n.update(s({},n.value,{fetched:"t"})),(-1===t||t-- >1)&&n.continue())}}))},n.resetEvents=function(t,n){var r=this;return!t||t.length<=0?Promise.resolve(!0):new Promise((function(n,o){var c=r.idb.transaction(e.OBJECT_STORE_EVENTS,"readwrite");c.oncomplete=function(){n(!0)},c.onerror=function(e){o(e)},c.onabort=function(e){o(e)};var u=IDBKeyRange.bound(t[0],t[t.length-1]);c.objectStore(e.OBJECT_STORE_EVENTS).openCursor(u).onsuccess=function(e){var t=e.target.result;t&&(t.update(s({},t.value,{fetched:"f"})),t.continue())}}))},n.removeEvents=function(t){var n=this;return!t||t.length<=0?Promise.resolve(!0):new Promise((function(r,o){var c=n.idb.transaction(e.OBJECT_STORE_EVENTS,"readwrite");c.oncomplete=function(){r(!0)},c.onerror=function(e){o(e)},c.onabort=function(e){o(e)};var u=IDBKeyRange.bound(t[0],t[t.length-1]);c.objectStore(e.OBJECT_STORE_EVENTS).delete(u)}))},n.getSession=function(t){var n=this;return new Promise((function(r,o){var c={},u=n.idb.transaction(e.OBJECT_STORE_SESSIONS,"readwrite");u.oncomplete=function(){r(c)},u.onerror=function(e){o(e)},u.onabort=function(e){o(e)};var a=u.objectStore(e.OBJECT_STORE_SESSIONS);a.get(e.KEY_SESSION).onsuccess=function(n){c=t(n.target.result),a.put(c,e.KEY_SESSION)}}))},n.getCurrentSessionId=function(){var t=this;return new Promise((function(n,r){var o={},c=t.idb.transaction(e.OBJECT_STORE_SESSIONS,"readwrite");c.oncomplete=function(){n(o.sessionId)},c.onerror=function(e){r(e)},c.onabort=function(e){r(e)},c.objectStore(e.OBJECT_STORE_SESSIONS).get(e.KEY_SESSION).onsuccess=function(e){o=e.target.result}}))},n.removeExpiredEvents=function(){var t=this;return new Promise((function(n,r){var o=t.idb.transaction(e.OBJECT_STORE_EVENTS,"readwrite");o.oncomplete=function(){n(!0)},o.onerror=function(e){r(e)},o.onabort=function(e){r(e)};var c=IDBKeyRange.upperBound(Date.now()-e.RETENTION);o.objectStore(e.OBJECT_STORE_EVENTS).index(e.INDEX_EVENT_TIMESTAMP).openCursor(c).onsuccess=function(e){var t=e.target.result;t&&(t.delete(),t.continue())}}))},e}();v.DATABASE_NAME="data-tracking",v.DATABASE_VERSION=3,v.OBJECT_STORE_EVENTS_V1="events",v.OBJECT_STORE_EVENTS="events_v2",v.OBJECT_STORE_SESSIONS_V1="sessions",v.OBJECT_STORE_SESSIONS="session_v2",v.INDEX_EVENTS_FETCHED="fetched",v.INDEX_EVENT_TIMESTAMP="timestamp",v.KEY_SESSION="current_session",v.RETENTION=1728e5;var T=function(){function e(e,t){this.storage=e,this.storageKey=t}var t=e.prototype;return t.get=function(){return this.storage.get(this.storageKey)||[]},t.set=function(e){return e=e||[],this.storage.set(this.storageKey,e)},t.enqueue=function(e){var t=this.get();t.push(e),this.set(t)},t.batchDequeue=function(e){var t=this.get(),n=t.slice(0,e),r=t.slice(e);return this.set(r),n},t.putBackBatchToQueue=function(e){return this.set(e.concat(this.get()))},e}(),g=function(){function e(){var t=this;e.supportsLocalStorage()?this.storage={get:function(e){var t=self.window.localStorage.getItem(e);return t?JSON.parse(t):void 0},set:function(e,t){var n=JSON.stringify(t);self.window.localStorage.setItem(e,n)}}:(this.backStore={},this.storage={get:function(e){return t.backStore[e]},set:function(e,n){t.backStore[e]=n}}),this.queue=new T(this.storage,e.QUEUE_STORAGE_KEY)}e.supportsLocalStorage=function(){if(!self.window)return!1;try{return self.window.localStorage.setItem(e.CHECK_STORAGE_KEY,e.CHECK_STORAGE_KEY),self.window.localStorage.removeItem(e.CHECK_STORAGE_KEY),!0}catch(e){return!1}};var t=e.prototype;return t.addEvent=function(e){return this.queue.enqueue(e),Promise.resolve(!0)},t.getEvents=function(e){var t=-1===e?this.queue.get():this.queue.batchDequeue(e);return Promise.resolve({data:t})},t.resetEvents=function(e,t){return this.queue.putBackBatchToQueue(t),Promise.resolve(!0)},t.removeEvents=function(e){return Promise.resolve(!0)},t.getSession=function(t){var n=this.storage.get(e.SESSION_STORAGE_KEY);return n=t(n=n&&"sessionId"in n&&"sequenceId"in n&&"timestamp"in n?n:null),this.storage.set(e.SESSION_STORAGE_KEY,n),Promise.resolve(n)},t.getCurrentSessionId=function(){var t=this.storage.get(e.SESSION_STORAGE_KEY),n=t&&"sessionId"in t?t.sessionId:l()();return Promise.resolve(n)},e}();g.QUEUE_STORAGE_KEY="bi-tracking::events",g.SESSION_STORAGE_KEY="bi-tracking::session",g.CHECK_STORAGE_KEY="bi-tracking::check";var m=null,y=function(){function e(){}return e.initIndexedDB=function(){var e=f(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!self.window||!self.window.indexedDB){e.next=8;break}return t=new v,e.next=4,t.init();case 4:if(!e.sent){e.next=8;break}try{t.removeExpiredEvents()}catch(e){console.warn("[TrackerStorage]",e)}return e.abrupt("return",t);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.get=(t=f(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m){t.next=5;break}return t.next=3,e.initIndexedDB();case 3:(m=t.sent)||(m=new g);case 5:return t.abrupt("return",m);case 6:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)}),e;var t}(),R="",C="",P=function(){function e(){}return e.getSession=(t=f(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.get();case 2:return n=t.sent,t.next=5,n.getSession((function(t){var n=Date.now();return null==t||n-t.timestamp>e.SESSION_DURATION?t={sessionId:l()(),timestamp:n,sequenceId:0}:(t.sequenceId+=1,t.timestamp=n),t}));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)}),e.GetSessionId=function(){var e=f(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get();case 2:return t=e.sent,e.next=5,t.getCurrentSessionId();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.setLatestEventId=function(e){R=e},e.getLatestEventId=function(){return R},e.setLatestViewPageType=function(e){C=e},e.getLatestViewPageType=function(){return C},e;var t}();function D(e){var t={},n=(e=e||"").indexOf("?");if(-1!==n){var r=e.substring(n+1);(r=r.split("#")[0]).split("&").forEach((function(e){if(e){var n=e.indexOf("="),r=n>-1?e.substring(0,n):e,o=n>-1?decodeURIComponent(e.substring(n+1)):"";t[r]=o}}))}return t}function A(e){return Object.keys(e).length<=0}function I(e,t){return!!e&&e.split("/")[2]===t}function j(e){var t={};return e.hasOwnProperty("affiliate_trackid")&&(t.affiliate_trackid=e.affiliate_trackid),e.hasOwnProperty("utm_source")&&(t.utm_source=e.utm_source),e.hasOwnProperty("utm_medium")&&(t.utm_medium=e.utm_medium),e.hasOwnProperty("utm_campaign")&&(t.utm_campaign=e.utm_campaign),e.hasOwnProperty("utm_term")&&(t.utm_term=e.utm_term),e.hasOwnProperty("utm_content")&&(t.utm_content=e.utm_content),t}function w(e){var t={};return e.hasOwnProperty("event_source")&&(t.event_source=e.event_source),t}function N(e){if(!self.document||!self.location)return null;var t=null;try{t=D(self.location.href)}catch(e){console.warn("[getParams]",e)}if(!t||A(t))return null;var n={},r=I(self.document.referrer,self.location.hostname);return(e&&r||!e)&&(n=w(t)),e&&!r&&(n=j(t)),A(n)?null:n}function x(e){if(e.hash&&e.hash.startsWith("#/")){var t=e.hash.lastIndexOf("#");return 0===t?e.hash.substring(1):e.hash.substring(1,t)}return e.pathname}function k(){return location.pathname+location.hash+location.search}function U(){return location.host+location.pathname+location.hash}P.SESSION_DURATION=18e5;var M=function(){function e(e){if(self.window&&self.window.addEventListener){var t={shouldTrackHistoryChange:this.shouldTrackHistoryChange,trackReplaceState:!1};this.opts=s({},t,e),this.path=k(),this.pathname=x(location),this.eventId=l()(),P.setLatestEventId(this.eventId),this.pushStateOverride=this.pushStateOverride.bind(this),this.replaceStateOverride=this.replaceStateOverride.bind(this),this.handlePopState=this.handlePopState.bind(this),this.handleHashChange=this.handleHashChange.bind(this),this.handleLoad=this.handleLoad.bind(this),self.history&&self.history.pushState?(S.add(history,"pushState",this.pushStateOverride),S.add(history,"replaceState",this.replaceStateOverride),window.addEventListener("popstate",this.handlePopState)):window.addEventListener("hashchange",this.handleHashChange),this.handleLoad()}else console.warn("[AutoTracker]","not work unsupporting browser")}var t,n=e.prototype;return n.pushStateOverride=function(e){var t=this;return function(){e.apply(void 0,arguments),t.handleHistoryChange(!0)}},n.replaceStateOverride=function(e){var t=this;return function(){e.apply(void 0,arguments),t.handleHistoryChange(!1)}},n.handlePopState=function(){this.handleHistoryChange(!0)},n.handleHashChange=function(){this.handleHistoryChange(!0)},n.handleLoad=function(){var e=this,t={isOnload:!0,referrer:self.document.referrer,eventId:this.eventId,href:self.location.href,hostname:self.location.hostname,pathname:this.pathname,absolutePath:U()};setTimeout((function(){try{e.sendPageview(t)}catch(e){console.warn("[AutoTracker]",e)}}),300)},n.sendPageview=(t=f(regeneratorRuntime.mark((function e(t){var n,r,o,c,u,a,i,d,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.getSession();case 2:return n=e.sent,r=Date.now(),o=D(t.href),c={auto_mapped_view:P.getLatestViewPageType(),auto_refer:t.referrer,auto_pathname:t.pathname,auto_url:t.href,start_time:r},A(o)||(c.param_string=JSON.stringify(o)),u=I(t.referrer,t.hostname),(t.isOnload&&u||!t.isOnload)&&!A(a=w(o))&&(c=s({},c,a)),t.isOnload&&!u&&!A(i=j(o))&&(c=s({},c,i)),d={civ_id:t.eventId,info:{auto_view_id:"browser-abs|"+t.absolutePath,data:{auto_pv_common:c},operation:"auto_view",usage_id:0},sequence_id:n.sequenceId,session_id:n.sessionId,timestamp:r,type:"v3"},e.next=13,y.get();case 13:return f=e.sent,e.next=16,f.addEvent(d);case 16:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)}),n.shouldTrackHistoryChange=function(e,t){return!(!e||!t)},n.handleHistoryChange=function(e){var t,n=this,r=this.path,o=this.pathname,c=k(),u=x(location);if(r!==c&&this.opts.shouldTrackHistoryChange.call(this,c,r)&&(this.path=c,this.pathname=u,e||this.opts.trackReplaceState)){this.eventId=l()(),t=function(){P.setLatestEventId(n.eventId)},"function"==typeof requestIdleCallback?requestIdleCallback((function(){return t()})):t();var a={isOnload:!1,referrer:o,eventId:this.eventId,href:self.location.href,hostname:self.location.hostname,pathname:this.pathname,absolutePath:U()};setTimeout((function(){try{n.sendPageview(a)}catch(e){console.warn("[AutoTracker]",e)}}),300)}},e}(),L=function(){function e(t){this.backoff=e.BACKOFF_PERIOD,this.isSyncing=!1,this.makePromise=t,this.sync=this.sync.bind(this)}return e.prototype.sync=(t=f(regeneratorRuntime.mark((function t(){var n,r,o,c=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!this.isSyncing){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,y.get();case 5:return n=t.sent,t.next=8,n.getEvents(-1);case 8:if(!((r=t.sent).data.length<=0)){t.next=11;break}return t.abrupt("return");case 11:return this.isSyncing=!0,t.next=14,this.makePromise(r.data).catch((function(e){console.warn("[Sender]",e)}));case 14:if(!(o=t.sent)||200!==o.status){t.next=22;break}return t.next=18,n.removeEvents(r.keys);case 18:this.backoff=e.BACKOFF_PERIOD,this.isSyncing=!1,t.next=26;break;case 22:return t.next=24,n.resetEvents(r.keys,r.data);case 24:this.backoff*=2,setTimeout((function(){c.isSyncing=!1,c.sync()}),this.backoff);case 26:t.next=32;break;case 28:t.prev=28,t.t0=t.catch(0),console.warn("[Sender]",t.t0),this.isSyncing=!1;case 32:case"end":return t.stop()}}),t,this,[[0,28]])}))),function(){return t.apply(this,arguments)}),e;var t}();L.BACKOFF_PERIOD=200;var G=function(){function e(t){this.syncPeriod=e.SYNC_PERIOD,this.isSyncing=!1,this.makePromise=t,this.sync=this.sync.bind(this),this.syncWhenIdle=this.syncWhenIdle.bind(this),this.setSyncThreadId=this.setSyncThreadId.bind(this),this.syncThreadId=setInterval(this.syncWhenIdle,this.syncPeriod)}var t=e.prototype;return t.setSyncThreadId=function(){this.syncThreadId&&clearInterval(this.syncThreadId),this.syncThreadId=setInterval(this.syncWhenIdle,this.syncPeriod)},t.syncWhenIdle=function(){window&&window.requestIdleCallback?window.requestIdleCallback(this.sync,{timeout:1e3}):this.sync()},t.sync=function(){var t=f(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!this.isSyncing){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,y.get();case 5:return n=t.sent,t.next=8,n.getEvents(e.BATCH_SIZE);case 8:if(!((r=t.sent).data.length<=0)){t.next=11;break}return t.abrupt("return");case 11:return this.isSyncing=!0,t.next=14,this.makePromise(r.data).catch((function(e){console.warn("[SenderWithInterval]",e)}));case 14:if(!(o=t.sent)||200!==o.status){t.next=21;break}return t.next=18,n.removeEvents(r.keys);case 18:this.syncPeriod>e.SYNC_PERIOD&&(this.syncPeriod=e.SYNC_PERIOD,this.setSyncThreadId()),t.next=25;break;case 21:return t.next=23,n.resetEvents(r.keys,r.data);case 23:this.syncPeriod*=2,this.setSyncThreadId();case 25:this.isSyncing=!1,t.next=32;break;case 28:t.prev=28,t.t0=t.catch(0),console.warn("[SenderWithInterval]",t.t0),this.isSyncing=!1;case 32:case"end":return t.stop()}}),t,this,[[0,28]])})));return function(){return t.apply(this,arguments)}}(),e}();G.SYNC_PERIOD=2e3,G.BATCH_SIZE=20;var F=s({},O.a,{liveish:""}),H=function(){function e(e){var t,n;this.options=e,this.endpoint=e.endpoint||(t=e.env.toLowerCase(),n=e.locale.toLowerCase(),"https://c-api-bit."+F[t]+"shopeemobile.com/"+n+"/tr"),this.pageId=l()(),this.isOnload=!0,void 0===e.appId&&(this.options.appId=0),(void 0===e.enableAutoTrack||e.enableAutoTrack)&&(this.autoTracker=new M),e.sendEventByInterval?this.sender=new G(this.post.bind(this)):this.sender=new L(this.post.bind(this))}var t,n,r=e.prototype;return r.updatePageId=function(){this.pageId=l()()},r.track=function(e,t){console.warn("[TrackingV3SDK] TrackingV3SDK.track is deprecated"),this.sync({data:{type:e,timestamp:Date.now(),info:t}})},r.sync=(n=f(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,e.prev=1,e.next=4,this.preProcess(n);case 4:return r=e.sent,e.next=7,y.get();case 7:return o=e.sent,e.next=10,o.addEvent(r);case 10:if(this.options.sendEventByInterval){e.next=13;break}return e.next=13,this.sender.sync();case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.warn("[TrackingV3SDK]",e.t0);case 18:case"end":return e.stop()}}),e,this,[[1,15]])}))),function(e){return n.apply(this,arguments)}),r.post=function(){var e=f(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.convertEvents(t);case 2:if(!((n=e.sent).length>0)){e.next=8;break}return e.next=6,this.addMeta(n);case 6:return r=e.sent,e.abrupt("return",this.options.fetch(this.endpoint,{method:"POST",headers:{"X-SPC-DF":r.uuid},body:JSON.stringify(r)}));case 8:return e.abrupt("return",Promise.resolve());case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r.addMeta=(t=f(regeneratorRuntime.mark((function e(t){var n,r,o,c,u,a,i,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.options,r=n.platform,o=n.ua,c=n.source,u=n.meta,a=n.getCookies,!(i=E(a)).SPC_F){e.next=6;break}e.t0=i.SPC_F,e.next=9;break;case 6:return e.next=8,P.GetSessionId();case 8:e.t0=e.sent;case 9:return d=e.t0,e.abrupt("return",{uuid:d,events:t,meta:s({},u,{platform:r,ua:o,source:c,locale:this.options.locale.toLowerCase(),cookies:i,userid:i.SPC_U&&"-"!==i.SPC_U?parseInt(i.SPC_U,10):null,pageid:this.pageId,app_id:this.options.appId})});case 11:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)}),r.convertEvents=function(){var e=f(regeneratorRuntime.mark((function e(t){var n,r,o,c,u,a,i,s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.options.v2ToV3ConverterPromise;case 2:n=e.sent,r=[],o=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=6;break}if(!(a>=c.length)){e.next=3;break}return e.abrupt("return","break");case 3:i=c[a++],e.next=10;break;case 6:if(!(a=c.next()).done){e.next=9;break}return e.abrupt("return","break");case 9:i=a.value;case 10:return t=i,e.next=13,n(t);case 13:e.sent.forEach((function(e){e.error||(s.postProcess(t,e),r.push(e))}));case 15:case"end":return e.stop()}}),e)})),c=t,u=Array.isArray(c),a=0,c=u?c:c[Symbol.iterator]();case 6:return e.delegateYield(o(),"t0",7);case 7:if("break"!==e.t0){e.next=10;break}return e.abrupt("break",12);case 10:e.next=6;break;case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r.preProcess=function(){var e=f(regeneratorRuntime.mark((function e(t){var n,r,o,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=P.getLatestEventId(),r=this.options.preProcess(this,t),e.next=4,P.getSession();case 4:return o=e.sent,r=s({},r,{session_id:o.sessionId,sequence_id:o.sequenceId,civ_id:n}),"v3"===t.type?t.info&&"view"===t.info.operation&&(c=t.info.page_type||"",P.setLatestViewPageType(c),r.params=N(this.isOnload),this.isOnload=!1):"pageState"===t.type&&t.info&&(u=t.info.pageType||"",P.setLatestViewPageType(u),r.params=N(this.isOnload),this.isOnload=!1),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r.postProcess=function(e,t){if(t.info&&void 0===t.info.usage_id&&(t.info.usage_id=0),t.session_id=e.session_id,t.sequence_id=e.sequence_id,t.civ_id=e.civ_id,t.info&&"auto_view"===t.info.operation&&this.options.matchRoutes){var n=this.options.matchRoutes,r=n(t.info.data.auto_pv_common.auto_pathname);r&&(t.info.auto_view_id="browser|"+r);var o=t.info.data.auto_pv_common.auto_refer;if(o&&o.startsWith("/")){var c=n(o);c&&(t.info.data.auto_pv_common.auto_refer="browser|"+c)}}if(e.params&&t.info.data){var u=t.info.data.view_common||{};u=s({},u,e.params),t.info.data.view_common=u}return t},e}(),V=n(3);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}["message_shortcuts","auto_reply","notification","translation_assistant","timestamp","performance_data","login_status","faq_assistant","seller_recom"].reduce((function(e,t){var n="click_".concat(t);return Y(Y({},e),{},o()({},n,{section:"",type:t}))}),{});var q=function(e){var t={};for(var n in e)for(var r in e[n])t=Y(Y({},t),{},o()({},r,{section:n,type:e[n][r]}));return t}({buyer_information_dropdown:{clickViewProfile:"more_view_profile",clickMoreReport:"more_report",clickBlockInProfile:"more_block"},buyer_information:{clickProfileMenus:"username_more_button",impressionProfileMenus:""},chat_more_dropdown:{clickClosedInProfile:"chat_more_close",markAsPinned:"pin_chat",markAsUnpinned:"unpin_chat",markAsRead:"mark_as_read",markAsUnread:"mark_as_unread",markAsDelete:"delete",markAsClose:"close",markAsRestart:"restart",markAsMute:"mute",markAsUnmute:"unmute"},conversation_window:{replyIcon:"reply_icon",deleteIcon:"delete_icon",repliedMessageBar:"replied_message_bar",repliedMessageBarCloseButton:"replied_message_bar_close_button",actionDragVideoInMediaPreivew:"",deletePreviewMediaInMediaPreivew:"",closePreviewMediaInMediaPreivew:"",impressionMediaInMediaPreivew:"preview_media",clickAddMediaInMediaPreivew:"preview_add_media",clickResendVideo:"resend_video",impressionVideoMessage:"video_play_thumbnail",impressionImageMessage:"qrcode_alert",clickCancelVideo:"cancel_video",clickAcceptOffer:"accept_offer",clickRejectOffer:"reject_offer",clickViewProductInMall:"view_in_mall",clickViewProductInSellerCenter:"view_in_seller_center",clickViewDetailInSellerCenter:"order_view_detail_button",clickHandleStoryMessage:"story",clickPlayInVideoMessage:"video_play_thumbnail",impressionResendVideo:"resend_video",clickPreviewQrcode:"open_qrcode_alert",clickOrderMessage:"order_message",clickProductMessage:"product_message",clickProductItemMessage:"item_collection_message",clickClaimVoucher:"voucher_claim",impressionPopupOrderCard:"popup_order_card",impressionOrderMessage:"order_message",impressionProductMessage:"product_message",impressionBundleDealCard:"bundle_deal_card",impressionVoucherCard:"claim_card",impressionProductListCard:"product_list_card",impressionCartCard:"cart_card",impressionRateCard:"rate_card",impressionProductCategoryCard:"product_category_card",impressionFlashSaleCard:"flash_sale_card",impressionOrderFromSourceInSpecialMessage:"order_message_source",impressionProductFromSourceInSpecialMessage:"product_message_source",clickVisitProductInSellerCenter:"product_message_source",clickVisitOrderInSellerCenter:"order_message_source",impressionOrClickUnreadBriefMessage:"latest_message",clickFlashSaleItemsDetail:"flash_sale_items",clickViewFlashSaleInMall:"flash_sale_button",clickViewBundleDealInMall:"bundle_deal_button",clickBundleDealDetail:"bundle_deal_items",clickCartButton:"cart_button",clickCartProduct:"cart_product",clickProductListMessage:"product_list_items",clickRateButton:"rate_button",clickRateProduct:"rate_product",impressionVoucherForReceiverInMinichat:"claim_card",impressionPopupProductCard:"popup_product_card"},conversation_window_pop_up:{clickCloseMediaPreviewModalFromX:"close_pop_up",clickCloseMediaPreviewModalFromBackground:"close_pop_up_background",clickPreviewLeftMedia:"left",clickPreviewRightMedia:"right",impressionAfterSwipeMedia:""},conversation_window_qrcode_pop_up:{impressionUnknowQrcode:"qrcode_alert",clickQrcodeToLearnMore:"learn_more",clickBackToChat:"back_to_chat",clickOpenQrcode:"open_image",impressionQrcode:""},conversation_window_video_pop_up:{actionFinishVideo:"video_end",clickSlideBar:"slide_bar",clickDownloadVideo:"download",clickVideoMinimize:"minimize",clickVideoExpand:"expand",impressionReloadVideoError:"reload_video",clickReloadVideo:"reload_video",clickStopVideo:"stop_video",clickRestartVideo:"restart_video"},voucher_information_tab:{impressionVoucherInWorkStation:"voucher_card"},order_information_tab:{clickViewOrderDetail:"order_view_detail",clickSendOrderLink:"order_sendlink"},chat_list_dropdown:{clickFilter:"filter",clickFilterAll:"filter_all",clickFilterUnreplied:"filter_unreplied",clickFilterUnread:"filter_unread",clickFilterPinned:"filter_pinned",clickFilterClosed:"filter_closed"},chat_list:{clickChatMore:"chat_more",clickChatUser:"chat_user"},shop_head_status_dropdown:{clickStatusOnlineButton:"status_online_button",clickStatusHangup:"status_hangup"},delete_confirmation_popup:{deleteConfirm:"delete_confirmation",cancelConfirm:"cancel_confirmation"},error_popup:{error:"error_popup"},product_card_pop_up:{clickSendPopupProductCard:"send",clickClosePopupProductCard:"close"},order_card_pop_up:{clickSendPopupOrderCard:"send",clickClosePopupOrderCard:"close"},order_card:{clickCopyOrderSN:"copy"}}),Q=Y({clickMuteInProfile:{section:"personal_information_dropdown",type:"mute"},clickUnmuteInProfile:{section:"personal_information_dropdown",type:"unmute"},impressionMuteInProfile:{section:"personal_information_dropdown",type:"mute"},impressionUnmuteInProfile:{section:"personal_information_dropdown",type:"unmute"},impressionSafetyTip:{section:"conversation_window",type:"safety_tip"},clickSafetyTipLearnMore:{section:"safety_tip",type:"learn_more"},clickAddFromTemplate:{section:"message_shortcuts_detail_tab",type:"add_message_template"},actionAdjustMessageShortcuts:{section:"message_shortcuts_tab",type:""},actionAdjustMessageShortcutsDetail:{section:"message_shortcuts_detail_tab",type:""},impressionClickableCard:{section:"conversation_window",type:"clickable_message"},clickClickableCard:{section:"conversation_window",type:"clickable_message"},clickRateCardSubmit:{section:"evaluation_card",type:"evaluation_submit_button"},impressionRateCard:{section:"evaluation_card",type:""},impressionRateCardFeedback:{section:"evaluation_card_feedback",type:""},clickTranslationFeedback:{section:"",type:"translation_feedback"},impressionFeedbackPopup:{section:"feedback_popup_window",type:"translation_feedback"},clickFeedbackSubmit:{section:"feedback_popup_window",type:"feedback_submit_button"},impressionFeedbackMore:{section:"feedback_popup_window",type:"feedback_tell_us_more"},clickSendMessageButton:{section:"",type:"send_message_button"},clickRestartButton:{section:"",type:"restart_conversation"},clickStickerInToolbar:{section:"",type:"sticker_button"},clickImageInToolbar:{section:"",type:"image_button"},clickVideoInToolbar:{section:"",type:"video_button"},clickSendRatingCard:{section:"",type:"appraise_button"},clickVisitSellerCenterFromShopList:{section:"",type:"visit_seller_center"},clickBackChatFromShopList:{section:"",type:"view_message"},clickShopHeadStatus:{section:"",type:"shop_head_status"},viewPage:{section:"",type:""},translationShowOriginal:{section:"",type:"show_original"},translationTryAgain:{section:"",type:"try_again"},clickOrdersInToolbar:{section:"",type:"orders_button"},clickProductsInToolbar:{section:"",type:"products_button"},clickMessageShotrtcutsInToolbar:{section:"",type:"message_shortcuts_button"},clickSearchNameResult:{section:"",type:"search_name_result"},clickSearchName:{type:"search_name"},impressionChatIcon:{type:"chat_icon"},clickChatIcon:{type:"chat_icon"},clickToWebchatButton:{type:"to_webchat_button"},clickFoldButton:{type:"fold_button"},clickUnFoldButton:{type:"unfold_button"},clickCloseButton:{type:"close_button"}},q),W=n(32);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var z,J=null,X=function(e){e&&(J=e)},Z=null,$=function(){var e,t;if(e=Object(V.checkIsScChat)(),window.BITrack)Z=window.BITrack;else{var n={appId:e?1:0,fetch:i.a,source:"pc",platform:"pc",ua:navigator?navigator.userAgent||navigator.vendor:"",getCookies:u.a.get,sendEventByInterval:!0,enableAutoTrack:!1};t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({locale:Object(V.getRuntimeRegion)(),env:Object(V.getRuntimeServer)()},n),z=new H(s({},t,{v2ToV3ConverterPromise:function(e){return[e]},preProcess:function(e,t){return t}})),Z=z.sync.bind(z)}},ee=function(e){var t=e.trackerName,n=e.data,r=e.operation,o=void 0===r?V.TrackerOperation.CLICK:r,c=e.page,u=e.shopId;Z||$();var a=function(e){var t=e.data,n=e.operation,r=e.page,o=e.shopId,c=Q[e.trackerName],u=c.section,a=void 0===u?"":u,i=c.type,s=void 0===i?"":i,d=J||{},f=d.shop_id,p=void 0===f?"":f,l=d.role,_=void 0===l?"":l,E=d.id,O=void 0===E?"":E,b=Object.assign({},{shopid:p||o,account_type:_||"shopee_user",account_id:O},t);return{page_section:a,target_type:s,page_type:r||"minichat_page",operation:n,data:n===V.TrackerOperation.IMPRESSION?{viewed_objects:[b]}:b}}({trackerName:t,data:n,operation:o,page:c,shopId:u});Z({data:{type:"v3",timestamp:Date.now(),info:a}})},te=[],ne=function e(t){for(;(t.timeRemaining()>5||t.didTimeout)&&te.length;){var n=te.shift();ee(n)}te.length&&Object(W.a)(e,{timeout:200})},re=function(e){te.push(e),Object(W.a)(ne,{timeout:200})}},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O}));var r=n(14),o=n.n(r),c=n(24),u=n.n(c),a=n(46),i=n.n(a),s=n(17),d=n.n(s),f=n(18),p=n.n(f),l=n(12),_=n.n(l),E=n(19),O=function(t){d()(r,t);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_()(e);if(t){var o=_()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}(r);function r(e){var t;return o()(this,r),(t=n.call(this)).name=t.constructor.name,t.error=e,t.handler=t.handler.bind(i()(t)),t}return u()(r,[{key:"handler",value:function(){var t="";switch(this.error.error_code){case"unauthorized_for_shop":t="forward.error.unauthorized_for_shop";break;case"target_subaccount_unauthorized_for_shop":t="forward.error.target_subaccount_unauthorized_for_shop";break;case"target_group_unauthorized_for_shop":t="forward.error.target_group_unauthorized_for_shop";break;case"conversation_not_belong_to_you":t="forward.error.conversation_not_belong_to_you";break;case"conversation_not_dispatch":t="forward.error.conversation_not_dispatch";break;case"cannot_move_conversation_to_yourself":t="forward.error.cannot_move_conversation_to_yourself";break;case"target_subaccount_not_online":t="forward.error.target_subaccount_not_online";break;case"subaccount_conversation_not_found":t="forward.error.subaccount_conversation_not_found";break;case"conversation_closed":t="forward.error.conversation_closed";break;case"user_have_delete_disable":t="forward.error.user_deleted";break;case"user_has_pending_order":t="conversation_detail.workstation.block_fail_modal.title"}return{show:!0,type:"fail",message:e(t)}}}]),r}(n.n(E)()(Error))}).call(this,n(27).t)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return _}));var r=n(14),o=n.n(r),c=n(24),u=n.n(c),a=n(17),i=n.n(a),s=n(18),d=n.n(s),f=n(12),p=n.n(f),l=n(19),_=function(t){i()(r,t);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}(r);function r(e){var t;return o()(this,r),(t=n.call(this)).name=t.constructor.name,t.error=e,t}return u()(r,[{key:"handler",value:function(){var t;switch(this.error.error_code){case"send_rating_card_too_frequently":t="conversation_detail.message_list.rating_card_duplicate";break;case"rating_card_rated":case"rating_card_expired":t="rate_card.submit.fail";break;default:t="common.server_error.warning_tips"}return{message:e(t),show:!0,type:"fail"}}}]),r}(n.n(l)()(Error))}).call(this,n(27).t)},function(e,t){e.exports=E},function(e,t){e.exports=O},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return P}));var r,o=n(1),c=n.n(o),u=n(23),a=n.n(u),i=n(2),s=n.n(i),d=n(0),f=n(7),p=n(5),l=n(9),_=n(43),E=n(4),O=n(8),b=n(15),S=n.n(b),h=n(16),v=n.n(h);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=s.a.mark(C),y=s.a.mark(P);function R(e,t){return Object(E.s)({parent:"conversation",resource:"conversation_info",params:{shop_id:t,message_id:e}})}function C(t){var n,r,o,c,u,i,O,b,h,T,g,y,C,P,D,A,I,j;return s.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.payload,r=n.msgId,o=n.shopId,s.next=3,Object(d.select)(p.P);case 3:return c=s.sent,u={},i=c.find((function(e){return e.id===r})),s.next=8,Object(d.put)(Object(f.C)({inlocation:!0}));case 8:if(!i){s.next=16;break}return O=i.conversation_id,s.next=12,Object(d.select)(Object(p.Cc)(O));case 12:return u=s.sent,s.next=15,Object(d.call)(_.b,{payload:{conversation:u,messageId:r,messageList:[]}});case 15:E.a.emit("scrollToMessage",r);case 16:if(u.id){s.next=58;break}return s.prev=17,s.next=20,Object(d.all)([Object(d.call)(R,r,o),S.a.call(v.a.fetchConversationMessagesSaga({payload:{msgId:r,shopId:o}}))]);case 20:if(b=s.sent,h=a()(b,2),T=h[0],g=h[1],y=(T||{}).conversation_info,C=void 0===y?[]:y,P=(g||{}).get_messages,0!==(D=void 0===P?[]:P).length&&D.find((function(e){return e.id===r}))){s.next=28;break}throw new Error("message_not_found");case 28:if(!(u=C[0])){s.next=39;break}return A=Object(l.d)("conversations",u),I=A.entities,s.next=33,S.a.put(v.a.deleteConversationMessageHash({payload:{conversationId:u.id}}));case 33:return s.next=35,Object(d.put)(Object(p.zg)({entities:I}));case 35:return s.next=37,Object(d.delay)(300);case 37:return s.next=39,Object(d.call)(_.b,{payload:{conversation:u,messageId:r,messageList:D}});case 39:s.next=58;break;case 41:s.prev=41,s.t0=s.catch(17),j=e("common.server_error.warning_tips"),s.t1=s.t0.message,s.next="message_not_found"===s.t1?47:"conversation_not_found"===s.t1?49:55;break;case 47:return j=e("message.server_error.not_found"),s.abrupt("break",56);case 49:return j=e("conversation.server_error.deleted"),s.next=52,Object(d.put)(Object(f.r)({conversationBeenDeleted:!0}));case 52:return s.next=54,Object(d.put)(Object(p.Ge)());case 54:case 55:return s.abrupt("break",56);case 56:return s.next=58,Object(d.call)(p.cf,Object(p.bf)({toast:{show:!0,type:"fail",message:j}}));case 58:case"end":return s.stop()}}),m,null,[[17,41]])}function P(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.takeLatest)(f.j,C);case 2:case"end":return e.stop()}}),y)}t.a=(r={},c()(r,O.a.UPDATE_LOCATION_MODE,(function(e,t){var n=t.payload.inlocation;return g(g({},e),{},{inlocation:n})})),c()(r,O.a.SET_CONVERSATION_BEEN_DELETED,(function(e,t){var n=t.payload.conversationBeenDeleted;return g(g({},e),{},{conversationBeenDeleted:n})})),r)}).call(this,n(27).t)},function(e,t,n){var r=n(62);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=n(13),o=n(9),c=n(3),u=c.MessageTypes.MSG_TYPE_TEXT,a=function(t,n,a){var i=t.all||[],s=t.sending||[],d=t.failed||[],f=i.length,p=null;if(f){for(var l=0,_=null;l<f&&!_;){var E=t.all[l];(_=Object(r.denormalize)(E,o.f,{messages:a}))&&_.type===c.MessageTypes.MSG_TYPE_SECURITY_TIPS&&(_=null),l++}_&&_.created_timestamp>new Date(n.last_message_time).getTime()/1e3&&(p=_)}if(!p){var O=n.latest_message_id,b=n.latest_message_content,S=n.latest_message_type,h=n.last_message_time,v=n.last_message_option,T=n.latest_message_source,g=n.last_message_time_nano;(p={id:O,content:b,type:S,message_option:v,source:T}).created_at=h||new Date(g/1e6)+""}var m=p,y=m.id,R=m.message_option,C=s.includes(y)?c.MessageSendStatus.SENDING:d.includes(y)?c.MessageSendStatus.FAILED:p.send_status?c.MessageSendStatus.SUCCEED:null;return Object(c.hasTargetMessageOption)(R,c.MessageOption.MSG_OPT_CENSORED_BLACKLIST)&&(C=c.MessageSendStatus.FAILED,p.type=u,p.content={text:e("common.blacklist.replaced_text")}),Object(c.hasTargetMessageOption)(R,c.MessageOption.MSG_OPT_CANCELORDER_WARNING_NOT_SEND)&&(C=c.MessageSendStatus.FAILED),p.send_status=C,p}}).call(this,n(27).t)},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return h})),n.d(t,"f",(function(){return v})),n.d(t,"d",(function(){return T})),n.d(t,"e",(function(){return g})),n.d(t,"g",(function(){return m})),n.d(t,"a",(function(){return y})),n.d(t,"i",(function(){return C})),n.d(t,"c",(function(){return P})),n.d(t,"h",(function(){return D}));var r,o,c=n(1),u=n.n(c),a=n(2),i=n.n(a),s=n(6),d=n(30),f=n(0),p=n(35);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=i.a.mark(y),O=i.a.mark(R),b=i.a.mark(C),S=Object(s.createActions)((r={},u()(r,p.a.FETCH_SHOP_TRANSLATION_SETTINGS,(function(e){return{shopId:e.shopId}})),u()(r,p.a.UPDATE_SHOP_TRANSLATION_SETTINGS,(function(e){return{settings:e.settings}})),u()(r,p.a.UPDATE_FETCH_STATUS,(function(e){return{status:e.status}})),u()(r,p.a.UPDATE_SETTING_PREFERENCE_STATUS,(function(e){return{status:e.status}})),u()(r,p.a.UPDATE_SHOP_TRANSLATION_SETTINGS_RECORD,(function(e){return{shopId:e.shopId,source:e.source,translationPreference:e.translationPreference,autoTranslationStatus:e.autoTranslationStatus,inTranslationFeedbackWhitelist:e.inTranslationFeedbackWhitelist}})),r)),h=S.fetchShopTranslationSettings,v=S.updateShopTranslationSettings,T=S.updateFetchStatus,g=S.updateSettingPreferenceStatus,m=S.updateShopTranslationSettingsRecord;function y(e){var t,n,r,o,c,u;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload.shopId,a.prev=1,a.next=4,Object(f.put)(T({status:"loading"}));case 4:return a.next=6,Object(f.call)(d.fetch,{subServer:"workbenchapi",parent:"shop",resource:"setting",params:{shop_id:t}});case 6:return n=a.sent,r=n.source,o=n.translation_preference,c=n.auto_translation_status,u=n.in_translation_feedback_whitelist,a.next=13,Object(f.put)(T({status:"succeed"}));case 13:return a.next=15,Object(f.put)(m({shopId:t,source:r,translationPreference:o,autoTranslationStatus:c,inTranslationFeedbackWhitelist:u}));case 15:a.next=21;break;case 17:return a.prev=17,a.t0=a.catch(1),a.next=21,Object(f.put)(T({status:"failed"}));case 21:case"end":return a.stop()}}),E,null,[[1,17]])}function R(t){var n,r,o,c;return i.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.payload.settings,u.prev=1,u.next=4,Object(f.put)(Object(d.reportRequested)({event_time:(Date.parse(new Date)/1e3).toString(),url:window.location.href}));case 4:return u.next=6,Object(f.put)(g({status:""}));case 6:return r=n.shop_id,o=n.auto_translation_status,c=n.translation_preference,u.next=9,Object(f.call)(d.fetch,{method:"PUT",subServer:"workbenchapi",parent:"shop",resource:"setting",payload:JSON.stringify(n)});case 9:return u.next=11,Object(f.put)(m({shopId:r,translationPreference:c,autoTranslationStatus:o}));case 11:return u.next=13,Object(f.call)(d.setToastInformationSaga,Object(d.setToastInformation)({toast:{show:!0,type:"success",message:e("tips.set_preference_succeed")}}));case 13:u.next=21;break;case 15:return u.prev=15,u.t0=u.catch(1),u.next=19,Object(f.put)(g({status:"failed"}));case 19:return u.next=21,Object(f.call)(d.setToastInformationSaga,Object(d.setToastInformation)({toast:{show:!0,type:"fail",message:e("tips.set_preference_failed")}}));case 21:case"end":return u.stop()}}),O,null,[[1,15]])}function C(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.takeEvery)(h,y);case 2:return e.next=4,Object(f.takeEvery)(v,R);case 4:case"end":return e.stop()}}),b)}var P=Object(s.handleActions)((o={},u()(o,p.a.UPDATE_SHOP_TRANSLATION_SETTINGS_RECORD,(function(e,t){var n=t.payload,r=n.shopId,o=n.source,c=n.translationPreference,u=n.autoTranslationStatus,a=n.inTranslationFeedbackWhitelist,i=_({},e.translationSettings),s=i[r]||{};return i[r]=_(_({},s),{},{translationPreference:c,autoTranslationStatus:u}),o&&(i[r].source=o),a&&(i[r].inTranslationFeedbackWhitelist=a),_(_({},e),{},{translationSettings:i})})),u()(o,p.a.UPDATE_FETCH_STATUS,(function(e,t){var n=t.payload.status;return _(_({},e),{},{fetchSettingsStatus:n})})),u()(o,p.a.UPDATE_SETTING_PREFERENCE_STATUS,(function(e,t){var n=t.payload.status;return _(_({},e),{},{updateStatus:n})})),o),{translationSettings:{},fetchSettingsStatus:"",updateStatus:""}),D=[C]}).call(this,n(27).t)},function(e,t){e.exports=b},function(e,t){e.exports=S},function(e,t){e.exports=h},function(e,t){e.exports=v},function(e){e.exports=JSON.parse('{"a":{"test":"test.","stable":"test-stable.","staging":"staging.","liveish":"live-test.","live":"","sandbox":"sandbox.","uat":"uat."}}')},function(e,t){e.exports=T},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(2),o=n.n(r),c=n(0),u=n(37),a=n(33),i=o.a.mark(d),s=o.a.mark(f);function d(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.put)(Object(a.b)({toast:Object(u.a)(!0,{message:e("common.successful_copied")})}));case 2:case"end":return t.stop()}}),i)}function f(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.takeEvery)(a.a,d);case 2:case"end":return e.stop()}}),s)}}).call(this,n(27).t)},function(e,t,n){var r=n(94);e.exports=function(e,t){if(null==e)return{};var n,o,c=r(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return P}));var r=n(1),o=n.n(r),c=n(74),u=n.n(c),a=n(2),i=n.n(a),s=n(5),d=n(15),f=n.n(d),p=n(16),l=n.n(p),_=n(4),E=n(9),O=n(3),b=n(0),S=n(11),h=i.a.mark(C),v=i.a.mark(P);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,u=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){a=!0,c=e},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw c}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R=function(e,t){var n,r,o=t.conversation,c=t.read,u=t.pinned,a=t.offer,i=t.status,d=t.userId,f=t.flag,p=t.cardId,l=t.mute;switch(e){case"conversations":n=f?{flag:f}:i?{status:i}:c?{last_read_message_id:o.latest_message_id,unread_count:0}:{unread_count:o.unread_count+1},void 0!==u&&(n={pinned:u}),void 0!==l&&(n={mute:l}),r=o.id;break;case"offers":n={status:i},r=a.id;break;case"users":n={distribution_status:i},r=d;break;case"rateCards":n={status:i},r=p}return Object(s.Og)({name:e,id:r,record:n})};function C(t){var n,r,o,c,a,d,p,v,T,y,C,P,D,A,I,j,w,N,x,k,U,M,L,G,F,H,V,B,Y,q,Q,W,K,z,J,X,Z,$,ee,te,ne,re,oe,ce,ue,ae,ie,se,de,fe,pe,le,_e,Ee,Oe,be,Se,he,ve,Te,ge,me,ye,Re,Ce;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.type,r=t.payload,i.next=3,Object(b.select)(s.yb);case 3:return o=i.sent,i.next=6,Object(b.select)(s.cb);case 6:if(c=i.sent,"notification"!==n){i.next=276;break}if(d=(a=r).type,p=a.user_id,v=a.from_id,T=a.content,y=T.flag,C=T.status,P=T.card_id,D=T.offer_id,A=T.shop_id,I=T.request_id,j=T.conversation_id,w=T.conversation_ids,N=void 0===w?[]:w,x=T.is_main_agent_change,k=T.msg_id,U=T.faq_session_id,M=T.expiry_time,L={},G={},!j){i.next=17;break}return i.next=14,Object(b.select)(Object(s.Cc)(j));case 14:L=i.sent,i.next=22;break;case 17:if(!D){i.next=22;break}return i.next=20,Object(b.select)(s.ee);case 20:F=i.sent,G=F[D];case 22:return H=L&&o===p,i.next=25,Object(b.select)(s.xc);case 25:V=i.sent,B="Unread"===V,i.t0=d,i.next=i.t0===S.g.MARK_AS_READ?30:i.t0===S.g.MARK_AS_UNREAD?59:i.t0===S.g.DELETE_CONVERSATION?67:i.t0===S.g.UPDATE_OFFER_STATUS?86:i.t0===S.g.UPDATE_CONVERSATION?90:i.t0===S.g.UPDATE_USER_STATUS?118:i.t0===S.g.UPDATE_CONVERSATION_FLAG?125:i.t0===S.g.FORCE_LOGOUT?129:i.t0===S.g.UPDATE_RATING_CARD_STATUS?132:i.t0===S.g.PIN_CONVERSATION?135:i.t0===S.g.UNPIN_CONVERSATION?138:i.t0===S.g.MASS_READ?144:i.t0===S.g.MASS_UNREAD?154:i.t0===S.g.MASS_PIN?164:i.t0===S.g.MASS_UNPIN?170:i.t0===S.g.MASS_ACTIVATE?176:i.t0===S.g.MASS_CLOSE?205:i.t0===S.g.VIDEO_UPLOAD?224:i.t0===S.g.MARK_AS_UNREPLIED||i.t0===S.g.MARK_AS_REPLIED?233:i.t0===S.g.CHAT_DELETE_MSG?241:i.t0===S.g.FAQ_SESSION_UPDATE?262:i.t0===S.g.MUTE_CONVERSATION?266:i.t0===S.g.UNMUTE_CONVERSATION?270:274;break;case 30:if(!H){i.next=58;break}return i.next=33,Object(b.select)((function(e){return e.conversationReducer}));case 33:return Y=i.sent,q=Y.conversationMark,Q="api"===q[j],i.next=38,Object(b.put)(Object(s.wd)({conversationId:j,markType:Q?"":"socket"}));case 38:return i.next=40,Object(b.select)(s.te);case 40:if(W=i.sent,-1===(K=W.findIndex((function(e){return e===I})))){i.next=51;break}return Object(_.l)(_.j.READ_SOCKET,Date.now()-I),i.next=46,Object(b.select)(s.Td);case 46:return z=i.sent,K>0&&(z+=K),W=W.slice(K+1),i.next=51,Object(b.put)(Object(s.Mg)({requestIds:W,count:z}));case 51:if(Q){i.next=58;break}if(!L.unread_count){i.next=58;break}return i.next=56,Object(b.put)(R("conversations",{conversation:L,read:!0}));case 56:return i.next=58,Object(b.put)(Object(s.Zg)({type:s.bg.MARK_AS_READ,conversation:L}));case 58:return i.abrupt("break",274);case 59:if(B&&(H=L&&o===p),!H){i.next=66;break}if(0!==L.unread_count){i.next=64;break}return i.next=64,Object(b.put)(R("conversations",{conversation:L,read:!1}));case 64:return i.next=66,Object(b.put)(Object(s.Zg)({type:s.bg.MARK_AS_UNREAD,conversation:L}));case 66:return i.abrupt("break",274);case 67:return i.next=69,f.a.put(l.a.deleteConversationMessageHash({payload:{conversationId:j},isLazy:!0}));case 69:return i.next=71,Object(b.put)(Object(s.ze)({conversationId:j}));case 71:return i.next=73,Object(b.put)(Object(s.Ib)({conversationId:j}));case 73:return i.next=75,Object(b.put)(Object(s.Kb)({name:"conversations",id:j}));case 75:return i.next=77,Object(b.select)(s.F);case 77:if(!(i.sent.length<20)){i.next=81;break}return i.next=81,Object(b.put)(Object(s.cc)({direction:"older"}));case 81:if(!L){i.next=85;break}return i.next=85,Object(b.put)(Object(s.Zg)({type:s.bg.DELETE_CONVERSATION,conversation:L}));case 85:return i.abrupt("break",274);case 86:if(!G||!C||C===O.OfferStatus.PENDING){i.next=89;break}return i.next=89,Object(b.put)(R("offers",{offer:G,status:C}));case 89:return i.abrupt("break",274);case 90:if(!H){i.next=117;break}return J=L,u()(J),i.next=95,Object(b.put)(R("conversations",{conversation:L,status:C}));case 95:if("closed"!==C){i.next=108;break}return i.next=98,Object(b.put)(Object(s.v)({conversationId:j}));case 98:return i.next=100,Object(b.put)(Object(s.ze)({conversationId:j}));case 100:return i.next=102,f.a.put(l.a.clearChatRoomRefer({payload:{conversationId:j}}));case 102:return i.next=104,Object(b.put)(Object(s.Zg)({type:s.bg.CLOSE_CONVERSATION,conversation:L}));case 104:return i.next=106,Object(b.put)(R("conversations",{conversation:L,read:!0}));case 106:i.next=117;break;case 108:if("activated"!==C){i.next=117;break}return c===j&&f.a.put(l.a.fetchMessagesRequested({payload:{conversationId:j,reset:!0},isLazy:!0})),i.next=113,Object(b.select)(s.F);case 113:if(!i.sent.includes(j)){i.next=117;break}return i.next=117,Object(b.put)(Object(s.Dc)({conversationId:j}));case 117:return i.abrupt("break",274);case 118:if(o!==p){i.next=122;break}if(!x){i.next=122;break}return i.next=122,Object(b.put)(Object(s.Bf)({type:"CONFIRM_MODAL",title:e("common.confirm"),additions:{content:{key:"modal.content.switch_status",vars:{status:e("common.".concat("working"===C?"online":"offline"))}}},actions:{confirm:{label:e("common.ok")}}}));case 122:return i.next=124,Object(b.put)(R("users",{userId:p,status:C}));case 124:return i.abrupt("break",274);case 125:if(!H){i.next=128;break}return i.next=128,Object(b.put)(R("conversations",{conversation:L,flag:y}));case 128:return i.abrupt("break",274);case 129:return i.next=131,Object(b.call)(s.qd);case 131:return i.abrupt("break",274);case 132:return i.next=134,Object(b.put)(R("rateCards",{cardId:P,status:C}));case 134:return i.abrupt("break",274);case 135:return i.next=137,Object(b.put)(R("conversations",{conversation:L,pinned:!0}));case 137:return i.abrupt("break",274);case 138:return i.next=140,Object(b.put)(R("conversations",{conversation:L,pinned:!1}));case 140:if(c!==j||"Pinned"!==V){i.next=143;break}return i.next=143,Object(b.put)(Object(s.Ge)());case 143:return i.abrupt("break",274);case 144:if(!(X=N.length)){i.next=153;break}return Z={},N.forEach((function(e){Z[e]={unread_count:0}})),i.next=150,Object(b.put)(Object(s.j)({name:"conversations",records:Z}));case 150:return $=Object.assign({},{count:X,type:s.bg.MASS_READ},A?{shopId:A}:{}),i.next=153,Object(b.put)(Object(s.Zg)($));case 153:return i.abrupt("break",274);case 154:if(ee=N.length,!N.length){i.next=163;break}return te={},N.forEach((function(e){te[e]={unread_count:1}})),i.next=160,Object(b.put)(Object(s.j)({name:"conversations",records:te}));case 160:return ne=Object.assign({},{count:ee,type:s.bg.MASS_UNREAD},A?{shopId:A}:{}),i.next=163,Object(b.put)(Object(s.Zg)(ne));case 163:return i.abrupt("break",274);case 164:if(!N.length){i.next=169;break}return re={},N.forEach((function(e){re[e]={pinned:!0}})),i.next=169,Object(b.put)(Object(s.j)({name:"conversations",records:re}));case 169:return i.abrupt("break",274);case 170:if(!N.length){i.next=175;break}return oe={},N.forEach((function(e){oe[e]={pinned:!1}})),i.next=175,Object(b.put)(Object(s.j)({name:"conversations",records:oe}));case 175:return i.abrupt("break",274);case 176:return i.next=178,Object(b.put)(Object(s.cc)({direction:"latest"}));case 178:if(!N.length){i.next=204;break}ce={},ue=m(N),i.prev=182,ue.s();case 184:if((ae=ue.n()).done){i.next=192;break}if(ie=ae.value,ce[ie]={status:"activated"},c!==ie){i.next=190;break}return i.next=190,f.a.put(l.a.fetchMessagesRequested({payload:{conversationId:c,reset:!0},isLazy:!0}));case 190:i.next=184;break;case 192:i.next=197;break;case 194:i.prev=194,i.t1=i.catch(182),ue.e(i.t1);case 197:return i.prev=197,ue.f(),i.finish(197);case 200:return i.next=202,Object(b.put)(Object(s.j)({name:"conversations",records:ce}));case 202:return i.next=204,Object(b.call)(handleNotifyBatchConversation);case 204:return i.abrupt("break",274);case 205:if(!N.length){i.next=223;break}return se={},de=[],i.next=211,Object(b.select)(Object(s.Fc)(N));case 211:return fe=i.sent,pe=fe.filter((function(e){return(null==e?void 0:e.unread_count)>0})),N.forEach((function(e){se[e]={status:"closed",unread_count:0},f.a.put(l.a.clearChatRoomRefer({payload:{conversationId:e}})),de.push(Object(b.put)(Object(s.v)({conversationId:e})))})),i.next=216,Object(b.all)(de);case 216:return i.next=218,Object(b.put)(Object(s.j)({name:"conversations",records:se}));case 218:return le=Object.assign({},{count:pe.length,type:s.bg.MASS_CLOSE},A?{shopId:A}:{}),i.next=221,Object(b.put)(Object(s.Zg)(le));case 221:return i.next=223,Object(b.put)(Object(s.i)({conversationIds:N}));case 223:return i.abrupt("break",274);case 224:return _e=r.content,i.next=227,Object(b.select)(Object(s.Se)(_e.vid));case 227:return Ee=i.sent,i.next=230,Object(b.select)(Object(s.Re)(Ee));case 230:return i.sent.status||(Oe=_e.status,be=_e.vid,"successful"===Oe&&(Se=performance.getEntriesByName("REPORT_UPLOAD_".concat(be),"mark")[0])&&(performance.mark("SERVICE_DONE_".concat(be)),he=performance.getEntriesByName("SERVICE_DONE_".concat(be))[0].startTime-Se.startTime,performance.clearMarks("REPORT_UPLOAD_".concat(be)),performance.clearMarks("SERVICE_DONE_".concat(be)),Object(_.l)(_.j.SERVICE_DONE,he)),f.a.put(l.a.updateVideoInfo({payload:{id:Ee,info:{status:Oe,uploadResult:_e}}}))),i.abrupt("break",274);case 233:if("Unreplied"!==V){i.next=240;break}return i.next=236,Object(b.select)(s.F);case 236:if(!i.sent.includes(j)){i.next=240;break}return i.next=240,Object(b.put)(Object(s.Og)({name:"conversations",id:j,record:{unreplied:d===S.g.MARK_AS_UNREPLIED}}));case 240:return i.abrupt("break",274);case 241:return i.next=243,Object(b.select)(Object(s.Nc)(k));case 243:if(!(ve=i.sent)){i.next=256;break}return Te=ve.message_option|O.MessageOption.MSG_OPT_DELETE,ge=Object(E.d)("messages",g(g({},ve),{},{message_option:Te})),me=ge.entities,i.next=249,Object(b.put)(Object(s.zg)({entities:me}));case 249:if(![O.MessageTypes.MSG_TYPE_VIDEO,O.MessageTypes.MSG_TYPE_IMAGE,O.MessageTypes.MSG_TYPE_IMAGE_WITH_TEXT].includes(ve.type)){i.next=256;break}return i.next=252,Object(b.select)((function(e){return e.mediaPreviewModalReducer&&e.mediaPreviewModalReducer.currentPreviewMediaId}));case 252:if(i.sent!==k){i.next=256;break}return i.next=256,Object(b.put)(Object(s.y)());case 256:if(!L||L.latest_message_id!==k){i.next=261;break}return ye=L.last_message_option|O.MessageOption.MSG_OPT_DELETE,Re=Object(E.d)("conversations",g(g({},L),{},{last_message_option:ye,latest_message_content:{text:""},latest_message_from_id:v})),Ce=Re.entities,i.next=261,Object(b.put)(Object(s.zg)({entities:Ce}));case 261:return i.abrupt("break",274);case 262:if(!H){i.next=265;break}return i.next=265,Object(b.put)(Object(s.hc)({faqSessionId:U,sessionExpiryTime:M,conversationId:j}));case 265:return i.abrupt("break",274);case 266:if(!H){i.next=269;break}return i.next=269,Object(b.put)(R("conversations",{conversation:L,mute:!0}));case 269:return i.abrupt("break",274);case 270:if(!H){i.next=273;break}return i.next=273,Object(b.put)(R("conversations",{conversation:L,mute:!1}));case 273:return i.abrupt("break",274);case 274:i.next=279;break;case 276:if("message"!==n){i.next=279;break}return i.next=279,Object(b.call)(S.f,{payload:r,type:O.ConversationTypeEnum.Normal});case 279:case"end":return i.stop()}}),h,null,[[182,194,197,200]])}function P(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(b.call)(C,e);case 2:case"end":return t.stop()}}),v)}}).call(this,n(27).t)},function(e,t){e.exports=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=g},function(e,t){e.exports=m},function(e,t){e.exports=y},function(e,t){e.exports=R},function(e,t){e.exports=C},function(e,t,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,c=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var u=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,r){function o(){void 0!==c&&e.removeListener("error",c),n([].slice.call(arguments))}var c;"error"!==t&&(c=function(n){e.removeListener(t,o),r(n)},e.once("error",c)),e.once(t,o)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var i=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function d(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var o,c,u,a;if(s(n),void 0===(c=e._events)?(c=e._events=Object.create(null),e._eventsCount=0):(void 0!==c.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),c=e._events),u=c[t]),void 0===u)u=c[t]=n,++e._eventsCount;else if("function"==typeof u?u=c[t]=r?[n,u]:[u,n]:r?u.unshift(n):u.push(n),(o=d(e))>0&&u.length>o&&!u.warned){u.warned=!0;var i=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");i.name="MaxListenersExceededWarning",i.emitter=e,i.type=t,i.count=u.length,a=i,console&&console.warn&&console.warn(a)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=p.bind(r);return o.listener=n,r.wrapFn=o,o}function _(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):O(o,o.length)}function E(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function O(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(e){if("number"!=typeof e||e<0||u(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");i=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||u(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return d(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var u;if(t.length>0&&(u=t[0]),u instanceof Error)throw u;var a=new Error("Unhandled error."+(u?" ("+u.message+")":""));throw a.context=u,a}var i=o[e];if(void 0===i)return!1;if("function"==typeof i)c(i,this,t);else{var s=i.length,d=O(i,s);for(n=0;n<s;++n)c(d[n],this,t)}return!0},a.prototype.addListener=function(e,t){return f(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return f(this,e,t,!0)},a.prototype.once=function(e,t){return s(t),this.on(e,l(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,l(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,o,c,u;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,c=n.length-1;c>=0;c--)if(n[c]===t||n[c].listener===t){u=n[c].listener,o=c;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,u||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,c=Object.keys(n);for(r=0;r<c.length;++r)"removeListener"!==(o=c[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return _(this,e,!0)},a.prototype.rawListeners=function(e){return _(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):E.call(e,t)},a.prototype.listenerCount=E,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t){e.exports=P},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,c=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return c}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",u=r.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(e){a=function(e,t,n){return e[t]=n}}function i(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,c=Object.create(o.prototype),u=new m(r||[]);return c._invoke=function(e,t,n){var r="suspendedStart";return function(o,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw c;return{value:void 0,done:!0}}for(n.method=o,n.arg=c;;){var u=n.delegate;if(u){var a=v(u,n);if(a){if(a===d)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var i=s(e,t,n);if("normal"===i.type){if(r=n.done?"completed":"suspendedYield",i.arg===d)continue;return{value:i.arg,done:n.done}}"throw"===i.type&&(r="completed",n.method="throw",n.arg=i.arg)}}}(e,n,u),c}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=i;var d={};function f(){}function p(){}function l(){}var _={};_[o]=function(){return this};var E=Object.getPrototypeOf,O=E&&E(E(y([])));O&&O!==t&&n.call(O,o)&&(_=O);var b=l.prototype=f.prototype=Object.create(_);function S(e){["next","throw","return"].forEach((function(t){a(e,t,(function(e){return this._invoke(t,e)}))}))}function h(e,t){var r;this._invoke=function(o,c){function u(){return new t((function(r,u){!function r(o,c,u,a){var i=s(e[o],e,c);if("throw"!==i.type){var d=i.arg,f=d.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,u,a)}),(function(e){r("throw",e,u,a)})):t.resolve(f).then((function(e){d.value=e,u(d)}),(function(e){return r("throw",e,u,a)}))}a(i.arg)}(o,c,r,u)}))}return r=r?r.then(u,u):u()}}function v(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,v(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function g(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function m(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function y(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:R}}function R(){return{value:void 0,done:!0}}return p.prototype=b.constructor=l,l.constructor=p,p.displayName=a(l,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,a(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},S(h.prototype),h.prototype[c]=function(){return this},e.AsyncIterator=h,e.async=function(t,n,r,o,c){void 0===c&&(c=Promise);var u=new h(i(t,n,r,o),c);return e.isGeneratorFunction(n)?u:u.next().then((function(e){return e.done?e.value:u.next()}))},S(b),a(b,u,"Generator"),b[o]=function(){return this},b.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=y,m.prototype={constructor:m,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(g),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return u.type="throw",u.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o],u=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var a=n.call(c,"catchLoc"),i=n.call(c,"finallyLoc");if(a&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(a){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var c=o;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var u=c?c.completion:{};return u.type=e,u.arg=t,c?(this.method="next",this.next=c.finallyLoc,d):this.complete(u)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),g(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;g(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:y(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){var r=n(62);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(53),o=n(91);function c(t,n,u){return o()?(e.exports=c=Reflect.construct,e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=c=function(e,t,n){var o=[null];o.push.apply(o,t);var c=new(Function.bind.apply(e,o));return n&&r(c,n.prototype),c},e.exports.default=e.exports,e.exports.__esModule=!0),c.apply(null,arguments)}e.exports=c,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,o={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(o[n]=e[n]);return o},e.exports.default=e.exports,e.exports.__esModule=!0}]))}}]);